<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: tutorials/roofit/rf702_efficiencyfit_2D.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0d353d24d0afa59909efab6593124f6d.html">tutorials</a></li><li class="navelem"><a class="el" href="dir_c1645e2e0f5b438aad2fc144aee2b7a4.html">roofit</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">rf702_efficiencyfit_2D.C File Reference<div class="ingroups"><a class="el" href="group__Tutorials.html">Tutorials</a> &raquo; <a class="el" href="group__tutorial__roofit.html">RooFit Tutorials</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p> <a href="http://nbviewer.jupyter.org/url/root.cern.ch/doc/master/notebooks/rf702_efficiencyfit_2D.C.nbconvert.ipynb" target="_blank"><img src= notebook.gif alt="View in nbviewer" style="height:1em" ></a> <a href="https://cern.ch/swanserver/cgi-bin/go?projurl=https://root.cern.ch/doc/master/notebooks/rf702_efficiencyfit_2D.C.nbconvert.ipynb" target="_blank"><img src="http://swanserver.web.cern.ch/swanserver/images/badge_swan_white_150.png"  alt="Open in SWAN" style="height:1em" ></a>  Speecial p.d.f. </p>
<p>'s: unbinned maximum likelihood fit of an efficiency eff(x) function to a dataset D(x,cut), where cut is a category encoding a selection whose</p>
<div class="image">
<img src="pict1_rf702_efficiencyfit_2D.C.png" alt="pict1_rf702_efficiencyfit_2D.C.png" width="1200"/>
</div>
 <div class="fragment"><div class="line"></div><div class="line"></div><div class="line">[1mRooFit v3.60 -- Developed by Wouter Verkerke and David Kirkby[0m </div><div class="line">                Copyright (C) 2000-2013 NIKHEF, University of California &amp; Stanford University</div><div class="line">                All rights reserved, please read http://roofit.sourceforge.net/license.txt</div><div class="line"></div><div class="line">[#0] WARNING:Generation -- RooAcceptReject::ctor(effPdf_Int[]_Norm[cut]) WARNING: performing accept/reject sampling on a p.d.f in 2 dimensions without prior knowledge on maximum value of p.d.f. Determining maximum value by taking 200000 trial samples. If p.d.f contains sharp peaks smaller than average distance between trial sampling points these may be missed and p.d.f. may be sampled incorrectly.</div><div class="line">[#0] WARNING:Generation -- RooAcceptReject::ctor(effPdf_Int[]_Norm[cut]): WARNING: 200000 trial samples requested by p.d.f for 2-dimensional accept/reject sampling, this may take some time</div><div class="line">[#1] INFO:Minization -- RooMinimizer::optimizeConst: activating const optimization</div><div class="line"> **********</div><div class="line"> **    1 **SET PRINT           1</div><div class="line"> **********</div><div class="line"> **********</div><div class="line"> **    2 **SET NOGRAD</div><div class="line"> **********</div><div class="line"> PARAMETER DEFINITIONS:</div><div class="line">    NO.   NAME         VALUE      STEP SIZE      LIMITS</div><div class="line">     1 ax           6.00000e-01  1.00000e-01    0.00000e+00  1.00000e+00</div><div class="line">     2 ay           2.00000e-01  1.00000e-01    0.00000e+00  1.00000e+00</div><div class="line">     3 cx          -1.00000e+00  2.00000e+00   -1.00000e+01  1.00000e+01</div><div class="line">     4 cy          -1.00000e+00  2.00000e+00   -1.00000e+01  1.00000e+01</div><div class="line"> **********</div><div class="line"> **    3 **SET ERR         0.5</div><div class="line"> **********</div><div class="line"> **********</div><div class="line"> **    4 **SET PRINT           1</div><div class="line"> **********</div><div class="line"> **********</div><div class="line"> **    5 **SET STR           1</div><div class="line"> **********</div><div class="line"> NOW USING STRATEGY  1: TRY TO BALANCE SPEED AGAINST RELIABILITY</div><div class="line"> **********</div><div class="line"> **    6 **MIGRAD        2000           1</div><div class="line"> **********</div><div class="line"> FIRST CALL TO USER FUNCTION AT NEW START POINT, WITH IFLAG=4.</div><div class="line"> START MIGRAD MINIMIZATION.  STRATEGY  1.  CONVERGENCE WHEN EDM .LT. 1.00e-03</div><div class="line"> FCN=5447.45 FROM MIGRAD    STATUS=INITIATE       16 CALLS          17 TOTAL</div><div class="line">                     EDM= unknown      STRATEGY= 1      NO ERROR MATRIX       </div><div class="line">  EXT PARAMETER               CURRENT GUESS       STEP         FIRST   </div><div class="line">  NO.   NAME      VALUE            ERROR          SIZE      DERIVATIVE </div><div class="line">   1  ax           6.00000e-01   1.00000e-01   2.05758e-01   2.07611e+01</div><div class="line">   2  ay           2.00000e-01   1.00000e-01   2.57889e-01   6.35766e+01</div><div class="line">   3  cx          -1.00000e+00   2.00000e+00   2.02430e-01   3.98906e+02</div><div class="line">   4  cy          -1.00000e+00   2.00000e+00   2.02430e-01  -1.37299e+02</div><div class="line">                               ERR DEF= 0.5</div><div class="line"> MIGRAD MINIMIZATION HAS CONVERGED.</div><div class="line"> MIGRAD WILL VERIFY CONVERGENCE AND ERROR MATRIX.</div><div class="line"> COVARIANCE MATRIX CALCULATED SUCCESSFULLY</div><div class="line"> FCN=5441.98 FROM MIGRAD    STATUS=CONVERGED      79 CALLS          80 TOTAL</div><div class="line">                     EDM=2.10777e-05    STRATEGY= 1      ERROR MATRIX ACCURATE </div><div class="line">  EXT PARAMETER                                   STEP         FIRST   </div><div class="line">  NO.   NAME      VALUE            ERROR          SIZE      DERIVATIVE </div><div class="line">   1  ax           6.10442e-01   9.85749e-03   8.90018e-04   1.06907e-01</div><div class="line">   2  ay           2.06325e-01   1.06819e-02   9.76478e-04   2.34590e-01</div><div class="line">   3  cx          -1.13975e+00   5.97322e-02   2.77681e-04   6.58278e-02</div><div class="line">   4  cy          -5.30427e-01   2.15761e-01   8.34515e-04  -2.03235e-01</div><div class="line">                               ERR DEF= 0.5</div><div class="line"> EXTERNAL ERROR MATRIX.    NDIM=  25    NPAR=  4    ERR DEF=0.5</div><div class="line">  9.718e-05 -2.419e-05 -2.246e-04  2.779e-05 </div><div class="line"> -2.419e-05  1.141e-04 -2.514e-05  1.447e-03 </div><div class="line"> -2.246e-04 -2.514e-05  3.568e-03  1.894e-05 </div><div class="line">  2.779e-05  1.447e-03  1.894e-05  4.656e-02 </div><div class="line"> PARAMETER  CORRELATION COEFFICIENTS  </div><div class="line">       NO.  GLOBAL      1      2      3      4</div><div class="line">        1  0.50176   1.000 -0.230 -0.381  0.013</div><div class="line">        2  0.68607  -0.230  1.000 -0.039  0.628</div><div class="line">        3  0.42040  -0.381 -0.039  1.000  0.001</div><div class="line">        4  0.65573   0.013  0.628  0.001  1.000</div><div class="line"> **********</div><div class="line"> **    7 **SET ERR         0.5</div><div class="line"> **********</div><div class="line"> **********</div><div class="line"> **    8 **SET PRINT           1</div><div class="line"> **********</div><div class="line"> **********</div><div class="line"> **    9 **HESSE        2000</div><div class="line"> **********</div><div class="line"> COVARIANCE MATRIX CALCULATED SUCCESSFULLY</div><div class="line"> FCN=5441.98 FROM HESSE     STATUS=OK             23 CALLS         103 TOTAL</div><div class="line">                     EDM=2.1074e-05    STRATEGY= 1      ERROR MATRIX ACCURATE </div><div class="line">  EXT PARAMETER                                INTERNAL      INTERNAL  </div><div class="line">  NO.   NAME      VALUE            ERROR       STEP SIZE       VALUE   </div><div class="line">   1  ax           6.10442e-01   9.85365e-03   1.78004e-04   2.22720e-01</div><div class="line">   2  ay           2.06325e-01   1.06842e-02   1.95296e-04  -6.27781e-01</div><div class="line">   3  cx          -1.13975e+00   5.97056e-02   5.55362e-05  -1.14223e-01</div><div class="line">   4  cy          -5.30427e-01   2.15797e-01   1.66903e-04  -5.30676e-02</div><div class="line">                               ERR DEF= 0.5</div><div class="line"> EXTERNAL ERROR MATRIX.    NDIM=  25    NPAR=  4    ERR DEF=0.5</div><div class="line">  9.711e-05 -2.421e-05 -2.238e-04  2.765e-05 </div><div class="line"> -2.421e-05  1.142e-04 -2.530e-05  1.448e-03 </div><div class="line"> -2.238e-04 -2.530e-05  3.565e-03  1.965e-05 </div><div class="line">  2.765e-05  1.448e-03  1.965e-05  4.658e-02 </div><div class="line"> PARAMETER  CORRELATION COEFFICIENTS  </div><div class="line">       NO.  GLOBAL      1      2      3      4</div><div class="line">        1  0.50117   1.000 -0.230 -0.380  0.013</div><div class="line">        2  0.68624  -0.230  1.000 -0.040  0.628</div><div class="line">        3  0.41953  -0.380 -0.040  1.000  0.002</div><div class="line">        4  0.65587   0.013  0.628  0.002  1.000</div><div class="line">[#1] INFO:Minization -- RooMinimizer::optimizeConst: deactivating const optimization</div><div class="line">[#0] WARNING:InputArguments -- RooAbsReal::createHistogram(effFunc) WARNING extended mode requested for a non-pdf object, ignored</div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooRealVar_8h.html">RooRealVar.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooDataSet_8h.html">RooDataSet.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooGaussian_8h.html">RooGaussian.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooConstVar_8h.html">RooConstVar.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooCategory_8h.html">RooCategory.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooEfficiency_8h.html">RooEfficiency.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooPolynomial_8h.html">RooPolynomial.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooProdPdf_8h.html">RooProdPdf.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooFormulaVar_8h.html">RooFormulaVar.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TCanvas_8h.html">TCanvas.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TAxis_8h.html">TAxis.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TH1_8h.html">TH1.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RooPlot_8h.html">RooPlot.h</a>&quot;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceRooFit.html">RooFit</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="namespacerf702__efficiencyfit__2D.html">rf702_efficiencyfit_2D</a>(<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> flat = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>)</div><div class="line">{</div><div class="line">   <span class="comment">// C o n s t r u c t   e f f i c i e n c y   f u n c t i o n   e ( x , y )</span></div><div class="line">   <span class="comment">// -----------------------------------------------------------------------</span></div><div class="line"></div><div class="line">   <span class="comment">// Declare variables x,mean,sigma with associated name, title, initial value and allowed range</span></div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>(<span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>, -10, 10);</div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> <a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>(<span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>, -10, 10);</div><div class="line"></div><div class="line">   <span class="comment">// Efficiency function eff(x;a,b)</span></div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> ax(<span class="stringliteral">&quot;ax&quot;</span>, <span class="stringliteral">&quot;ay&quot;</span>, 0.6, 0, 1);</div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> bx(<span class="stringliteral">&quot;bx&quot;</span>, <span class="stringliteral">&quot;by&quot;</span>, 5);</div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> cx(<span class="stringliteral">&quot;cx&quot;</span>, <span class="stringliteral">&quot;cy&quot;</span>, -1, -10, 10);</div><div class="line"></div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> ay(<span class="stringliteral">&quot;ay&quot;</span>, <span class="stringliteral">&quot;ay&quot;</span>, 0.2, 0, 1);</div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> by(<span class="stringliteral">&quot;by&quot;</span>, <span class="stringliteral">&quot;by&quot;</span>, 5);</div><div class="line">   <a class="code" href="classRooRealVar.html">RooRealVar</a> cy(<span class="stringliteral">&quot;cy&quot;</span>, <span class="stringliteral">&quot;cy&quot;</span>, -1, -10, 10);</div><div class="line"></div><div class="line">   <a class="code" href="classRooFormulaVar.html">RooFormulaVar</a> effFunc(<span class="stringliteral">&quot;effFunc&quot;</span>, <span class="stringliteral">&quot;((1-ax)+ax*cos((x-cx)/bx))*((1-ay)+ay*cos((y-cy)/by))&quot;</span>,</div><div class="line">                         <a class="code" href="classRooArgList.html">RooArgList</a>(ax, bx, cx, <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, ay, by, cy, <a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>));</div><div class="line"></div><div class="line">   <span class="comment">// Acceptance state cut (1 or 0)</span></div><div class="line">   <a class="code" href="classRooCategory.html">RooCategory</a> cut(<span class="stringliteral">&quot;cut&quot;</span>, <span class="stringliteral">&quot;cutr&quot;</span>);</div><div class="line">   cut.defineType(<span class="stringliteral">&quot;accept&quot;</span>, 1);</div><div class="line">   cut.defineType(<span class="stringliteral">&quot;reject&quot;</span>, 0);</div><div class="line"></div><div class="line">   <span class="comment">// C o n s t r u c t   c o n d i t i o n a l    e f f i c i e n c y   p d f   E ( c u t | x , y )</span></div><div class="line">   <span class="comment">// ---------------------------------------------------------------------------------------------</span></div><div class="line"></div><div class="line">   <span class="comment">// Construct efficiency p.d.f eff(cut|x)</span></div><div class="line">   <a class="code" href="classRooEfficiency.html">RooEfficiency</a> effPdf(<span class="stringliteral">&quot;effPdf&quot;</span>, <span class="stringliteral">&quot;effPdf&quot;</span>, effFunc, cut, <span class="stringliteral">&quot;accept&quot;</span>);</div><div class="line"></div><div class="line">   <span class="comment">// G e n e r a t e   d a t a   ( x , y , c u t )   f r o m   a   t o y   m o d e l</span></div><div class="line">   <span class="comment">// -------------------------------------------------------------------------------</span></div><div class="line"></div><div class="line">   <span class="comment">// Construct global shape p.d.f shape(x) and product model(x,cut) = eff(cut|x)*shape(x)</span></div><div class="line">   <span class="comment">// (These are _only_ needed to generate some toy MC here to be used later)</span></div><div class="line">   <a class="code" href="classRooPolynomial.html">RooPolynomial</a> shapePdfX(<span class="stringliteral">&quot;shapePdfX&quot;</span>, <span class="stringliteral">&quot;shapePdfX&quot;</span>, <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, <a class="code" href="namespaceRooFit.html#aabf71812817894196e743cf2ef1d1e7b">RooConst</a>(flat ? 0 : -0.095));</div><div class="line">   <a class="code" href="classRooPolynomial.html">RooPolynomial</a> shapePdfY(<span class="stringliteral">&quot;shapePdfY&quot;</span>, <span class="stringliteral">&quot;shapePdfY&quot;</span>, <a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>, <a class="code" href="namespaceRooFit.html#aabf71812817894196e743cf2ef1d1e7b">RooConst</a>(flat ? 0 : +0.095));</div><div class="line">   <a class="code" href="classRooProdPdf.html">RooProdPdf</a> shapePdf(<span class="stringliteral">&quot;shapePdf&quot;</span>, <span class="stringliteral">&quot;shapePdf&quot;</span>, <a class="code" href="classRooArgSet.html">RooArgSet</a>(shapePdfX, shapePdfY));</div><div class="line">   <a class="code" href="classRooProdPdf.html">RooProdPdf</a> model(<span class="stringliteral">&quot;model&quot;</span>, <span class="stringliteral">&quot;model&quot;</span>, shapePdf, <a class="code" href="namespaceRooFit.html#ae14d7e1ea298a5f768b1dff09ccc14eb">Conditional</a>(effPdf, cut));</div><div class="line"></div><div class="line">   <span class="comment">// Generate some toy data from model</span></div><div class="line">   <a class="code" href="classRooDataSet.html">RooDataSet</a> *data = model.<a class="code" href="classRooAbsPdf.html#aff9a0b0fd2e1cab5124bd0d209ecbb18">generate</a>(<a class="code" href="classRooArgSet.html">RooArgSet</a>(<a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, <a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>, cut), 10000);</div><div class="line"></div><div class="line">   <span class="comment">// F i t   c o n d i t i o n a l   e f f i c i e n c y   p d f   t o   d a t a</span></div><div class="line">   <span class="comment">// --------------------------------------------------------------------------</span></div><div class="line"></div><div class="line">   <span class="comment">// Fit conditional efficiency p.d.f to data</span></div><div class="line">   effPdf.fitTo(*data, <a class="code" href="namespaceRooFit.html#acfb237547174cfe35e7d8f7570442f73">ConditionalObservables</a>(<a class="code" href="classRooArgSet.html">RooArgSet</a>(<a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, <a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>)));</div><div class="line"></div><div class="line">   <span class="comment">// P l o t   f i t t e d ,   d a t a   e f f i c i e n c y</span></div><div class="line">   <span class="comment">// --------------------------------------------------------</span></div><div class="line"></div><div class="line">   <span class="comment">// Make 2D histograms of all data, selected data and efficiency function</span></div><div class="line">   <a class="code" href="classTH1.html">TH1</a> *hh_data_all = data-&gt;<a class="code" href="classRooDataSet.html#a74db4b6fcf69d8f862d5c1353ba37352">createHistogram</a>(<span class="stringliteral">&quot;hh_data_all&quot;</span>, <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, <a class="code" href="namespaceRooFit.html#a39cd9ada2cc2481e0f8de2ac660f1553">Binning</a>(8), <a class="code" href="namespaceRooFit.html#a58208b64150f8c9e246848584597a214">YVar</a>(<a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>, <a class="code" href="namespaceRooFit.html#a39cd9ada2cc2481e0f8de2ac660f1553">Binning</a>(8)));</div><div class="line">   <a class="code" href="classTH1.html">TH1</a> *hh_data_sel = data-&gt;<a class="code" href="classRooDataSet.html#a74db4b6fcf69d8f862d5c1353ba37352">createHistogram</a>(<span class="stringliteral">&quot;hh_data_sel&quot;</span>, <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, <a class="code" href="namespaceRooFit.html#a39cd9ada2cc2481e0f8de2ac660f1553">Binning</a>(8), <a class="code" href="namespaceRooFit.html#a58208b64150f8c9e246848584597a214">YVar</a>(<a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>, <a class="code" href="namespaceRooFit.html#a39cd9ada2cc2481e0f8de2ac660f1553">Binning</a>(8)), <a class="code" href="namespaceRooFit.html#ac8df677842b98ea43d970ba14fc4341d">Cut</a>(<span class="stringliteral">&quot;cut==cut::accept&quot;</span>));</div><div class="line">   <a class="code" href="classTH1.html">TH1</a> *hh_eff = effFunc.createHistogram(<span class="stringliteral">&quot;hh_eff&quot;</span>, <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, <a class="code" href="namespaceRooFit.html#a39cd9ada2cc2481e0f8de2ac660f1553">Binning</a>(50), <a class="code" href="namespaceRooFit.html#a58208b64150f8c9e246848584597a214">YVar</a>(<a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>, <a class="code" href="namespaceRooFit.html#a39cd9ada2cc2481e0f8de2ac660f1553">Binning</a>(50)));</div><div class="line"></div><div class="line">   <span class="comment">// Some adjustment for good visualization</span></div><div class="line">   hh_data_all-&gt;<a class="code" href="classTH1.html#a89a5d8fc84154b504566f367ba8d0238">SetMinimum</a>(0);</div><div class="line">   hh_data_sel-&gt;<a class="code" href="classTH1.html#a89a5d8fc84154b504566f367ba8d0238">SetMinimum</a>(0);</div><div class="line">   hh_eff-&gt;<a class="code" href="classTH1.html#a89a5d8fc84154b504566f367ba8d0238">SetMinimum</a>(0);</div><div class="line">   hh_eff-&gt;<a class="code" href="classTAttLine.html#a718156d3be0e4b3e0c52b2257a9d4e7a">SetLineColor</a>(<a class="code" href="Rtypes_8h.html#ac31db05c6cb5891c704eae374f6926a8aab48c32302f7159d81e081c41dc2d3d2">kBlue</a>);</div><div class="line"></div><div class="line">   <span class="comment">// Draw all frames on a canvas</span></div><div class="line">   <a class="code" href="classTCanvas.html">TCanvas</a> *ca = <span class="keyword">new</span> <a class="code" href="classTCanvas.html">TCanvas</a>(<span class="stringliteral">&quot;rf702_efficiency_2D&quot;</span>, <span class="stringliteral">&quot;rf702_efficiency_2D&quot;</span>, 1200, 400);</div><div class="line">   ca-&gt;<a class="code" href="classTPad.html#a064b8ae1d12a9be393c0e22c5958cc7c">Divide</a>(3);</div><div class="line">   ca-&gt;<a class="code" href="classTCanvas.html#ad996aa7bc34186944363b48963de4de5">cd</a>(1);</div><div class="line">   <a class="code" href="TVirtualPad_8h.html#a376b3a920d36f3366fb6a4c9e424aa8c">gPad</a>-&gt;SetLeftMargin(0.15);</div><div class="line">   hh_data_all-&gt;<a class="code" href="classTH1.html#ae0c6341d263fd3f4e1348ec8c661dc0f">GetZaxis</a>()-&gt;<a class="code" href="classTAttAxis.html#a3ea231f2b403734c253597bc1b23c82d">SetTitleOffset</a>(1.8);</div><div class="line">   hh_data_all-&gt;<a class="code" href="classTH1.html#aa53a024a9e94d5ec91e3ef49e49563da">Draw</a>(<span class="stringliteral">&quot;lego&quot;</span>);</div><div class="line">   ca-&gt;<a class="code" href="classTCanvas.html#ad996aa7bc34186944363b48963de4de5">cd</a>(2);</div><div class="line">   <a class="code" href="TVirtualPad_8h.html#a376b3a920d36f3366fb6a4c9e424aa8c">gPad</a>-&gt;SetLeftMargin(0.15);</div><div class="line">   hh_data_sel-&gt;<a class="code" href="classTH1.html#ae0c6341d263fd3f4e1348ec8c661dc0f">GetZaxis</a>()-&gt;<a class="code" href="classTAttAxis.html#a3ea231f2b403734c253597bc1b23c82d">SetTitleOffset</a>(1.8);</div><div class="line">   hh_data_sel-&gt;<a class="code" href="classTH1.html#aa53a024a9e94d5ec91e3ef49e49563da">Draw</a>(<span class="stringliteral">&quot;lego&quot;</span>);</div><div class="line">   ca-&gt;<a class="code" href="classTCanvas.html#ad996aa7bc34186944363b48963de4de5">cd</a>(3);</div><div class="line">   <a class="code" href="TVirtualPad_8h.html#a376b3a920d36f3366fb6a4c9e424aa8c">gPad</a>-&gt;SetLeftMargin(0.15);</div><div class="line">   hh_eff-&gt;<a class="code" href="classTH1.html#ae0c6341d263fd3f4e1348ec8c661dc0f">GetZaxis</a>()-&gt;<a class="code" href="classTAttAxis.html#a3ea231f2b403734c253597bc1b23c82d">SetTitleOffset</a>(1.8);</div><div class="line">   hh_eff-&gt;<a class="code" href="classTH1.html#aa53a024a9e94d5ec91e3ef49e49563da">Draw</a>(<span class="stringliteral">&quot;surf&quot;</span>);</div><div class="line"></div><div class="line">   <span class="keywordflow">return</span>;</div><div class="line">}</div></div><!-- fragment --> <dl class="section author"><dt>Author</dt><dd>// </dd></dl>

<p class="definition">Definition in file <a class="el" href="rf702__efficiencyfit__2D_8C_source.html">rf702_efficiencyfit_2D.C</a>.</p>
</div></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:10:25 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
