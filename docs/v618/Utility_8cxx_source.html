<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: bindings/pyroot/src/Utility.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_00240dc4a1a4845ae58be68fbad02d02.html">bindings</a></li><li class="navelem"><a class="el" href="dir_fca448fccf28ae1255266f55ae17a6ec.html">pyroot</a></li><li class="navelem"><a class="el" href="dir_6cde22984deaa1fc93820da8e8945e62.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Utility.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Utility_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// @(#)root/pyroot:$Id$</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Author: Wim Lavrijsen, Apr 2004</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Bindings</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PyROOT_8h.html">PyROOT.h</a>&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PyStrings_8h.html">PyStrings.h</a>&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Utility_8h.html">Utility.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectProxy_8h.html">ObjectProxy.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MethodProxy_8h.html">MethodProxy.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFunctionHolder_8h.html">TFunctionHolder.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TCustomPyTypes_8h.html">TCustomPyTypes.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TemplateProxy_8h.html">TemplateProxy.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RootWrapper_8h.html">RootWrapper.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PyCallable_8h.html">PyCallable.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// ROOT</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TApplication_8h.html">TApplication.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TROOT_8h.html">TROOT.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TSystem_8h.html">TSystem.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TObject_8h.html">TObject.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TClassEdit_8h.html">TClassEdit.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TClassRef_8h.html">TClassRef.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TCollection_8h.html">TCollection.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TDataType_8h.html">TDataType.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFunction_8h.html">TFunction.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFunctionTemplate_8h.html">TFunctionTemplate.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TMethod_8h.html">TMethod.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TMethodArg_8h.html">TMethodArg.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TError_8h.html">TError.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TInterpreter_8h.html">TInterpreter.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// Standard</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//- data _____________________________________________________________________</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<a class="code" href="PyROOT_8h.html#a4c1175f423b6f9cf8e099b6ade65b994">dict_lookup_func</a> <a class="code" href="namespacePyROOT.html#a539f6c4cec5bfdc376df6455b3928e08">PyROOT::gDictLookupOrg</a> = 0;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT.html#aaa1fe40824a18256aeb9d000fc4b8bf7">PyROOT::gDictLookupActive</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="Utility_8cxx.html#aeafb18f2a3627042657c85bcde30bd8a">   47</a></span>&#160;<span class="keyword">typedef</span> std::map&lt; std::string, std::string &gt; <a class="code" href="Utility_8cxx.html#aeafb18f2a3627042657c85bcde30bd8a">TC2POperatorMapping_t</a>;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">   48</a></span>&#160;<span class="keyword">static</span> <a class="code" href="Utility_8cxx.html#aeafb18f2a3627042657c85bcde30bd8a">TC2POperatorMapping_t</a> <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <span class="keyword">using namespace </span><a class="code" href="namespacePyROOT_1_1Utility.html">PyROOT::Utility</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <span class="keyword">struct </span>InitOperatorMapping_t {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      InitOperatorMapping_t() {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="comment">// Initialize the global map of operator names C++ -&gt; python.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;         <span class="comment">// gC2POperatorMapping[ &quot;[]&quot; ]  = &quot;__setitem__&quot;;   // depends on return type</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;         <span class="comment">// gC2POperatorMapping[ &quot;+&quot; ]   = &quot;__add__&quot;;       // depends on # of args (see __pos__)</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;         <span class="comment">// gC2POperatorMapping[ &quot;-&quot; ]   = &quot;__sub__&quot;;       // id. (eq. __neg__)</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;         <span class="comment">// gC2POperatorMapping[ &quot;*&quot; ]   = &quot;__mul__&quot;;       // double meaning in C++</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;[]&quot;</span> ]  = <span class="stringliteral">&quot;__getitem__&quot;</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;()&quot;</span> ]  = <span class="stringliteral">&quot;__call__&quot;</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;/&quot;</span> ]   = <a class="code" href="PyROOT_8h.html#a7f154fcd123b2e2d959b4c14dc186b7e">PYROOT__div__</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;%&quot;</span> ]   = <span class="stringliteral">&quot;__mod__&quot;</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;**&quot;</span> ]  = <span class="stringliteral">&quot;__pow__&quot;</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&lt;&lt;&quot;</span> ]  = <span class="stringliteral">&quot;__lshift__&quot;</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&gt;&gt;&quot;</span> ]  = <span class="stringliteral">&quot;__rshift__&quot;</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&amp;&quot;</span> ]   = <span class="stringliteral">&quot;__and__&quot;</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;|&quot;</span> ]   = <span class="stringliteral">&quot;__or__&quot;</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;^&quot;</span> ]   = <span class="stringliteral">&quot;__xor__&quot;</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;~&quot;</span> ]   = <span class="stringliteral">&quot;__inv__&quot;</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;+=&quot;</span> ]  = <span class="stringliteral">&quot;__iadd__&quot;</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;-=&quot;</span> ]  = <span class="stringliteral">&quot;__isub__&quot;</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;*=&quot;</span> ]  = <span class="stringliteral">&quot;__imul__&quot;</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;/=&quot;</span> ]  = <a class="code" href="PyROOT_8h.html#ad1f14f8424942a139a889d6043cf5368">PYROOT__idiv__</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;%=&quot;</span> ]  = <span class="stringliteral">&quot;__imod__&quot;</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;**=&quot;</span> ] = <span class="stringliteral">&quot;__ipow__&quot;</span>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&lt;&lt;=&quot;</span> ] = <span class="stringliteral">&quot;__ilshift__&quot;</span>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&gt;&gt;=&quot;</span> ] = <span class="stringliteral">&quot;__irshift__&quot;</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&amp;=&quot;</span> ]  = <span class="stringliteral">&quot;__iand__&quot;</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;|=&quot;</span> ]  = <span class="stringliteral">&quot;__ior__&quot;</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;^=&quot;</span> ]  = <span class="stringliteral">&quot;__ixor__&quot;</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;==&quot;</span> ]  = <span class="stringliteral">&quot;__eq__&quot;</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;!=&quot;</span> ]  = <span class="stringliteral">&quot;__ne__&quot;</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&gt;&quot;</span> ]   = <span class="stringliteral">&quot;__gt__&quot;</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&lt;&quot;</span> ]   = <span class="stringliteral">&quot;__lt__&quot;</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&gt;=&quot;</span> ]  = <span class="stringliteral">&quot;__ge__&quot;</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;&lt;=&quot;</span> ]  = <span class="stringliteral">&quot;__le__&quot;</span>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="comment">// the following type mappings are &quot;exact&quot;</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;const char*&quot;</span> ]  = <span class="stringliteral">&quot;__str__&quot;</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;char*&quot;</span> ]        = <span class="stringliteral">&quot;__str__&quot;</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;const char *&quot;</span> ] = <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;const char*&quot;</span> ];</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;char *&quot;</span> ]       = <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;char*&quot;</span> ];</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;int&quot;</span> ]          = <span class="stringliteral">&quot;__int__&quot;</span>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;long&quot;</span> ]         = <a class="code" href="PyROOT_8h.html#ad2f812f69d34d021b2f27946704cbe97">PYROOT__long__</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;double&quot;</span> ]       = <span class="stringliteral">&quot;__float__&quot;</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="comment">// the following type mappings are &quot;okay&quot;; the assumption is that they</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="comment">// are not mixed up with the ones above or between themselves (and if</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="comment">// they are, that it is done consistently)</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;short&quot;</span> ]              = <span class="stringliteral">&quot;__int__&quot;</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;unsigned short&quot;</span> ]     = <span class="stringliteral">&quot;__int__&quot;</span>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;unsigned int&quot;</span> ]       = <a class="code" href="PyROOT_8h.html#ad2f812f69d34d021b2f27946704cbe97">PYROOT__long__</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;unsigned long&quot;</span> ]      = <a class="code" href="PyROOT_8h.html#ad2f812f69d34d021b2f27946704cbe97">PYROOT__long__</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;long long&quot;</span> ]          = <a class="code" href="PyROOT_8h.html#ad2f812f69d34d021b2f27946704cbe97">PYROOT__long__</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;unsigned long long&quot;</span> ] = <a class="code" href="PyROOT_8h.html#ad2f812f69d34d021b2f27946704cbe97">PYROOT__long__</a>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;float&quot;</span> ]              = <span class="stringliteral">&quot;__float__&quot;</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;-&gt;&quot;</span> ]  = <span class="stringliteral">&quot;__follow__&quot;</span>;       <span class="comment">// not an actual python operator</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;=&quot;</span> ]   = <span class="stringliteral">&quot;__assign__&quot;</span>;       <span class="comment">// id.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#if PY_VERSION_HEX &lt; 0x03000000</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;bool&quot;</span> ] = <span class="stringliteral">&quot;__nonzero__&quot;</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;         <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>[ <span class="stringliteral">&quot;bool&quot;</span> ] = <span class="stringliteral">&quot;__bool__&quot;</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   } initOperatorMapping_;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   std::once_flag sOperatorTemplateFlag;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keywordtype">void</span> InitOperatorTemplate() {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;ProcessLine(</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;         <span class="stringliteral">&quot;namespace _pyroot_internal { template&lt;class C1, class C2&gt;&quot;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;         <span class="stringliteral">&quot; bool is_equal(const C1&amp; c1, const C2&amp; c2){ return (bool)(c1 == c2); } }&quot;</span> );</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;ProcessLine(</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;         <span class="stringliteral">&quot;namespace _pyroot_internal { template&lt;class C1, class C2&gt;&quot;</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;         <span class="stringliteral">&quot; bool is_not_equal(const C1&amp; c1, const C2&amp; c2){ return (bool)(c1 != c2); } }&quot;</span> );</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="keyword">inline</span> <span class="keywordtype">void</span> RemoveConst( std::string&amp; cleanName ) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      std::string::size_type spos = std::string::npos;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">while</span> ( ( spos = cleanName.find( <span class="stringliteral">&quot;const&quot;</span> ) ) != std::string::npos ) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;         cleanName.swap( cleanName.erase( spos, 5 ) );</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;} <span class="comment">// unnamed namespace</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//- public functions ---------------------------------------------------------</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="namespacePyROOT.html#ac9c2cc2157238f035cd907ccac404d62">  145</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a7fb84b1ccbe52e994b2fd2bcf5874fb5">ULong_t</a> <a class="code" href="namespacePyROOT.html#ac9c2cc2157238f035cd907ccac404d62">PyROOT::PyLongOrInt_AsULong</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyobject )</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// Convert &lt;pybject&gt; to C++ unsigned long, with bounds checking, allow int -&gt; ulong.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <a class="code" href="RtypesCore_8h.html#a7fb84b1ccbe52e994b2fd2bcf5874fb5">ULong_t</a> ul = PyLong_AsUnsignedLong( pyobject );</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">if</span> ( PyErr_Occurred() &amp;&amp; PyInt_Check( pyobject ) ) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      PyErr_Clear();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a> i = PyInt_AS_LONG( pyobject );</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">if</span> ( 0 &lt;= i ) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;         ul = (<a class="code" href="RtypesCore_8h.html#a7fb84b1ccbe52e994b2fd2bcf5874fb5">ULong_t</a>)i;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;         PyErr_SetString( PyExc_ValueError,</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="stringliteral">&quot;can\&#39;t convert negative value to unsigned long&quot;</span> );</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">return</span> ul;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/// Convert &lt;pyobject&gt; to C++ unsigned long long, with bounds checking.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="namespacePyROOT.html#a79ef0ad80997706a38b5263feb099272">  166</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aec5c78ee1411360ee0f2dc942f475c63">ULong64_t</a> <a class="code" href="namespacePyROOT.html#a79ef0ad80997706a38b5263feb099272">PyROOT::PyLongOrInt_AsULong64</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyobject )</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <a class="code" href="RtypesCore_8h.html#aec5c78ee1411360ee0f2dc942f475c63">ULong64_t</a> ull = PyLong_AsUnsignedLongLong( pyobject );</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">if</span> ( PyErr_Occurred() &amp;&amp; PyInt_Check( pyobject ) ) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      PyErr_Clear();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a> i = PyInt_AS_LONG( pyobject );</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span> ( 0 &lt;= i ) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;         ull = (<a class="code" href="RtypesCore_8h.html#aec5c78ee1411360ee0f2dc942f475c63">ULong64_t</a>)i;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;         PyErr_SetString( PyExc_ValueError,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="stringliteral">&quot;can\&#39;t convert negative value to unsigned long long&quot;</span> );</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <span class="keywordflow">return</span> ull;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/// Add the given function to the class under name &#39;label&#39;.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#aaa3beb2d397a933be87aa063650026dd">  186</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#aaa3beb2d397a933be87aa063650026dd">PyROOT::Utility::AddToClass</a>(</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, PyCFunction cfunc, <span class="keywordtype">int</span> flags )</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">// use list for clean-up (.so&#39;s are unloaded only at interpreter shutdown)</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keyword">static</span> std::list&lt; PyMethodDef &gt; s_pymeths;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   s_pymeths.push_back( PyMethodDef() );</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   PyMethodDef* pdef = &amp;s_pymeths.back();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   pdef-&gt;ml_name  = <span class="keyword">const_cast&lt;</span> <span class="keywordtype">char</span>* <span class="keyword">&gt;</span>( label );</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   pdef-&gt;ml_meth  = cfunc;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   pdef-&gt;ml_flags = flags;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   pdef-&gt;ml_doc   = NULL;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* func = PyCFunction_New( pdef, NULL );</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* method = <a class="code" href="namespacePyROOT.html#aefc56ef6e6cbf09ffa4fe518ba32b67d">TCustomInstanceMethod_New</a>( func, NULL, pyclass );</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> isOk = PyObject_SetAttrString( pyclass, pdef-&gt;ml_name, method ) == 0;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   Py_DECREF( method );</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   Py_DECREF( func );</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">if</span> ( PyErr_Occurred() )</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">if</span> ( ! isOk ) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      PyErr_Format( PyExc_TypeError, <span class="stringliteral">&quot;could not add method %s&quot;</span>, label );</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/// Add the given function to the class under name &#39;label&#39;.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a580738ecbfc804aab84eed6b43e0b00a">  219</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#aaa3beb2d397a933be87aa063650026dd">PyROOT::Utility::AddToClass</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keyword">const</span> <span class="keywordtype">char</span>* func )</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyfunc = PyObject_GetAttrString( pyclass, const_cast&lt; char* &gt;( func ) );</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <span class="keywordflow">if</span> ( ! pyfunc )</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> isOk = PyObject_SetAttrString( pyclass, const_cast&lt; char* &gt;( label ), pyfunc ) == 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   Py_DECREF( pyfunc );</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">return</span> isOk;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/// Add the given function to the class under name &#39;label&#39;.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a6f9c11d922ddad88b2f0f1fa183e0c83">  234</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#aaa3beb2d397a933be87aa063650026dd">PyROOT::Utility::AddToClass</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, <a class="code" href="classPyROOT_1_1PyCallable.html">PyCallable</a>* pyfunc )</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <a class="code" href="classPyROOT_1_1MethodProxy.html">MethodProxy</a>* method =</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      (<a class="code" href="classPyROOT_1_1MethodProxy.html">MethodProxy</a>*)PyObject_GetAttrString( pyclass, const_cast&lt; char* &gt;( label ) );</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordflow">if</span> ( ! method || ! <a class="code" href="namespacePyROOT.html#a9ccae270cb2bae8c75588048bafee74d">MethodProxy_Check</a>( method ) ) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="comment">// not adding to existing MethodProxy; add callable directly to the class</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">if</span> ( PyErr_Occurred() )</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;         PyErr_Clear();</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      Py_XDECREF( (<a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>*)method );</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      method = <a class="code" href="namespacePyROOT.html#aee189f3549a7da305b4c4fcdf2a8f9f9">MethodProxy_New</a>( label, pyfunc );</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> isOk = PyObject_SetAttrString(</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         pyclass, const_cast&lt; char* &gt;( label ), (<a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>*)method ) == 0;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      Py_DECREF( method );</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">return</span> isOk;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   method-&gt;<a class="code" href="classPyROOT_1_1MethodProxy.html#a70c6f2de6cf707a6a387abfff78600a1">AddMethod</a>( pyfunc );</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   Py_DECREF( method );</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/// Helper to add base class methods to the derived class one (this covers the</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/// &#39;using&#39; cases, which the dictionary does not provide).</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a71a35304686473619dfac7e82ffd05d0">  261</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#a71a35304686473619dfac7e82ffd05d0">PyROOT::Utility::AddUsingToClass</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass, <span class="keyword">const</span> <span class="keywordtype">char</span>* method )</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <a class="code" href="classPyROOT_1_1MethodProxy.html">MethodProxy</a>* derivedMethod =</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;         (<a class="code" href="classPyROOT_1_1MethodProxy.html">MethodProxy</a>*)PyObject_GetAttrString( pyclass, const_cast&lt; char* &gt;( method ) );</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">if</span> ( ! <a class="code" href="namespacePyROOT.html#a9ccae270cb2bae8c75588048bafee74d">MethodProxy_Check</a>( derivedMethod ) ) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      Py_XDECREF( derivedMethod );</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* mro = PyObject_GetAttr( pyclass, <a class="code" href="namespacePyROOT_1_1PyStrings.html#aa8c6629469629846e0804696db5def9e">PyStrings::gMRO</a> );</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordflow">if</span> ( ! mro || ! PyTuple_Check( mro ) ) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      Py_XDECREF( mro );</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      Py_DECREF( derivedMethod );</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <a class="code" href="classPyROOT_1_1MethodProxy.html">MethodProxy</a>* baseMethod = 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; PyTuple_GET_SIZE( mro ); ++i ) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      baseMethod = (<a class="code" href="classPyROOT_1_1MethodProxy.html">MethodProxy</a>*)PyObject_GetAttrString(</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;         PyTuple_GET_ITEM( mro, i ), <span class="keyword">const_cast&lt;</span> <span class="keywordtype">char</span>* <span class="keyword">&gt;</span>( method ) );</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">if</span> ( ! baseMethod ) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         PyErr_Clear();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="namespacePyROOT.html#a9ccae270cb2bae8c75588048bafee74d">MethodProxy_Check</a>( baseMethod ) )</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      Py_DECREF( baseMethod );</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      baseMethod = 0;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   Py_DECREF( mro );</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keywordflow">if</span> ( ! <a class="code" href="namespacePyROOT.html#a9ccae270cb2bae8c75588048bafee74d">MethodProxy_Check</a>( baseMethod ) ) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      Py_XDECREF( baseMethod );</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      Py_DECREF( derivedMethod );</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   derivedMethod-&gt;<a class="code" href="classPyROOT_1_1MethodProxy.html#a70c6f2de6cf707a6a387abfff78600a1">AddMethod</a>( baseMethod );</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   Py_DECREF( baseMethod );</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   Py_DECREF( derivedMethod );</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">/// Install the named operator (op) into the left object&#39;s class if such a function</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">/// exists as a global overload; a label must be given if the operator is not in</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">/// gC2POperatorMapping (i.e. if it is ambiguous at the member level).</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a267278b8c7abae811a46bfd8ac626b74">  315</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#a267278b8c7abae811a46bfd8ac626b74">PyROOT::Utility::AddBinaryOperator</a>(</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* left, <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* right, <span class="keyword">const</span> <span class="keywordtype">char</span>* op, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keyword">const</span> <span class="keywordtype">char</span>* alt )</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">// this should be a given, nevertheless ...</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="keywordflow">if</span> ( ! <a class="code" href="namespacePyROOT.html#a5ca42b5f46c24727eadf39df2f7a3eb1">ObjectProxy_Check</a>( left ) )</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">// retrieve the class names to match the signature of any found global functions</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   std::string rcname = <a class="code" href="namespacePyROOT_1_1Utility.html#af6bda680bb552ddcf90156844fb082ac">ClassName</a>( right );</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   std::string lcname = <a class="code" href="namespacePyROOT_1_1Utility.html#af6bda680bb552ddcf90156844fb082ac">ClassName</a>( left );</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass = PyObject_GetAttr( left, <a class="code" href="namespacePyROOT_1_1PyStrings.html#a295564469f92d5891b092864e87dd77c">PyStrings::gClass</a> );</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> result = <a class="code" href="namespacePyROOT_1_1Utility.html#a267278b8c7abae811a46bfd8ac626b74">AddBinaryOperator</a>( pyclass, lcname, rcname, op, label, alt );</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   Py_DECREF( pyclass );</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/// Install binary operator op in pyclass, working on two instances of pyclass.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a844ad2095ac9647149e9c6539cd1e8d0">  336</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#a267278b8c7abae811a46bfd8ac626b74">PyROOT::Utility::AddBinaryOperator</a>(</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass, <span class="keyword">const</span> <span class="keywordtype">char</span>* op, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keyword">const</span> <span class="keywordtype">char</span>* alt )</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> = PyObject_GetAttr( pyclass, <a class="code" href="namespacePyROOT_1_1PyStrings.html#af3f4ce6c04b0b82d0d12e0e0151d8964">PyStrings::gCppName</a> );</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keywordflow">if</span> ( ! <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> ) <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> = PyObject_GetAttr( pyclass, <a class="code" href="namespacePyROOT_1_1PyStrings.html#a334e7228ab78912ab0d4c8d64559e13e">PyStrings::gName</a> );</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   std::string cname = <a class="code" href="namespaceCppyy.html#a5c3af671e559ebb2846624623c727983">Cppyy::ResolveName</a>( <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> ) );</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   Py_DECREF( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> ); <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> = 0;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="namespacePyROOT_1_1Utility.html#a267278b8c7abae811a46bfd8ac626b74">AddBinaryOperator</a>( pyclass, cname, cname, op, label, alt );</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">/// Helper to find a function with matching signature in &#39;funcs&#39;.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="Utility_8cxx.html#a6ef50c3b81d86d3a08f35520912de746">  350</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a> <a class="code" href="Utility_8cxx.html#a6ef50c3b81d86d3a08f35520912de746">FindAndAddOperator</a>( <span class="keyword">const</span> std::string&amp; lcname, <span class="keyword">const</span> std::string&amp; rcname,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;     <span class="keyword">const</span> <span class="keywordtype">char</span>* op, <a class="code" href="classTClass.html">TClass</a>* klass = 0 ) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   std::string opname = <span class="stringliteral">&quot;operator&quot;</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   opname += op;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   std::string <a class="code" href="civetweb_8c.html#a1491042fd5b61bf39023b8df4c736128">proto</a> = lcname + <span class="stringliteral">&quot;, &quot;</span> + rcname;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">// case of global namespace</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keywordflow">if</span> ( ! klass )</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a>)<a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;GetGlobalFunctionWithPrototype( opname.c_str(), <a class="code" href="civetweb_8c.html#a1491042fd5b61bf39023b8df4c736128">proto</a>.c_str() );</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">// case of specific namespace</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a>)klass-&gt;GetMethodWithPrototype( opname.c_str(), <a class="code" href="civetweb_8c.html#a1491042fd5b61bf39023b8df4c736128">proto</a>.c_str() );</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a31777e887edbf9ea75cf2841e75caee3">  364</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#a267278b8c7abae811a46bfd8ac626b74">PyROOT::Utility::AddBinaryOperator</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass, <span class="keyword">const</span> std::string&amp; lcname,</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="keyword">const</span> std::string&amp; rcname, <span class="keyword">const</span> <span class="keywordtype">char</span>* op, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keyword">const</span> <span class="keywordtype">char</span>* alt )</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">// Find a global function with a matching signature and install the result on pyclass;</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">// in addition, __gnu_cxx, std::__1, and _pyroot_internal are searched pro-actively (as</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">// there&#39;s AFAICS no way to unearth using information).</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">// This function can be called too early when setting up some of the ROOT core classes,</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">// which in turn can trigger the creation of a (default) TApplication. Wait with looking</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">// for binary operators &#39;!=&#39; and &#39;==&#39; (which are set early in Pythonize.cxx) until fully</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">// initialized. Other operators are expected to have entered from user code.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordflow">if</span> ( !<a class="code" href="TApplication_8h.html#a31301dc3addd8971e410c605ff3ade4c">gApplication</a> &amp;&amp; (strcmp( op, <span class="stringliteral">&quot;==&quot;</span> ) == 0 || strcmp( op, <span class="stringliteral">&quot;!=&quot;</span> ) == 0) )</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">// For GNU on clang, search the internal __gnu_cxx namespace for binary operators (is</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">// typically the case for STL iterators operator==/!=.</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keyword">static</span> <a class="code" href="classTClassRef.html">TClassRef</a> gnucxx( <span class="stringliteral">&quot;__gnu_cxx&quot;</span> );</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keyword">static</span> <span class="keywordtype">bool</span> gnucxx_exists = (bool)gnucxx.<a class="code" href="classTClassRef.html#a0c5a3ee0d971f010e924322d2e2c7517">GetClass</a>();</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">// Same for clang on Mac. TODO: find proper pre-processor magic to only use those specific</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">// namespaces that are actually around; although to be sure, this isn&#39;t expensive.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keyword">static</span> <a class="code" href="classTClassRef.html">TClassRef</a> std__1( <span class="stringliteral">&quot;std::__1&quot;</span> );</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keyword">static</span> <span class="keywordtype">bool</span> std__1_exists = (bool)std__1.<a class="code" href="classTClassRef.html#a0c5a3ee0d971f010e924322d2e2c7517">GetClass</a>();</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">// One more, mostly for Mac, but again not sure whether this is not a general issue. Some</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">// operators are declared as friends only in classes, so then they&#39;re not found in the</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">// global namespace. That&#39;s why there&#39;s this little helper.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   std::call_once( sOperatorTemplateFlag, InitOperatorTemplate );</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keyword">static</span> <a class="code" href="classTClassRef.html">TClassRef</a> _pr_int( <span class="stringliteral">&quot;_pyroot_internal&quot;</span> );</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <a class="code" href="classPyROOT_1_1PyCallable.html">PyCallable</a>* pyfunc = 0;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordflow">if</span> ( gnucxx_exists ) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a> func = <a class="code" href="Utility_8cxx.html#a6ef50c3b81d86d3a08f35520912de746">FindAndAddOperator</a>( lcname, rcname, op, gnucxx.<a class="code" href="classTClassRef.html#a0c5a3ee0d971f010e924322d2e2c7517">GetClass</a>() );</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span> ( func ) pyfunc = <span class="keyword">new</span> <a class="code" href="classPyROOT_1_1TFunctionHolder.html">TFunctionHolder</a>( <a class="code" href="namespaceCppyy.html#aae7d9f12f8d5409d8d8ce5b7d4ab2058">Cppyy::GetScope</a>( <span class="stringliteral">&quot;__gnu_cxx&quot;</span> ), func );</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <span class="keywordflow">if</span> ( ! pyfunc &amp;&amp; std__1_exists ) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a> func = <a class="code" href="Utility_8cxx.html#a6ef50c3b81d86d3a08f35520912de746">FindAndAddOperator</a>( lcname, rcname, op, std__1.<a class="code" href="classTClassRef.html#a0c5a3ee0d971f010e924322d2e2c7517">GetClass</a>() );</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="keywordflow">if</span> ( func ) pyfunc = <span class="keyword">new</span> <a class="code" href="classPyROOT_1_1TFunctionHolder.html">TFunctionHolder</a>( <a class="code" href="namespaceCppyy.html#aae7d9f12f8d5409d8d8ce5b7d4ab2058">Cppyy::GetScope</a>( <span class="stringliteral">&quot;std::__1&quot;</span> ), func );</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keywordflow">if</span> ( ! pyfunc ) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      std::string::size_type pos = lcname.substr(0, lcname.find(<span class="charliteral">&#39;&lt;&#39;</span>)).rfind( <span class="stringliteral">&quot;::&quot;</span> );</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">if</span> ( pos != std::string::npos ) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         <a class="code" href="classTClass.html">TClass</a>* lcscope = <a class="code" href="classTClass.html#a4a5443bb08096e49cb6b1bce1d07139d">TClass::GetClass</a>( lcname.substr( 0, pos ).c_str() );</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;         <span class="keywordflow">if</span> ( lcscope ) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a> func = <a class="code" href="Utility_8cxx.html#a6ef50c3b81d86d3a08f35520912de746">FindAndAddOperator</a>( lcname, rcname, op, lcscope );</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">if</span> ( func ) pyfunc = <span class="keyword">new</span> <a class="code" href="classPyROOT_1_1TFunctionHolder.html">TFunctionHolder</a>( <a class="code" href="namespaceCppyy.html#aae7d9f12f8d5409d8d8ce5b7d4ab2058">Cppyy::GetScope</a>( lcname.substr( 0, pos ) ), func );</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;         }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">if</span> ( ! pyfunc ) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a> func = <a class="code" href="Utility_8cxx.html#a6ef50c3b81d86d3a08f35520912de746">FindAndAddOperator</a>( lcname, rcname, op );</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">if</span> ( func ) pyfunc = <span class="keyword">new</span> <a class="code" href="classPyROOT_1_1TFunctionHolder.html">TFunctionHolder</a>( <a class="code" href="namespaceCppyy.html#a51fec9f8c89e4c049fde761aa39bee81">Cppyy::gGlobalScope</a>, func );</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">if</span> ( ! pyfunc &amp;&amp; _pr_int.<a class="code" href="classTClassRef.html#a0c5a3ee0d971f010e924322d2e2c7517">GetClass</a>() &amp;&amp;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;         lcname.find( <span class="stringliteral">&quot;iterator&quot;</span> ) != std::string::npos &amp;&amp;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;         rcname.find( <span class="stringliteral">&quot;iterator&quot;</span> ) != std::string::npos ) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="comment">// TODO: gets called too often; make sure it&#39;s purely lazy calls only; also try to</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="comment">// find a better notion for which classes (other than iterators) this is supposed to</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="comment">// work; right now it fails for cases where None is passed</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      std::stringstream fname;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">if</span> ( strncmp( op, <span class="stringliteral">&quot;==&quot;</span>, 2 ) == 0 ) { fname &lt;&lt; <span class="stringliteral">&quot;is_equal&lt;&quot;</span>; }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( strncmp( op, <span class="stringliteral">&quot;!=&quot;</span>, 2 ) == 0 ) { fname &lt;&lt; <span class="stringliteral">&quot;is_not_equal&lt;&quot;</span>; }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">else</span> { fname &lt;&lt; <span class="stringliteral">&quot;not_implemented&lt;&quot;</span>; }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      fname  &lt;&lt; lcname &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; rcname &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a> func = (<a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a>)_pr_int-&gt;<a class="code" href="classTClass.html#a94c6f7447c9cc5ea3d29854ce66fffd3">GetMethodAny</a>( fname.str().c_str() );</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">if</span> ( func ) pyfunc = <span class="keyword">new</span> <a class="code" href="classPyROOT_1_1TFunctionHolder.html">TFunctionHolder</a>( <a class="code" href="namespaceCppyy.html#aae7d9f12f8d5409d8d8ce5b7d4ab2058">Cppyy::GetScope</a>( <span class="stringliteral">&quot;_pyroot_internal&quot;</span> ), func );</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">// last chance: there could be a non-instantiated templated method</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="classTClass.html">TClass</a>* lc = <a class="code" href="classTClass.html#a4a5443bb08096e49cb6b1bce1d07139d">TClass::GetClass</a>( lcname.c_str() );</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <span class="keywordflow">if</span> ( lc &amp;&amp; strcmp(op, <span class="stringliteral">&quot;==&quot;</span>) != 0 &amp;&amp; strcmp(op, <span class="stringliteral">&quot;!=&quot;</span>) != 0 ) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      std::string opname = <span class="stringliteral">&quot;operator&quot;</span>; opname += op;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="TInterpreter_8h.html#a943f074408c15163f1edf41c2dcd95ac">gInterpreter</a>-&gt;LoadFunctionTemplates(lc);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="TInterpreter_8h.html#a943f074408c15163f1edf41c2dcd95ac">gInterpreter</a>-&gt;GetFunctionTemplate(lc-&gt;<a class="code" href="classTClass.html#a59231e63e6fdfcdc4b44ebf88af6e011">GetClassInfo</a>(), opname.c_str());</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="classTFunctionTemplate.html">TFunctionTemplate</a>*<a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> = lc-&gt;<a class="code" href="classTClass.html#a8011cf74a2585b2d1f9af8045679a079">GetFunctionTemplate</a>(opname.c_str());</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a> func =</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         (<a class="code" href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a>)lc-&gt;<a class="code" href="classTClass.html#a78a4ee2f8869a221a082f08a12dce78d">GetMethodWithPrototype</a>( opname.c_str(), rcname.c_str() );</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">if</span> ( func &amp;&amp; <a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> ) pyfunc = <span class="keyword">new</span> <a class="code" href="classPyROOT_1_1TMethodHolder.html">TMethodHolder</a>( <a class="code" href="namespaceCppyy.html#aae7d9f12f8d5409d8d8ce5b7d4ab2058">Cppyy::GetScope</a>( lcname ), func );</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keywordflow">if</span> ( pyfunc ) {  <span class="comment">// found a matching overload; add to class</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> ok = <a class="code" href="namespacePyROOT_1_1Utility.html#aaa3beb2d397a933be87aa063650026dd">AddToClass</a>( pyclass, label, pyfunc );</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keywordflow">if</span> ( ok &amp;&amp; alt )</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="namespacePyROOT_1_1Utility.html#aaa3beb2d397a933be87aa063650026dd">AddToClass</a>( pyclass, alt, label );</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">/// Helper to construct the &quot;&lt; type, type, ... &gt;&quot; part of a templated name (either</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/// for a class as in MakeRootTemplateClass in RootModule.cxx) or for method lookup</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">/// (as in TemplatedMemberHook, below).</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a7e3e33dd0dadc7ff1299a5f61cad5121">  462</a></span>&#160;<a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="namespacePyROOT_1_1Utility.html#a7e3e33dd0dadc7ff1299a5f61cad5121">PyROOT::Utility::BuildTemplateName</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* args, <span class="keywordtype">int</span> argoff, <span class="keywordtype">bool</span> inferredTypes )</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> )</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> = <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>( <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> ) );</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> = <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>( <span class="stringliteral">&quot;&quot;</span> );</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <a class="code" href="PyROOT_8h.html#a73035cf48b4d26e8eac9b259c0a89868">PyROOT_PyUnicode_AppendAndDel</a>( &amp;<a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>( <span class="stringliteral">&quot;&lt;&quot;</span> ) );</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <a class="code" href="PyROOT_8h.html#a47424a8953c340f500027db7e6c00173">Py_ssize_t</a> nArgs = PyTuple_GET_SIZE( args );</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = argoff; i &lt; nArgs; ++i ) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="comment">// add type as string to name</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* tn = PyTuple_GET_ITEM( args, i );</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="PyROOT_8h.html#a4abddc44bfd38b809a80837f14080dfb">PyROOT_PyUnicode_Check</a>( tn ) ) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;         <a class="code" href="PyROOT_8h.html#a02e85625c46ffc76dd034d2e82c9ed3a">PyROOT_PyUnicode_Append</a>( &amp;<a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, tn );</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PyObject_HasAttr( tn, <a class="code" href="namespacePyROOT_1_1PyStrings.html#a334e7228ab78912ab0d4c8d64559e13e">PyStrings::gName</a> ) ) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <span class="comment">// __cppname__ provides a better name for C++ classes (namespaces)</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;         <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* tpName;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;         <span class="keywordflow">if</span> ( PyObject_HasAttr( tn, <a class="code" href="namespacePyROOT_1_1PyStrings.html#af3f4ce6c04b0b82d0d12e0e0151d8964">PyStrings::gCppName</a> ) ) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            tpName = PyObject_GetAttr( tn, <a class="code" href="namespacePyROOT_1_1PyStrings.html#af3f4ce6c04b0b82d0d12e0e0151d8964">PyStrings::gCppName</a> );</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            tpName = PyObject_GetAttr( tn, <a class="code" href="namespacePyROOT_1_1PyStrings.html#a334e7228ab78912ab0d4c8d64559e13e">PyStrings::gName</a> );</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;         }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;         <span class="comment">// special case for strings</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;         <span class="keyword">auto</span> tpNameStr = <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>(tpName);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         <span class="keywordflow">if</span> ( strcmp( tpNameStr, <span class="stringliteral">&quot;str&quot;</span> ) == 0 ) {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            Py_DECREF( tpName );</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            tpName = <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>( <span class="stringliteral">&quot;std::string&quot;</span> );</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;         }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;         <span class="comment">// and Python float (should be double in C++) if types have been inferred</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inferredTypes &amp;&amp; strcmp(tpNameStr, <span class="stringliteral">&quot;float&quot;</span>) == 0) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            Py_DECREF(tpName);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            tpName = <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>(<span class="stringliteral">&quot;double&quot;</span>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;         <a class="code" href="PyROOT_8h.html#a73035cf48b4d26e8eac9b259c0a89868">PyROOT_PyUnicode_AppendAndDel</a>( &amp;<a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, tpName );</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( PyInt_Check( tn ) || PyLong_Check( tn ) || PyFloat_Check( tn ) ) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;         <span class="comment">// last ditch attempt, works for things like int values; since this is a</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;         <span class="comment">// source of errors otherwise, it is limited to specific types and not</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;         <span class="comment">// generally used (str(obj) can print anything ...)</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;         <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pystr = PyObject_Str( tn );</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         <a class="code" href="PyROOT_8h.html#a73035cf48b4d26e8eac9b259c0a89868">PyROOT_PyUnicode_AppendAndDel</a>( &amp;<a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, pystr );</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;         Py_DECREF( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> );</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;         PyErr_SetString( PyExc_SyntaxError, <span class="stringliteral">&quot;could not get __cppname__ from provided template argument. Is it a str, class, type or int?&quot;</span> );</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="comment">// add a comma, as needed</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">if</span> ( i != nArgs - 1 )</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;         <a class="code" href="PyROOT_8h.html#a73035cf48b4d26e8eac9b259c0a89868">PyROOT_PyUnicode_AppendAndDel</a>( &amp;<a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>( <span class="stringliteral">&quot;, &quot;</span> ) );</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">// close template name; prevent &#39;&gt;&gt;&#39;, which should be &#39;&gt; &gt;&#39;</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> )[ <a class="code" href="PyROOT_8h.html#ac904c2fb7811bf70de005adba4310a32">PyROOT_PyUnicode_GetSize</a>( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> ) - 1 ] == <span class="charliteral">&#39;&gt;&#39;</span> )</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <a class="code" href="PyROOT_8h.html#a73035cf48b4d26e8eac9b259c0a89868">PyROOT_PyUnicode_AppendAndDel</a>( &amp;<a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>( <span class="stringliteral">&quot; &gt;&quot;</span> ) );</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <a class="code" href="PyROOT_8h.html#a73035cf48b4d26e8eac9b259c0a89868">PyROOT_PyUnicode_AppendAndDel</a>( &amp;<a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>, <a class="code" href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a>( <span class="stringliteral">&quot;&gt;&quot;</span> ) );</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">/// Initialize a proxy class for use by python, and add it to the ROOT module.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a0b6fed66597ec432207a9163ca1cac64">  525</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#a0b6fed66597ec432207a9163ca1cac64">PyROOT::Utility::InitProxy</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* module, PyTypeObject* pytype, <span class="keyword">const</span> <span class="keywordtype">char</span>* name )</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">// finalize proxy type</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <span class="keywordflow">if</span> ( PyType_Ready( pytype ) &lt; 0 )</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">// add proxy type to the given (ROOT) module</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   Py_INCREF( pytype );         <span class="comment">// PyModule_AddObject steals reference</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <span class="keywordflow">if</span> ( PyModule_AddObject( module, (<span class="keywordtype">char</span>*)name, (<a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>*)pytype ) &lt; 0 ) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      Py_DECREF( pytype );</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">// declare success</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">/// Retrieve a linear buffer pointer from the given pyobject.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a9f74c3136deb966dd22a446c1d67ba71">  545</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacePyROOT_1_1Utility.html#a9f74c3136deb966dd22a446c1d67ba71">PyROOT::Utility::GetBuffer</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyobject, <span class="keywordtype">char</span> tc, <span class="keywordtype">int</span> size, <span class="keywordtype">void</span>*&amp; buf, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> check )</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">// special case: don&#39;t handle character strings here (yes, they&#39;re buffers, but not quite)</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="PyROOT_8h.html#a4c233ebc44c49be64dfad8fd8675535e">PyBytes_Check</a>( pyobject ) )</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">// attempt to retrieve pointer to buffer interface</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   PyBufferProcs* bufprocs = <a class="code" href="PyROOT_8h.html#a02507aa5ff002289d6f1ad2e93351b8a">Py_TYPE</a>(pyobject)-&gt;tp_as_buffer;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   PySequenceMethods* seqmeths = <a class="code" href="PyROOT_8h.html#a02507aa5ff002289d6f1ad2e93351b8a">Py_TYPE</a>(pyobject)-&gt;tp_as_sequence;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   <span class="keywordflow">if</span> ( seqmeths != 0 &amp;&amp; bufprocs != 0</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;#<span class="keywordflow">if</span>  PY_VERSION_HEX &lt; 0x03000000</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        &amp;&amp; bufprocs-&gt;bf_getwritebuffer != 0</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        &amp;&amp; (*(bufprocs-&gt;bf_getsegcount))( pyobject, 0 ) == 1</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;#<span class="keywordflow">else</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        &amp;&amp; bufprocs-&gt;bf_getbuffer != 0</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;#endif</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      ) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <span class="comment">// get the buffer</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor">#if PY_VERSION_HEX &lt; 0x03000000</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="PyROOT_8h.html#a47424a8953c340f500027db7e6c00173">Py_ssize_t</a> buflen = (*(bufprocs-&gt;bf_getwritebuffer))( pyobject, 0, &amp;buf );</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      Py_buffer bufinfo;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      (*(bufprocs-&gt;bf_getbuffer))( pyobject, &amp;bufinfo, PyBUF_WRITABLE );</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      buf = (<span class="keywordtype">char</span>*)bufinfo.buf;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <a class="code" href="PyROOT_8h.html#a47424a8953c340f500027db7e6c00173">Py_ssize_t</a> buflen = bufinfo.len;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;#<span class="keywordflow">if</span> PY_VERSION_HEX &lt; 0x03010000</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      PyBuffer_Release( pyobject, &amp;bufinfo );</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      PyBuffer_Release( &amp;bufinfo );</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">if</span> ( buf &amp;&amp; check == <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> ) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="comment">// determine buffer compatibility (use &quot;buf&quot; as a status flag)</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;         <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pytc = PyObject_GetAttr( pyobject, <a class="code" href="namespacePyROOT_1_1PyStrings.html#ad741538c84197b8ab4b7895773d47830">PyStrings::gTypeCode</a> );</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;         <span class="keywordflow">if</span> ( pytc != 0 ) {     <span class="comment">// for array objects</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>( pytc )[0] != tc )</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;               buf = 0;         <span class="comment">// no match</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            Py_DECREF( pytc );</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( seqmeths-&gt;sq_length &amp;&amp;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                     (<span class="keywordtype">int</span>)(buflen / (*(seqmeths-&gt;sq_length))( pyobject )) == size ) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;         <span class="comment">// this is a gamble ... may or may not be ok, but that&#39;s for the user</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            PyErr_Clear();</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buflen == size ) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;         <span class="comment">// also a gamble, but at least 1 item will fit into the buffer, so very likely ok ...</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            PyErr_Clear();</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            buf = 0;                      <span class="comment">// not compatible</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;         <span class="comment">// clarify error message</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pytype = 0, *pyvalue = 0, *pytrace = 0;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            PyErr_Fetch( &amp;pytype, &amp;pyvalue, &amp;pytrace );</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyvalue2 = <a class="code" href="PyROOT_8h.html#ac5466014864fc32fbc1db371c5c2feb9">PyROOT_PyUnicode_FromFormat</a>(</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;               (<span class="keywordtype">char</span>*)<span class="stringliteral">&quot;%s and given element size (%ld) do not match needed (%d)&quot;</span>,</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;               <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>( pyvalue ),</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;               seqmeths-&gt;sq_length ? (<a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a>)(buflen / (*(seqmeths-&gt;sq_length))( pyobject )) : (<a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a>)buflen,</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;               size );</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            Py_DECREF( pyvalue );</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            PyErr_Restore( pytype, pyvalue2, pytrace );</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;         }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">return</span> buflen;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">/// Map the given C++ operator name on the python equivalent.</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a7ed39102d8507003b283bfae374e4b6f">  618</a></span>&#160;std::string <a class="code" href="namespacePyROOT_1_1Utility.html#a7ed39102d8507003b283bfae374e4b6f">PyROOT::Utility::MapOperatorName</a>( <span class="keyword">const</span> std::string&amp; name, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> bTakesParams )</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="keywordflow">if</span> ( 8 &lt; name.size() &amp;&amp; name.substr( 0, 8 ) == <span class="stringliteral">&quot;operator&quot;</span> ) {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      std::string op = name.substr( 8, std::string::npos );</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <span class="comment">// stripping ...</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      std::string::size_type start = 0, end = op.size();</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordflow">while</span> ( start &lt; end &amp;&amp; isspace( op[ start ] ) ) ++start;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">while</span> ( start &lt; end &amp;&amp; isspace( op[ end-1 ] ) ) --end;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      op = <a class="code" href="namespaceTClassEdit.html#a0cbcc3f3f52904393ff454e205526a31">TClassEdit::ResolveTypedef</a>( op.substr( start, end - start ).c_str(), true );</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="comment">// map C++ operator to python equivalent, or made up name if no equivalent exists</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      TC2POperatorMapping_t::iterator pop = <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>.find( op );</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">if</span> ( pop != <a class="code" href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a>.end() ) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;         <span class="keywordflow">return</span> pop-&gt;second;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( op == <span class="stringliteral">&quot;*&quot;</span> ) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="comment">// dereference v.s. multiplication of two instances</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;         <span class="keywordflow">return</span> bTakesParams ? <span class="stringliteral">&quot;__mul__&quot;</span> : <span class="stringliteral">&quot;__deref__&quot;</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( op == <span class="stringliteral">&quot;+&quot;</span> ) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="comment">// unary positive v.s. addition of two instances</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;         <span class="keywordflow">return</span> bTakesParams ? <span class="stringliteral">&quot;__add__&quot;</span> : <span class="stringliteral">&quot;__pos__&quot;</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( op == <span class="stringliteral">&quot;-&quot;</span> ) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="comment">// unary negative v.s. subtraction of two instances</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;         <span class="keywordflow">return</span> bTakesParams ? <span class="stringliteral">&quot;__sub__&quot;</span> : <span class="stringliteral">&quot;__neg__&quot;</span>;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( op == <span class="stringliteral">&quot;++&quot;</span> ) {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="comment">// prefix v.s. postfix increment</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;         <span class="keywordflow">return</span> bTakesParams ? <span class="stringliteral">&quot;__postinc__&quot;</span> : <span class="stringliteral">&quot;__preinc__&quot;</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( op == <span class="stringliteral">&quot;--&quot;</span> ) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="comment">// prefix v.s. postfix decrement</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;         <span class="keywordflow">return</span> bTakesParams ? <span class="stringliteral">&quot;__postdec__&quot;</span> : <span class="stringliteral">&quot;__predec__&quot;</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">// might get here, as not all operator methods are handled (new, delete, etc.)</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   <span class="keywordflow">return</span> name;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/// Break down the compound of a fully qualified type name.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a8845fec3e5564dc8d72e9fb7fe65e84a">  664</a></span>&#160;<span class="keyword">const</span> std::string <a class="code" href="namespacePyROOT_1_1Utility.html#a8845fec3e5564dc8d72e9fb7fe65e84a">PyROOT::Utility::Compound</a>( <span class="keyword">const</span> std::string&amp; name )</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   std::string cleanName = name;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   RemoveConst( cleanName );</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   std::string <a class="code" href="_2compound_8C.html#a1138ed934eec3b0effa67beec7a46ca5">compound</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> ipos = (<span class="keywordtype">int</span>)cleanName.size()-1; 0 &lt;= ipos; --ipos ) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordtype">char</span> <a class="code" href="RSha256_8hxx.html#a63f410abde93141c9013b7d3f3971738">c</a> = cleanName[ipos];</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">if</span> ( isspace( <a class="code" href="RSha256_8hxx.html#a63f410abde93141c9013b7d3f3971738">c</a> ) ) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">if</span> ( isalnum( <a class="code" href="RSha256_8hxx.html#a63f410abde93141c9013b7d3f3971738">c</a> ) || <a class="code" href="RSha256_8hxx.html#a63f410abde93141c9013b7d3f3971738">c</a> == <span class="charliteral">&#39;_&#39;</span> || <a class="code" href="RSha256_8hxx.html#a63f410abde93141c9013b7d3f3971738">c</a> == <span class="charliteral">&#39;&gt;&#39;</span> ) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="_2compound_8C.html#a1138ed934eec3b0effa67beec7a46ca5">compound</a> = <a class="code" href="RSha256_8hxx.html#a63f410abde93141c9013b7d3f3971738">c</a> + <a class="code" href="_2compound_8C.html#a1138ed934eec3b0effa67beec7a46ca5">compound</a>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">// for arrays (TODO: deal with the actual size)</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="_2compound_8C.html#a1138ed934eec3b0effa67beec7a46ca5">compound</a> == <span class="stringliteral">&quot;]&quot;</span> )</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;       <span class="keywordflow">return</span> <span class="stringliteral">&quot;[]&quot;</span>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="_2compound_8C.html#a1138ed934eec3b0effa67beec7a46ca5">compound</a>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">/// Extract size from an array type, if available.</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#ae70b7753dacf63955808fc763081fd72">  688</a></span>&#160;<a class="code" href="PyROOT_8h.html#a47424a8953c340f500027db7e6c00173">Py_ssize_t</a> <a class="code" href="namespacePyROOT_1_1Utility.html#ae70b7753dacf63955808fc763081fd72">PyROOT::Utility::ArraySize</a>( <span class="keyword">const</span> std::string&amp; name )</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;{</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   std::string cleanName = name;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   RemoveConst( cleanName );</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <span class="keywordflow">if</span> ( cleanName[cleanName.size()-1] == <span class="charliteral">&#39;]&#39;</span> ) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      std::string::size_type idx = cleanName.rfind( <span class="charliteral">&#39;[&#39;</span> );</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">if</span> ( idx != std::string::npos ) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;         <span class="keyword">const</span> std::string asize = cleanName.substr( idx+1, cleanName.size()-2 );</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;         <span class="keywordflow">return</span> strtoul( asize.c_str(), NULL, 0 );</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">/// Retrieve the class name from the given python object (which may be just an</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">/// instance of the class).</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#af6bda680bb552ddcf90156844fb082ac">  708</a></span>&#160;<span class="keyword">const</span> std::string <a class="code" href="namespacePyROOT_1_1Utility.html#af6bda680bb552ddcf90156844fb082ac">PyROOT::Utility::ClassName</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyobj )</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   std::string clname = <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyclass = PyObject_GetAttr( pyobj, <a class="code" href="namespacePyROOT_1_1PyStrings.html#a295564469f92d5891b092864e87dd77c">PyStrings::gClass</a> );</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <span class="keywordflow">if</span> ( pyclass != 0 ) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> = PyObject_GetAttr( pyclass, <a class="code" href="namespacePyROOT_1_1PyStrings.html#af3f4ce6c04b0b82d0d12e0e0151d8964">PyStrings::gCppName</a> );</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> != 0 ) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;         clname = <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> );</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;         Py_DECREF( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> );</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;         PyErr_Clear();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;         <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> = PyObject_GetAttr( pyclass, <a class="code" href="namespacePyROOT_1_1PyStrings.html#a334e7228ab78912ab0d4c8d64559e13e">PyStrings::gName</a> );</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         <span class="keywordflow">if</span> ( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> != 0 ) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            clname = <a class="code" href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a>( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> );</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            Py_DECREF( <a class="code" href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a> );</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            PyErr_Clear();</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      Py_DECREF( pyclass );</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      PyErr_Clear();</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;   }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   <span class="keywordflow">return</span> clname;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">/// Translate CINT error/warning into python equivalent.</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#ad4fce388935b00708a78310f414d5406">  739</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacePyROOT_1_1Utility.html#ad4fce388935b00708a78310f414d5406">PyROOT::Utility::ErrMsgCallback</a>( <span class="keywordtype">char</span>* <span class="comment">/* msg */</span> )</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;{</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">// TODO (Cling): this function is probably not going to be used anymore and</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">// may need removing at some point for cleanup</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">/* Commented out for Cling ---</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">// ignore the &quot;*** Interpreter error recovered ***&quot; message</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">   if ( strstr( msg, &quot;error recovered&quot; ) )</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">      return;</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">// ignore CINT-style FILE/LINE messages</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">   if ( strstr( msg, &quot;FILE:&quot; ) )</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">      return;</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">// get file name and line number</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">   char* errFile = (char*)G__stripfilename( G__get_ifile()-&gt;name );</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">   int errLine = G__get_ifile()-&gt;line_number;</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">// ignore ROOT-style FILE/LINE messages</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">   char buf[256];</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">   snprintf( buf, 256, &quot;%s:%d:&quot;, errFile, errLine );</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">   if ( strstr( msg, buf ) )</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">      return;</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">// strip newline, if any</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">   int len = strlen( msg );</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">   if ( msg[ len-1 ] == &#39;\n&#39; )</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">      msg[ len-1 ] = &#39;\0&#39;;</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">// concatenate message if already in error processing mode (e.g. if multiple CINT errors)</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">   if ( PyErr_Occurred() ) {</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">      PyObject *etype, *value, *trace;</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">      PyErr_Fetch( &amp;etype, &amp;value, &amp;trace );           // clears current exception</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">   // need to be sure that error can be added; otherwise leave earlier error in place</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">      if ( PyROOT_PyUnicode_Check( value ) ) {</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">         if ( ! PyErr_GivenExceptionMatches( etype, PyExc_IndexError ) )</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">            PyROOT_PyUnicode_AppendAndDel( &amp;value, PyROOT_PyUnicode_FromString( (char*)&quot;\n  &quot; ) );</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">         PyROOT_PyUnicode_AppendAndDel( &amp;value, PyROOT_PyUnicode_FromString( msg ) );</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">      }</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">      PyErr_Restore( etype, value, trace );</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">      return;</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">// else, translate known errors and warnings, or simply accept the default</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">   char* format = (char*)&quot;(file \&quot;%s\&quot;, line %d) %s&quot;;</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">   char* p = 0;</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">   if ( ( p = strstr( msg, &quot;Syntax Error:&quot; ) ) )</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">      PyErr_Format( PyExc_SyntaxError, format, errFile, errLine, p+14 );</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Error: Array&quot; ) ) )</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">      PyErr_Format( PyExc_IndexError, format, errFile, errLine, p+12 );</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Error:&quot; ) ) )</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">      PyErr_Format( PyExc_RuntimeError, format, errFile, errLine, p+7 );</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Exception:&quot; ) ) )</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">      PyErr_Format( PyExc_RuntimeError, format, errFile, errLine, p+11 );</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Limitation:&quot; ) ) )</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">      PyErr_Format( PyExc_NotImplementedError, format, errFile, errLine, p+12 );</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Internal Error: malloc&quot; ) ) )</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">      PyErr_Format( PyExc_MemoryError, format, errFile, errLine, p+23 );</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Internal Error:&quot; ) ) )</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">      PyErr_Format( PyExc_SystemError, format, errFile, errLine, p+16 );</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Warning:&quot; ) ) )</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">// either printout or raise exception, depending on user settings</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">      PyErr_WarnExplicit( NULL, p+9, errFile, errLine, (char*)&quot;CINT&quot;, NULL );</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">   else if ( ( p = strstr( msg, &quot;Note:&quot; ) ) )</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">      fprintf( stdout, &quot;Note: (file \&quot;%s\&quot;, line %d) %s\n&quot;, errFile, errLine, p+6 );</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">   else   // unknown: printing it to screen is the safest action</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">      fprintf( stdout, &quot;Message: (file \&quot;%s\&quot;, line %d) %s\n&quot;, errFile, errLine, msg );</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"> --- Commented out for Cling */</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">/// Translate ROOT error/warning to python.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a0dbd869327b4499862cd4e188d076c73">  816</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacePyROOT_1_1Utility.html#a0dbd869327b4499862cd4e188d076c73">PyROOT::Utility::ErrMsgHandler</a>( <span class="keywordtype">int</span> level, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> abort, <span class="keyword">const</span> <span class="keywordtype">char</span>* location, <span class="keyword">const</span> <span class="keywordtype">char</span>* msg )</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;{</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">// initialization from gEnv (the default handler will return w/o msg b/c level too low)</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a> == <a class="code" href="TError_8h.html#a3ab0c9f5db1777fc23ae686953a79737">kUnset</a> )</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <a class="code" href="TError_8h.html#a0038e974ef8385b01aa8e72d7d1e6e96">::DefaultErrorHandler</a>( <a class="code" href="TError_8h.html#a3ab0c9f5db1777fc23ae686953a79737">kUnset</a> - 1, <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordflow">if</span> ( level &lt; <a class="code" href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a> )</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">// turn warnings into python warnings</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">if</span> (level &gt;= <a class="code" href="TError_8h.html#a28396131242d75810a2eb5988f9ff2ab">kError</a>)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="TError_8h.html#a0038e974ef8385b01aa8e72d7d1e6e96">::DefaultErrorHandler</a>( level, abort, location, msg );</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( level &gt;= <a class="code" href="TError_8h.html#a93dce12f8f28c55827b45f530a507281">kWarning</a> ) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* emptyString = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="keywordflow">if</span> (!location) location = emptyString;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="comment">// This warning might be triggered while holding the ROOT lock, while</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="comment">// some othe rtherad is holding the GIL and waiting for the ROOT lock.</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="comment">// That will trigger a deadlock.</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="comment">// So if ROOT is in MT mode, use ROOT&#39;s error handler that doesn&#39;t take</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="comment">// the GIL.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="TVirtualMutex_8h.html#a15cf3ed3439fbfb0dadefacd263da2ae">gGlobalMutex</a>) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;         <span class="comment">// either printout or raise exception, depending on user settings</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;         PyErr_WarnExplicit( NULL, (<span class="keywordtype">char</span>*)msg, (<span class="keywordtype">char</span>*)location, 0, (<span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ROOT&quot;</span>, NULL );</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;         <a class="code" href="TError_8h.html#a0038e974ef8385b01aa8e72d7d1e6e96">::DefaultErrorHandler</a>( level, abort, location, msg );</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <a class="code" href="TError_8h.html#a0038e974ef8385b01aa8e72d7d1e6e96">else</a></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<a class="code" href="TError_8h.html#a0038e974ef8385b01aa8e72d7d1e6e96">      ::DefaultErrorHandler</a>( level, abort, location, msg );</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">/// Compile a function on the fly and return a function pointer for use on C-APIs.</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">/// The callback should take a (void*)pyfunc and the (Long_t)user as well as the</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/// rest of the declare signature. It should also live in namespace PyROOT</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00853"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#af3d181fef2250e22fb3de48a8e2ccebc">  853</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="namespacePyROOT_1_1Utility.html#af3d181fef2250e22fb3de48a8e2ccebc">PyROOT::Utility::CreateWrapperMethod</a>( <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* pyfunc, <a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a> user,</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* retType, <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; signature, <span class="keyword">const</span> <span class="keywordtype">char</span>* callback )</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;{</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="keyword">static</span> <a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a> s_fid = 0;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">if</span> ( ! PyCallable_Check( pyfunc ) )</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">// keep  alive (TODO: manage this intelligently)</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   Py_INCREF( pyfunc );</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a> fid = s_fid++;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">// basic function name part</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   std::ostringstream funcName;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   funcName &lt;&lt; <span class="stringliteral">&quot;pyrootGenFun&quot;</span> &lt;&lt; fid;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">// build-up a signature</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   std::ostringstream sigDecl, argsig;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   std::vector&lt;std::string&gt;::size_type nargs = signature.size();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="keywordflow">for</span> ( std::vector&lt;std::string&gt;::size_type i = 0; i &lt; nargs; ++i ) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      sigDecl &lt;&lt; signature[i] &lt;&lt; <span class="stringliteral">&quot; a&quot;</span> &lt;&lt; i;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      argsig &lt;&lt; <span class="stringliteral">&quot;, a&quot;</span> &lt;&lt; i;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">if</span> ( i != nargs-1 ) sigDecl &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">// create full definition</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   std::ostringstream declCode;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   declCode &lt;&lt; <span class="stringliteral">&quot;namespace PyROOT { &quot;</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;               &lt;&lt; retType &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; callback &lt;&lt; <span class="stringliteral">&quot;(void*, Long_t, &quot;</span> &lt;&lt; sigDecl.str() &lt;&lt; <span class="stringliteral">&quot;); }\n&quot;</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            &lt;&lt; retType &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; funcName.str() &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; sigDecl.str()</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;) { void* v0 = (void*)&quot;</span> &lt;&lt; (<span class="keywordtype">void</span>*)pyfunc &lt;&lt; <span class="stringliteral">&quot;; &quot;</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;return PyROOT::&quot;</span> &lt;&lt; callback &lt;&lt; <span class="stringliteral">&quot;(v0, &quot;</span> &lt;&lt; user &lt;&lt; argsig.str() &lt;&lt; <span class="stringliteral">&quot;); }&quot;</span>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">// body compilation</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <a class="code" href="TInterpreter_8h.html#a943f074408c15163f1edf41c2dcd95ac">gInterpreter</a>-&gt;LoadText( declCode.str().c_str() );</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">// func-ptr retrieval code</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   std::ostringstream fptrCode;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   fptrCode &lt;&lt; <span class="stringliteral">&quot;void* pyrootPtrVar&quot;</span> &lt;&lt; fid &lt;&lt; <span class="stringliteral">&quot; = (void*)&quot;</span> &lt;&lt; funcName.str()</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;; pyrootPtrVar&quot;</span> &lt;&lt; fid &lt;&lt; <span class="stringliteral">&quot;;&quot;</span>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">// retrieve function pointer</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <span class="keywordtype">void</span>* fptr = (<span class="keywordtype">void</span>*)<a class="code" href="TInterpreter_8h.html#a943f074408c15163f1edf41c2dcd95ac">gInterpreter</a>-&gt;ProcessLineSynch( fptrCode.str().c_str() );</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keywordflow">if</span> ( fptr == 0 )</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      PyErr_SetString( PyExc_SyntaxError, <span class="stringliteral">&quot;could not generate C++ callback wrapper&quot;</span> );</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <span class="keywordflow">return</span> fptr;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">/// Re-acquire the GIL before calling PyErr_Occurred() in case it has been</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">/// released; note that the p2.2 code assumes that there are no callbacks in</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">/// C++ to python (or at least none returning errors).</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a572c28bc5820a31026bb5d4325e756d9">  908</a></span>&#160;<a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="namespacePyROOT_1_1Utility.html#a572c28bc5820a31026bb5d4325e756d9">PyROOT::Utility::PyErr_Occurred_WithGIL</a>()</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;{</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="preprocessor">#if PY_VERSION_HEX &gt;= 0x02030000</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   PyGILState_STATE gstate = PyGILState_Ensure();</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="TRolke_8cxx.html#a680432d265de4ea2534f8ec32f1aa417">e</a> = PyErr_Occurred();</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;   PyGILState_Release( gstate );</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   <span class="keywordflow">if</span> ( PyThreadState_GET() )</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <span class="keywordflow">return</span> PyErr_Occurred();</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="TRolke_8cxx.html#a680432d265de4ea2534f8ec32f1aa417">e</a> = 0;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="TRolke_8cxx.html#a680432d265de4ea2534f8ec32f1aa417">e</a>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;}</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keyword">static</span> int (*sOldInputHook)() = NULL;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <span class="keyword">static</span> PyThreadState* sInputHookEventThreadState = NULL;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <span class="keyword">static</span> <span class="keywordtype">int</span> EventInputHook()</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   <span class="comment">// This method is supposed to be called from CPython&#39;s command line and</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="comment">// drives the GUI.</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      PyEval_RestoreThread( sInputHookEventThreadState );</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#aeafc2f064213bb24378b3bef2d7502cb">ProcessEvents</a>();</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      PyEval_SaveThread();</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">if</span> ( sOldInputHook ) <span class="keywordflow">return</span> sOldInputHook();</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;} <span class="comment">// unnamed namespace</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a807e43499518bea14f27fdd47ff3f283">  943</a></span>&#160;<a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="namespacePyROOT_1_1Utility.html#a807e43499518bea14f27fdd47ff3f283">PyROOT::Utility::InstallGUIEventInputHook</a>()</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;{</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">// Install the method hook for sending events to the GUI</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   <span class="keywordflow">if</span> ( PyOS_InputHook &amp;&amp; PyOS_InputHook != &amp;EventInputHook )</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      sOldInputHook = PyOS_InputHook;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   sInputHookEventThreadState = PyThreadState_Get();</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   PyOS_InputHook = (int (*)())&amp;EventInputHook;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   Py_INCREF( Py_None );</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <span class="keywordflow">return</span> Py_None;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="namespacePyROOT_1_1Utility.html#a0a2617680e2134f25c9a3584c6cd0b86">  956</a></span>&#160;<a class="code" href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a>* <a class="code" href="namespacePyROOT_1_1Utility.html#a0a2617680e2134f25c9a3584c6cd0b86">PyROOT::Utility::RemoveGUIEventInputHook</a>()</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;{</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">// Remove event hook, if it was installed</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   PyOS_InputHook = sOldInputHook;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   sInputHookEventThreadState = NULL;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   Py_INCREF( Py_None );</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <span class="keywordflow">return</span> Py_None;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div><div class="ttc" id="namespacePyROOT_1_1Utility_html_a0b6fed66597ec432207a9163ca1cac64"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a0b6fed66597ec432207a9163ca1cac64">PyROOT::Utility::InitProxy</a></div><div class="ttdeci">Bool_t InitProxy(PyObject *module, PyTypeObject *pytype, const char *name)</div><div class="ttdoc">Initialize a proxy class for use by python, and add it to the ROOT module. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00525">Utility.cxx:525</a></div></div>
<div class="ttc" id="TFunction_8h_html"><div class="ttname"><a href="TFunction_8h.html">TFunction.h</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a267278b8c7abae811a46bfd8ac626b74"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a267278b8c7abae811a46bfd8ac626b74">PyROOT::Utility::AddBinaryOperator</a></div><div class="ttdeci">Bool_t AddBinaryOperator(PyObject *left, PyObject *right, const char *op, const char *label, const char *alt_label=NULL)</div><div class="ttdoc">Install the named operator (op) into the left object&amp;#39;s class if such a function exists as a global ov...</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00315">Utility.cxx:315</a></div></div>
<div class="ttc" id="PyROOT_8h_html_aab1dd6e6fd95f1b0fbbd0ccdabe3eb19"><div class="ttname"><a href="PyROOT_8h.html#aab1dd6e6fd95f1b0fbbd0ccdabe3eb19">PyROOT_PyUnicode_FromString</a></div><div class="ttdeci">#define PyROOT_PyUnicode_FromString</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00082">PyROOT.h:82</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a4c1175f423b6f9cf8e099b6ade65b994"><div class="ttname"><a href="PyROOT_8h.html#a4c1175f423b6f9cf8e099b6ade65b994">dict_lookup_func</a></div><div class="ttdeci">PyDictEntry *(* dict_lookup_func)(PyDictObject *, PyObject *, Long_t)</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00043">PyROOT.h:43</a></div></div>
<div class="ttc" id="TMCParticle_8cxx_html_a148450e5db4f211509e197a7703be56d"><div class="ttname"><a href="TMCParticle_8cxx.html#a148450e5db4f211509e197a7703be56d">pyname</a></div><div class="ttdeci">#define pyname</div><div class="ttdef"><b>Definition:</b> <a href="TMCParticle_8cxx_source.html#l00019">TMCParticle.cxx:19</a></div></div>
<div class="ttc" id="classTSystem_html_aeafc2f064213bb24378b3bef2d7502cb"><div class="ttname"><a href="classTSystem.html#aeafc2f064213bb24378b3bef2d7502cb">TSystem::ProcessEvents</a></div><div class="ttdeci">virtual Bool_t ProcessEvents()</div><div class="ttdoc">Process pending events (GUI, timers, sockets). </div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8cxx_source.html#l00425">TSystem.cxx:425</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html">PyROOT::Utility</a></div><div class="ttdef"><b>Definition:</b> <a href="Utility_8h_source.html#l00024">Utility.h:24</a></div></div>
<div class="ttc" id="TError_8h_html_ad79dd6699eb25a20c4f95d4f7a0b6407"><div class="ttname"><a href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a></div><div class="ttdeci">R__EXTERN Int_t gErrorIgnoreLevel</div><div class="ttdef"><b>Definition:</b> <a href="TError_8h_source.html#l00105">TError.h:105</a></div></div>
<div class="ttc" id="namespacePyROOT_html_aefc56ef6e6cbf09ffa4fe518ba32b67d"><div class="ttname"><a href="namespacePyROOT.html#aefc56ef6e6cbf09ffa4fe518ba32b67d">PyROOT::TCustomInstanceMethod_New</a></div><div class="ttdeci">PyObject * TCustomInstanceMethod_New(PyObject *func, PyObject *self, PyObject *pyclass)</div><div class="ttdef"><b>Definition:</b> <a href="TCustomPyTypes_8cxx_source.html#l00140">TCustomPyTypes.cxx:140</a></div></div>
<div class="ttc" id="TClassEdit_8h_html"><div class="ttname"><a href="TClassEdit_8h.html">TClassEdit.h</a></div></div>
<div class="ttc" id="PyROOT_8h_html_ad2f812f69d34d021b2f27946704cbe97"><div class="ttname"><a href="PyROOT_8h.html#ad2f812f69d34d021b2f27946704cbe97">PYROOT__long__</a></div><div class="ttdeci">#define PYROOT__long__</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00100">PyROOT.h:100</a></div></div>
<div class="ttc" id="classTFunctionTemplate_html"><div class="ttname"><a href="classTFunctionTemplate.html">TFunctionTemplate</a></div><div class="ttdoc">Dictionary for function template This class describes one single function template. </div><div class="ttdef"><b>Definition:</b> <a href="TFunctionTemplate_8h_source.html#l00026">TFunctionTemplate.h:26</a></div></div>
<div class="ttc" id="TError_8h_html_a0038e974ef8385b01aa8e72d7d1e6e96"><div class="ttname"><a href="TError_8h.html#a0038e974ef8385b01aa8e72d7d1e6e96">DefaultErrorHandler</a></div><div class="ttdeci">void DefaultErrorHandler(int level, Bool_t abort, const char *location, const char *msg)</div><div class="ttdoc">The default error handler function. </div><div class="ttdef"><b>Definition:</b> <a href="TError_8cxx_source.html#l00125">TError.cxx:125</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a0a2617680e2134f25c9a3584c6cd0b86"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a0a2617680e2134f25c9a3584c6cd0b86">PyROOT::Utility::RemoveGUIEventInputHook</a></div><div class="ttdeci">PyObject * RemoveGUIEventInputHook()</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00956">Utility.cxx:956</a></div></div>
<div class="ttc" id="TCustomPyTypes_8h_html"><div class="ttname"><a href="TCustomPyTypes_8h.html">TCustomPyTypes.h</a></div></div>
<div class="ttc" id="namespacePyROOT_html_aee189f3549a7da305b4c4fcdf2a8f9f9"><div class="ttname"><a href="namespacePyROOT.html#aee189f3549a7da305b4c4fcdf2a8f9f9">PyROOT::MethodProxy_New</a></div><div class="ttdeci">MethodProxy * MethodProxy_New(const std::string &amp;name, std::vector&lt; PyCallable * &gt; &amp;methods)</div><div class="ttdef"><b>Definition:</b> <a href="MethodProxy_8h_source.html#l00075">MethodProxy.h:75</a></div></div>
<div class="ttc" id="TROOT_8h_html_a851dd11b3478372a25ba6eff6dcfa5b1"><div class="ttname"><a href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a></div><div class="ttdeci">#define gROOT</div><div class="ttdef"><b>Definition:</b> <a href="TROOT_8h_source.html#l00413">TROOT.h:413</a></div></div>
<div class="ttc" id="namespacePyROOT_html_a539f6c4cec5bfdc376df6455b3928e08"><div class="ttname"><a href="namespacePyROOT.html#a539f6c4cec5bfdc376df6455b3928e08">PyROOT::gDictLookupOrg</a></div><div class="ttdeci">R__EXTERN dict_lookup_func gDictLookupOrg</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8h_source.html#l00015">Utility.h:15</a></div></div>
<div class="ttc" id="RSha256_8hxx_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div><div class="ttdef"><b>Definition:</b> <a href="RSha256_8hxx_source.html#l00104">RSha256.hxx:104</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_aa101f564ac7b845ca31aec2fbc00ce97"><div class="ttname"><a href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a></div><div class="ttdeci">bool Bool_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00059">RtypesCore.h:59</a></div></div>
<div class="ttc" id="TInterpreter_8h_html_a943f074408c15163f1edf41c2dcd95ac"><div class="ttname"><a href="TInterpreter_8h.html#a943f074408c15163f1edf41c2dcd95ac">gInterpreter</a></div><div class="ttdeci">#define gInterpreter</div><div class="ttdef"><b>Definition:</b> <a href="TInterpreter_8h_source.html#l00552">TInterpreter.h:552</a></div></div>
<div class="ttc" id="TApplication_8h_html_a31301dc3addd8971e410c605ff3ade4c"><div class="ttname"><a href="TApplication_8h.html#a31301dc3addd8971e410c605ff3ade4c">gApplication</a></div><div class="ttdeci">R__EXTERN TApplication * gApplication</div><div class="ttdef"><b>Definition:</b> <a href="TApplication_8h_source.html#l00165">TApplication.h:165</a></div></div>
<div class="ttc" id="namespacePyROOT_html_aaa1fe40824a18256aeb9d000fc4b8bf7"><div class="ttname"><a href="namespacePyROOT.html#aaa1fe40824a18256aeb9d000fc4b8bf7">PyROOT::gDictLookupActive</a></div><div class="ttdeci">R__EXTERN Bool_t gDictLookupActive</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8h_source.html#l00018">Utility.h:18</a></div></div>
<div class="ttc" id="classPyROOT_1_1TMethodHolder_html"><div class="ttname"><a href="classPyROOT_1_1TMethodHolder.html">PyROOT::TMethodHolder</a></div><div class="ttdef"><b>Definition:</b> <a href="TMethodHolder_8h_source.html#l00020">TMethodHolder.h:20</a></div></div>
<div class="ttc" id="classTClassRef_html_a0c5a3ee0d971f010e924322d2e2c7517"><div class="ttname"><a href="classTClassRef.html#a0c5a3ee0d971f010e924322d2e2c7517">TClassRef::GetClass</a></div><div class="ttdeci">TClass * GetClass() const</div><div class="ttdef"><b>Definition:</b> <a href="TClassRef_8h_source.html#l00071">TClassRef.h:71</a></div></div>
<div class="ttc" id="TInterpreter_8h_html"><div class="ttname"><a href="TInterpreter_8h.html">TInterpreter.h</a></div></div>
<div class="ttc" id="RootWrapper_8h_html"><div class="ttname"><a href="RootWrapper_8h.html">RootWrapper.h</a></div></div>
<div class="ttc" id="TMethod_8h_html"><div class="ttname"><a href="TMethod_8h.html">TMethod.h</a></div></div>
<div class="ttc" id="TCollection_8h_html"><div class="ttname"><a href="TCollection_8h.html">TCollection.h</a></div></div>
<div class="ttc" id="PyROOT_8h_html_ac5466014864fc32fbc1db371c5c2feb9"><div class="ttname"><a href="PyROOT_8h.html#ac5466014864fc32fbc1db371c5c2feb9">PyROOT_PyUnicode_FromFormat</a></div><div class="ttdeci">#define PyROOT_PyUnicode_FromFormat</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00081">PyROOT.h:81</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a02e85625c46ffc76dd034d2e82c9ed3a"><div class="ttname"><a href="PyROOT_8h.html#a02e85625c46ffc76dd034d2e82c9ed3a">PyROOT_PyUnicode_Append</a></div><div class="ttdeci">#define PyROOT_PyUnicode_Append</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00084">PyROOT.h:84</a></div></div>
<div class="ttc" id="namespaceCppyy_html_a5c3af671e559ebb2846624623c727983"><div class="ttname"><a href="namespaceCppyy.html#a5c3af671e559ebb2846624623c727983">Cppyy::ResolveName</a></div><div class="ttdeci">std::string ResolveName(const std::string &amp;cppitem_name)</div><div class="ttdef"><b>Definition:</b> <a href="Cppyy_8cxx_source.html#l00168">Cppyy.cxx:168</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a7ed39102d8507003b283bfae374e4b6f"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a7ed39102d8507003b283bfae374e4b6f">PyROOT::Utility::MapOperatorName</a></div><div class="ttdeci">std::string MapOperatorName(const std::string &amp;name, Bool_t bTakesParames)</div><div class="ttdoc">Map the given C++ operator name on the python equivalent. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00618">Utility.cxx:618</a></div></div>
<div class="ttc" id="PyROOT_8h_html_ac904c2fb7811bf70de005adba4310a32"><div class="ttname"><a href="PyROOT_8h.html#ac904c2fb7811bf70de005adba4310a32">PyROOT_PyUnicode_GetSize</a></div><div class="ttdeci">#define PyROOT_PyUnicode_GetSize</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00054">PyROOT.h:54</a></div></div>
<div class="ttc" id="PyROOT_8h_html_ad1f14f8424942a139a889d6043cf5368"><div class="ttname"><a href="PyROOT_8h.html#ad1f14f8424942a139a889d6043cf5368">PYROOT__idiv__</a></div><div class="ttdeci">#define PYROOT__idiv__</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00101">PyROOT.h:101</a></div></div>
<div class="ttc" id="TDataType_8h_html"><div class="ttname"><a href="TDataType_8h.html">TDataType.h</a></div></div>
<div class="ttc" id="TSystem_8h_html"><div class="ttname"><a href="TSystem_8h.html">TSystem.h</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1PyStrings_html_aa8c6629469629846e0804696db5def9e"><div class="ttname"><a href="namespacePyROOT_1_1PyStrings.html#aa8c6629469629846e0804696db5def9e">PyROOT::PyStrings::gMRO</a></div><div class="ttdeci">R__EXTERN PyObject * gMRO</div><div class="ttdef"><b>Definition:</b> <a href="PyStrings_8h_source.html#l00032">PyStrings.h:32</a></div></div>
<div class="ttc" id="_2compound_8C_html_a1138ed934eec3b0effa67beec7a46ca5"><div class="ttname"><a href="_2compound_8C.html#a1138ed934eec3b0effa67beec7a46ca5">compound</a></div><div class="ttdeci">void compound()</div><div class="ttdef"><b>Definition:</b> <a href="_2compound_8C_source.html#l00025">compound.C:25</a></div></div>
<div class="ttc" id="namespaceTClassEdit_html_a0cbcc3f3f52904393ff454e205526a31"><div class="ttname"><a href="namespaceTClassEdit.html#a0cbcc3f3f52904393ff454e205526a31">TClassEdit::ResolveTypedef</a></div><div class="ttdeci">std::string ResolveTypedef(const char *tname, bool resolveAll=false)</div><div class="ttdef"><b>Definition:</b> <a href="TClassEdit_8cxx_source.html#l01656">TClassEdit.cxx:1656</a></div></div>
<div class="ttc" id="classTClass_html_a59231e63e6fdfcdc4b44ebf88af6e011"><div class="ttname"><a href="classTClass.html#a59231e63e6fdfcdc4b44ebf88af6e011">TClass::GetClassInfo</a></div><div class="ttdeci">ClassInfo_t * GetClassInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TClass_8h_source.html#l00400">TClass.h:400</a></div></div>
<div class="ttc" id="classTClass_html_a8011cf74a2585b2d1f9af8045679a079"><div class="ttname"><a href="classTClass.html#a8011cf74a2585b2d1f9af8045679a079">TClass::GetFunctionTemplate</a></div><div class="ttdeci">TFunctionTemplate * GetFunctionTemplate(const char *name)</div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_af6bda680bb552ddcf90156844fb082ac"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#af6bda680bb552ddcf90156844fb082ac">PyROOT::Utility::ClassName</a></div><div class="ttdeci">const std::string ClassName(PyObject *pyobj)</div><div class="ttdoc">Retrieve the class name from the given python object (which may be just an instance of the class)...</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00708">Utility.cxx:708</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a50c6ae192e65613ebe83830941d7098b"><div class="ttname"><a href="PyROOT_8h.html#a50c6ae192e65613ebe83830941d7098b">PyROOT_PyUnicode_AsString</a></div><div class="ttdeci">#define PyROOT_PyUnicode_AsString</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00078">PyROOT.h:78</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a4c233ebc44c49be64dfad8fd8675535e"><div class="ttname"><a href="PyROOT_8h.html#a4c233ebc44c49be64dfad8fd8675535e">PyBytes_Check</a></div><div class="ttdeci">#define PyBytes_Check</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00064">PyROOT.h:64</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a572c28bc5820a31026bb5d4325e756d9"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a572c28bc5820a31026bb5d4325e756d9">PyROOT::Utility::PyErr_Occurred_WithGIL</a></div><div class="ttdeci">PyObject * PyErr_Occurred_WithGIL()</div><div class="ttdoc">Re-acquire the GIL before calling PyErr_Occurred() in case it has been released; note that the p2...</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00908">Utility.cxx:908</a></div></div>
<div class="ttc" id="TMethodArg_8h_html"><div class="ttname"><a href="TMethodArg_8h.html">TMethodArg.h</a></div></div>
<div class="ttc" id="TFunctionHolder_8h_html"><div class="ttname"><a href="TFunctionHolder_8h.html">TFunctionHolder.h</a></div></div>
<div class="ttc" id="Utility_8cxx_html_aeafb18f2a3627042657c85bcde30bd8a"><div class="ttname"><a href="Utility_8cxx.html#aeafb18f2a3627042657c85bcde30bd8a">TC2POperatorMapping_t</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; TC2POperatorMapping_t</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00047">Utility.cxx:47</a></div></div>
<div class="ttc" id="PyCallable_8h_html"><div class="ttname"><a href="PyCallable_8h.html">PyCallable.h</a></div></div>
<div class="ttc" id="classPyROOT_1_1MethodProxy_html"><div class="ttname"><a href="classPyROOT_1_1MethodProxy.html">PyROOT::MethodProxy</a></div><div class="ttdef"><b>Definition:</b> <a href="MethodProxy_8h_source.html#l00021">MethodProxy.h:21</a></div></div>
<div class="ttc" id="Utility_8cxx_html_a798e323bb65ffcbd1419c2eee24ff1b4"><div class="ttname"><a href="Utility_8cxx.html#a798e323bb65ffcbd1419c2eee24ff1b4">gC2POperatorMapping</a></div><div class="ttdeci">static TC2POperatorMapping_t gC2POperatorMapping</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00048">Utility.cxx:48</a></div></div>
<div class="ttc" id="TVirtualMutex_8h_html_a15cf3ed3439fbfb0dadefacd263da2ae"><div class="ttname"><a href="TVirtualMutex_8h.html#a15cf3ed3439fbfb0dadefacd263da2ae">gGlobalMutex</a></div><div class="ttdeci">R__EXTERN TVirtualMutex * gGlobalMutex</div><div class="ttdef"><b>Definition:</b> <a href="TVirtualMutex_8h_source.html#l00029">TVirtualMutex.h:29</a></div></div>
<div class="ttc" id="PyStrings_8h_html"><div class="ttname"><a href="PyStrings_8h.html">PyStrings.h</a></div></div>
<div class="ttc" id="namespacePyROOT_html_ac9c2cc2157238f035cd907ccac404d62"><div class="ttname"><a href="namespacePyROOT.html#ac9c2cc2157238f035cd907ccac404d62">PyROOT::PyLongOrInt_AsULong</a></div><div class="ttdeci">ULong_t PyLongOrInt_AsULong(PyObject *pyobject)</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00145">Utility.cxx:145</a></div></div>
<div class="ttc" id="TClassRef_8h_html"><div class="ttname"><a href="TClassRef_8h.html">TClassRef.h</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a0dbd869327b4499862cd4e188d076c73"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a0dbd869327b4499862cd4e188d076c73">PyROOT::Utility::ErrMsgHandler</a></div><div class="ttdeci">void ErrMsgHandler(int level, Bool_t abort, const char *location, const char *msg)</div><div class="ttdoc">Translate ROOT error/warning to python. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00816">Utility.cxx:816</a></div></div>
<div class="ttc" id="TemplateProxy_8h_html"><div class="ttname"><a href="TemplateProxy_8h.html">TemplateProxy.h</a></div></div>
<div class="ttc" id="TError_8h_html_a3ab0c9f5db1777fc23ae686953a79737"><div class="ttname"><a href="TError_8h.html#a3ab0c9f5db1777fc23ae686953a79737">kUnset</a></div><div class="ttdeci">const Int_t kUnset</div><div class="ttdef"><b>Definition:</b> <a href="TError_8h_source.html#l00035">TError.h:35</a></div></div>
<div class="ttc" id="namespaceCppyy_html_ac7598d4d148e43991004d8dad1edad62"><div class="ttname"><a href="namespaceCppyy.html#ac7598d4d148e43991004d8dad1edad62">Cppyy::TCppMethod_t</a></div><div class="ttdeci">ptrdiff_t TCppMethod_t</div><div class="ttdef"><b>Definition:</b> <a href="Cppyy_8h_source.html#l00015">Cppyy.h:15</a></div></div>
<div class="ttc" id="namespacePyROOT_html_a5ca42b5f46c24727eadf39df2f7a3eb1"><div class="ttname"><a href="namespacePyROOT.html#a5ca42b5f46c24727eadf39df2f7a3eb1">PyROOT::ObjectProxy_Check</a></div><div class="ttdeci">Bool_t ObjectProxy_Check(T *object)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectProxy_8h_source.html#l00091">ObjectProxy.h:91</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1PyStrings_html_a295564469f92d5891b092864e87dd77c"><div class="ttname"><a href="namespacePyROOT_1_1PyStrings.html#a295564469f92d5891b092864e87dd77c">PyROOT::PyStrings::gClass</a></div><div class="ttdeci">R__EXTERN PyObject * gClass</div><div class="ttdef"><b>Definition:</b> <a href="PyStrings_8h_source.html#l00018">PyStrings.h:18</a></div></div>
<div class="ttc" id="namespaceCppyy_html_a51fec9f8c89e4c049fde761aa39bee81"><div class="ttname"><a href="namespaceCppyy.html#a51fec9f8c89e4c049fde761aa39bee81">Cppyy::gGlobalScope</a></div><div class="ttdeci">TCppScope_t gGlobalScope</div><div class="ttdef"><b>Definition:</b> <a href="Cppyy_8cxx_source.html#l00065">Cppyy.cxx:65</a></div></div>
<div class="ttc" id="TSystem_8h_html_ab7182c9ab5a9236e2bc1ed8b3fcb045f"><div class="ttname"><a href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a></div><div class="ttdeci">R__EXTERN TSystem * gSystem</div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8h_source.html#l00560">TSystem.h:560</a></div></div>
<div class="ttc" id="TROOT_8h_html"><div class="ttname"><a href="TROOT_8h.html">TROOT.h</a></div></div>
<div class="ttc" id="TError_8h_html"><div class="ttname"><a href="TError_8h.html">TError.h</a></div></div>
<div class="ttc" id="classPyROOT_1_1PyCallable_html"><div class="ttname"><a href="classPyROOT_1_1PyCallable.html">PyROOT::PyCallable</a></div><div class="ttdef"><b>Definition:</b> <a href="PyCallable_8h_source.html#l00015">PyCallable.h:15</a></div></div>
<div class="ttc" id="classTClass_html_a78a4ee2f8869a221a082f08a12dce78d"><div class="ttname"><a href="classTClass.html#a78a4ee2f8869a221a082f08a12dce78d">TClass::GetMethodWithPrototype</a></div><div class="ttdeci">TMethod * GetMethodWithPrototype(const char *method, const char *proto, Bool_t objectIsConst=kFALSE, ROOT::EFunctionMatchMode mode=ROOT::kConversionMatch)</div></div>
<div class="ttc" id="namespacePyROOT_html_a79ef0ad80997706a38b5263feb099272"><div class="ttname"><a href="namespacePyROOT.html#a79ef0ad80997706a38b5263feb099272">PyROOT::PyLongOrInt_AsULong64</a></div><div class="ttdeci">ULong64_t PyLongOrInt_AsULong64(PyObject *pyobject)</div><div class="ttdoc">Convert &lt;pyobject&gt; to C++ unsigned long long, with bounds checking. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00166">Utility.cxx:166</a></div></div>
<div class="ttc" id="classTClass_html"><div class="ttname"><a href="classTClass.html">TClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TClass_8h_source.html#l00075">TClass.h:75</a></div></div>
<div class="ttc" id="TError_8h_html_a93dce12f8f28c55827b45f530a507281"><div class="ttname"><a href="TError_8h.html#a93dce12f8f28c55827b45f530a507281">kWarning</a></div><div class="ttdeci">const Int_t kWarning</div><div class="ttdef"><b>Definition:</b> <a href="TError_8h_source.html#l00038">TError.h:38</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a7e3e33dd0dadc7ff1299a5f61cad5121"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a7e3e33dd0dadc7ff1299a5f61cad5121">PyROOT::Utility::BuildTemplateName</a></div><div class="ttdeci">PyObject * BuildTemplateName(PyObject *pyname, PyObject *args, int argoff, bool inferredTypes=false)</div><div class="ttdoc">Helper to construct the &quot;&lt; type, type, ... &gt;&quot; part of a templated name (either for a class as in Make...</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00462">Utility.cxx:462</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a7f154fcd123b2e2d959b4c14dc186b7e"><div class="ttname"><a href="PyROOT_8h.html#a7f154fcd123b2e2d959b4c14dc186b7e">PYROOT__div__</a></div><div class="ttdeci">#define PYROOT__div__</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00102">PyROOT.h:102</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a7e568baf910535e8ffd438acb843434d"><div class="ttname"><a href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a></div><div class="ttdeci">const Bool_t kFALSE</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00088">RtypesCore.h:88</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a84701346fdad56d1d91e06fcbc1b87dc"><div class="ttname"><a href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a></div><div class="ttdeci">long Long_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00050">RtypesCore.h:50</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a73035cf48b4d26e8eac9b259c0a89868"><div class="ttname"><a href="PyROOT_8h.html#a73035cf48b4d26e8eac9b259c0a89868">PyROOT_PyUnicode_AppendAndDel</a></div><div class="ttdeci">#define PyROOT_PyUnicode_AppendAndDel</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00085">PyROOT.h:85</a></div></div>
<div class="ttc" id="ObjectProxy_8h_html"><div class="ttname"><a href="ObjectProxy_8h.html">ObjectProxy.h</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a807e43499518bea14f27fdd47ff3f283"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a807e43499518bea14f27fdd47ff3f283">PyROOT::Utility::InstallGUIEventInputHook</a></div><div class="ttdeci">PyObject * InstallGUIEventInputHook()</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00943">Utility.cxx:943</a></div></div>
<div class="ttc" id="namespaceCppyy_html_aae7d9f12f8d5409d8d8ce5b7d4ab2058"><div class="ttname"><a href="namespaceCppyy.html#aae7d9f12f8d5409d8d8ce5b7d4ab2058">Cppyy::GetScope</a></div><div class="ttdeci">TCppScope_t GetScope(const std::string &amp;scope_name)</div><div class="ttdef"><b>Definition:</b> <a href="Cppyy_8cxx_source.html#l00190">Cppyy.cxx:190</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1PyStrings_html_a334e7228ab78912ab0d4c8d64559e13e"><div class="ttname"><a href="namespacePyROOT_1_1PyStrings.html#a334e7228ab78912ab0d4c8d64559e13e">PyROOT::PyStrings::gName</a></div><div class="ttdeci">R__EXTERN PyObject * gName</div><div class="ttdef"><b>Definition:</b> <a href="PyStrings_8h_source.html#l00033">PyStrings.h:33</a></div></div>
<div class="ttc" id="classPyROOT_1_1MethodProxy_html_a70c6f2de6cf707a6a387abfff78600a1"><div class="ttname"><a href="classPyROOT_1_1MethodProxy.html#a70c6f2de6cf707a6a387abfff78600a1">PyROOT::MethodProxy::AddMethod</a></div><div class="ttdeci">void AddMethod(PyCallable *pc)</div><div class="ttdoc">Fill in the data of a freshly created method proxy. </div><div class="ttdef"><b>Definition:</b> <a href="MethodProxy_8cxx_source.html#l00918">MethodProxy.cxx:918</a></div></div>
<div class="ttc" id="classTClass_html_a4a5443bb08096e49cb6b1bce1d07139d"><div class="ttname"><a href="classTClass.html#a4a5443bb08096e49cb6b1bce1d07139d">TClass::GetClass</a></div><div class="ttdeci">static TClass * GetClass(const char *name, Bool_t load=kTRUE, Bool_t silent=kFALSE)</div></div>
<div class="ttc" id="namespacePyROOT_1_1PyStrings_html_ad741538c84197b8ab4b7895773d47830"><div class="ttname"><a href="namespacePyROOT_1_1PyStrings.html#ad741538c84197b8ab4b7895773d47830">PyROOT::PyStrings::gTypeCode</a></div><div class="ttdeci">R__EXTERN PyObject * gTypeCode</div><div class="ttdef"><b>Definition:</b> <a href="PyStrings_8h_source.html#l00036">PyStrings.h:36</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_aec5c78ee1411360ee0f2dc942f475c63"><div class="ttname"><a href="RtypesCore_8h.html#aec5c78ee1411360ee0f2dc942f475c63">ULong64_t</a></div><div class="ttdeci">unsigned long long ULong64_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00070">RtypesCore.h:70</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a7fb84b1ccbe52e994b2fd2bcf5874fb5"><div class="ttname"><a href="RtypesCore_8h.html#a7fb84b1ccbe52e994b2fd2bcf5874fb5">ULong_t</a></div><div class="ttdeci">unsigned long ULong_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00051">RtypesCore.h:51</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_aaa3beb2d397a933be87aa063650026dd"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#aaa3beb2d397a933be87aa063650026dd">PyROOT::Utility::AddToClass</a></div><div class="ttdeci">Bool_t AddToClass(PyObject *pyclass, const char *label, PyCFunction cfunc, int flags=METH_VARARGS)</div><div class="ttdoc">Add the given function to the class under name &amp;#39;label&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00186">Utility.cxx:186</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a4abddc44bfd38b809a80837f14080dfb"><div class="ttname"><a href="PyROOT_8h.html#a4abddc44bfd38b809a80837f14080dfb">PyROOT_PyUnicode_Check</a></div><div class="ttdeci">#define PyROOT_PyUnicode_Check</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00076">PyROOT.h:76</a></div></div>
<div class="ttc" id="TRolke_8cxx_html_a680432d265de4ea2534f8ec32f1aa417"><div class="ttname"><a href="TRolke_8cxx.html#a680432d265de4ea2534f8ec32f1aa417">e</a></div><div class="ttdeci">you should not use this method at all Int_t Int_t Double_t Double_t Double_t e</div><div class="ttdef"><b>Definition:</b> <a href="TRolke_8cxx_source.html#l00630">TRolke.cxx:630</a></div></div>
<div class="ttc" id="TFunctionTemplate_8h_html"><div class="ttname"><a href="TFunctionTemplate_8h.html">TFunctionTemplate.h</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a71a35304686473619dfac7e82ffd05d0"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a71a35304686473619dfac7e82ffd05d0">PyROOT::Utility::AddUsingToClass</a></div><div class="ttdeci">Bool_t AddUsingToClass(PyObject *pyclass, const char *method)</div><div class="ttdoc">Helper to add base class methods to the derived class one (this covers the &amp;#39;using&amp;#39; cases...</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00261">Utility.cxx:261</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1PyStrings_html_af3f4ce6c04b0b82d0d12e0e0151d8964"><div class="ttname"><a href="namespacePyROOT_1_1PyStrings.html#af3f4ce6c04b0b82d0d12e0e0151d8964">PyROOT::PyStrings::gCppName</a></div><div class="ttdeci">R__EXTERN PyObject * gCppName</div><div class="ttdef"><b>Definition:</b> <a href="PyStrings_8h_source.html#l00034">PyStrings.h:34</a></div></div>
<div class="ttc" id="classTClassRef_html"><div class="ttname"><a href="classTClassRef.html">TClassRef</a></div><div class="ttdoc">TClassRef is used to implement a permanent reference to a TClass object. </div><div class="ttdef"><b>Definition:</b> <a href="TClassRef_8h_source.html#l00029">TClassRef.h:29</a></div></div>
<div class="ttc" id="TObject_8h_html"><div class="ttname"><a href="TObject_8h.html">TObject.h</a></div></div>
<div class="ttc" id="MethodProxy_8h_html"><div class="ttname"><a href="MethodProxy_8h.html">MethodProxy.h</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a02507aa5ff002289d6f1ad2e93351b8a"><div class="ttname"><a href="PyROOT_8h.html#a02507aa5ff002289d6f1ad2e93351b8a">Py_TYPE</a></div><div class="ttdeci">#define Py_TYPE(ob)</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00161">PyROOT.h:161</a></div></div>
<div class="ttc" id="PyROOT_8h_html_a47424a8953c340f500027db7e6c00173"><div class="ttname"><a href="PyROOT_8h.html#a47424a8953c340f500027db7e6c00173">Py_ssize_t</a></div><div class="ttdeci">int Py_ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="PyROOT_8h_source.html#l00166">PyROOT.h:166</a></div></div>
<div class="ttc" id="classTClass_html_a94c6f7447c9cc5ea3d29854ce66fffd3"><div class="ttname"><a href="classTClass.html#a94c6f7447c9cc5ea3d29854ce66fffd3">TClass::GetMethodAny</a></div><div class="ttdeci">TMethod * GetMethodAny(const char *method)</div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a9f74c3136deb966dd22a446c1d67ba71"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a9f74c3136deb966dd22a446c1d67ba71">PyROOT::Utility::GetBuffer</a></div><div class="ttdeci">int GetBuffer(PyObject *pyobject, char tc, int size, void *&amp;buf, Bool_t check=kTRUE)</div><div class="ttdoc">Retrieve a linear buffer pointer from the given pyobject. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00545">Utility.cxx:545</a></div></div>
<div class="ttc" id="TError_8h_html_a28396131242d75810a2eb5988f9ff2ab"><div class="ttname"><a href="TError_8h.html#a28396131242d75810a2eb5988f9ff2ab">kError</a></div><div class="ttdeci">const Int_t kError</div><div class="ttdef"><b>Definition:</b> <a href="TError_8h_source.html#l00039">TError.h:39</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_af3d181fef2250e22fb3de48a8e2ccebc"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#af3d181fef2250e22fb3de48a8e2ccebc">PyROOT::Utility::CreateWrapperMethod</a></div><div class="ttdeci">void * CreateWrapperMethod(PyObject *pyfunc, Long_t user, const char *retType, const std::vector&lt; std::string &gt; &amp;signature, const char *callback)</div><div class="ttdoc">Compile a function on the fly and return a function pointer for use on C-APIs. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00853">Utility.cxx:853</a></div></div>
<div class="ttc" id="Utility_8h_html"><div class="ttname"><a href="Utility_8h.html">Utility.h</a></div></div>
<div class="ttc" id="namespacePyROOT_html_a9ccae270cb2bae8c75588048bafee74d"><div class="ttname"><a href="namespacePyROOT.html#a9ccae270cb2bae8c75588048bafee74d">PyROOT::MethodProxy_Check</a></div><div class="ttdeci">Bool_t MethodProxy_Check(T *object)</div><div class="ttdef"><b>Definition:</b> <a href="MethodProxy_8h_source.html#l00063">MethodProxy.h:63</a></div></div>
<div class="ttc" id="civetweb_8c_html_a1491042fd5b61bf39023b8df4c736128"><div class="ttname"><a href="civetweb_8c.html#a1491042fd5b61bf39023b8df4c736128">proto</a></div><div class="ttdeci">const char * proto</div><div class="ttdef"><b>Definition:</b> <a href="civetweb_8c_source.html#l16604">civetweb.c:16604</a></div></div>
<div class="ttc" id="RSha256_8hxx_html_a63f410abde93141c9013b7d3f3971738"><div class="ttname"><a href="RSha256_8hxx.html#a63f410abde93141c9013b7d3f3971738">c</a></div><div class="ttdeci">#define c(i)</div><div class="ttdef"><b>Definition:</b> <a href="RSha256_8hxx_source.html#l00101">RSha256.hxx:101</a></div></div>
<div class="ttc" id="PyROOT_8h_html"><div class="ttname"><a href="PyROOT_8h.html">PyROOT.h</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_ae70b7753dacf63955808fc763081fd72"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#ae70b7753dacf63955808fc763081fd72">PyROOT::Utility::ArraySize</a></div><div class="ttdeci">Py_ssize_t ArraySize(const std::string &amp;name)</div><div class="ttdoc">Extract size from an array type, if available. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00688">Utility.cxx:688</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_ad4fce388935b00708a78310f414d5406"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#ad4fce388935b00708a78310f414d5406">PyROOT::Utility::ErrMsgCallback</a></div><div class="ttdeci">void ErrMsgCallback(char *msg)</div><div class="ttdoc">Translate CINT error/warning into python equivalent. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00739">Utility.cxx:739</a></div></div>
<div class="ttc" id="Utility_8cxx_html_a6ef50c3b81d86d3a08f35520912de746"><div class="ttname"><a href="Utility_8cxx.html#a6ef50c3b81d86d3a08f35520912de746">FindAndAddOperator</a></div><div class="ttdeci">static Cppyy::TCppMethod_t FindAndAddOperator(const std::string &amp;lcname, const std::string &amp;rcname, const char *op, TClass *klass=0)</div><div class="ttdoc">Helper to find a function with matching signature in &amp;#39;funcs&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00350">Utility.cxx:350</a></div></div>
<div class="ttc" id="TApplication_8h_html"><div class="ttname"><a href="TApplication_8h.html">TApplication.h</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_af2f51d30ccd86e85be3e3e69793a86ef"><div class="ttname"><a href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a></div><div class="ttdeci">const Bool_t kTRUE</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00087">RtypesCore.h:87</a></div></div>
<div class="ttc" id="classPyROOT_1_1TFunctionHolder_html"><div class="ttname"><a href="classPyROOT_1_1TFunctionHolder.html">PyROOT::TFunctionHolder</a></div><div class="ttdef"><b>Definition:</b> <a href="TFunctionHolder_8h_source.html#l00012">TFunctionHolder.h:12</a></div></div>
<div class="ttc" id="TPyArg_8h_html_ae19630c1f4ca6d5236b30719d9140013"><div class="ttname"><a href="TPyArg_8h.html#ae19630c1f4ca6d5236b30719d9140013">PyObject</a></div><div class="ttdeci">_object PyObject</div><div class="ttdef"><b>Definition:</b> <a href="TPyArg_8h_source.html#l00020">TPyArg.h:20</a></div></div>
<div class="ttc" id="namespacePyROOT_1_1Utility_html_a8845fec3e5564dc8d72e9fb7fe65e84a"><div class="ttname"><a href="namespacePyROOT_1_1Utility.html#a8845fec3e5564dc8d72e9fb7fe65e84a">PyROOT::Utility::Compound</a></div><div class="ttdeci">const std::string Compound(const std::string &amp;name)</div><div class="ttdoc">Break down the compound of a fully qualified type name. </div><div class="ttdef"><b>Definition:</b> <a href="Utility_8cxx_source.html#l00664">Utility.cxx:664</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:08:44 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
