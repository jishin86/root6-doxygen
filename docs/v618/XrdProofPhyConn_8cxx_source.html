<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: proof/proofd/src/XrdProofPhyConn.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fe12f41d3d3092bbef531b606df75bb2.html">proof</a></li><li class="navelem"><a class="el" href="dir_8b22ffdfe7b9a032e8015a269e56c5b5.html">proofd</a></li><li class="navelem"><a class="el" href="dir_3d83a88aec459430d47b506f67735144.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">XrdProofPhyConn.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="XrdProofPhyConn_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// @(#)root/proofd:$Id$</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Author: Gerardo Ganis  12/12/2005</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/*************************************************************************</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 1995-2005, Rene Brun and Fons Rademakers.               *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * All rights reserved.                                                  *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *                                                                       *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * For the licensing terms see $ROOTSYS/LICENSE.                         *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * For the list of contributors see $ROOTSYS/README/CREDITS.             *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *************************************************************************/</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span><span class="comment">//                                                                      //</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// XrdProofPhyConn                                                      //</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//                                                                      //</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// Authors: G. Ganis, CERN, 2005                                        //</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//                                                                      //</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//  XrdProofConn implementation using a simple physical connection      //</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// (Unix or Tcp)                                                        //</span><span class="comment"></span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XrdProofPhyConn_8h.html">XrdProofPhyConn.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XpdSysDNS_8h.html">XpdSysDNS.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;XrdVersion.hh&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XrdClientEnv_8hh.html">XrdClient/XrdClientEnv.hh</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XrdClientConnMgr_8hh.html">XrdClient/XrdClientConnMgr.hh</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XrdClientConst_8hh.html">XrdClient/XrdClientConst.hh</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XrdClientLogConnection_8hh.html">XrdClient/XrdClientLogConnection.hh</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XrdClientMessage_8hh.html">XrdClient/XrdClientMessage.hh</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;XrdSec/XrdSecInterface.hh&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#ifndef WIN32</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#ifndef ROOT_XrdFour</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#  include &lt;sys/socket.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;netdb.h&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;pwd.h&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;Winsock2.h&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// Tracing utils</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="XrdProofdTrace_8h.html">XrdProofdTrace.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">   47</a></span>&#160;<span class="preprocessor">#define URLTAG &quot;[&quot;&lt;&lt;fUrl.Host&lt;&lt;&quot;:&quot;&lt;&lt;fUrl.Port&lt;&lt;&quot;]&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/// Constructor. Open a direct connection (Unix or Tcp) to a remote</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// XrdProofd instance. Does not use the connection manager.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#abc95bbec0787086471f3cc34fbd6ad68">   53</a></span>&#160;<a class="code" href="classXrdProofPhyConn.html#abc95bbec0787086471f3cc34fbd6ad68">XrdProofPhyConn::XrdProofPhyConn</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *url, <span class="keywordtype">int</span> psid, <span class="keywordtype">char</span> capver,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                 <a class="code" href="classXrdClientAbsUnsolMsgHandler.html">XrdClientAbsUnsolMsgHandler</a> *uh, <span class="keywordtype">bool</span> tcp, <span class="keywordtype">int</span> fd)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   : <a class="code" href="classXrdProofConn.html">XrdProofConn</a>(0, <span class="stringliteral">&#39;i&#39;</span>, psid, capver, uh)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <a class="code" href="XrdProofdTrace_8h.html#a7c31822912a8d0dc9bfd544097b29e12">XPDLOC</a>(ALL, <span class="stringliteral">&quot;PhyConn&quot;</span>)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <a class="code" href="classXrdProofPhyConn.html#ae70b3cf9ccc2296b77d0a199c7ee9c15">fTcp</a> = tcp;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <span class="comment">// Mutex</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="classXrdProofConn.html#a7076d3631a93c9e9eac1ebfb16068059">fMutex</a> = <span class="keyword">new</span> <a class="code" href="XrdSysToOuc_8h.html#aef8b02ba04526e432427472092286bc5">XrdSysRecMutex</a>();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <span class="comment">// Initialization</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">if</span> (url &amp;&amp; !<a class="code" href="classXrdProofPhyConn.html#a71d9a369b99e97369e06aafebd78c969">Init</a>(url, fd)) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;severe error occurred while&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                  <span class="stringliteral">&quot; opening a connection&quot;</span> &lt;&lt; <span class="stringliteral">&quot; to server &quot;</span>&lt;&lt;<a class="code" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/// Initialization</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#a71d9a369b99e97369e06aafebd78c969">   75</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classXrdProofPhyConn.html#a71d9a369b99e97369e06aafebd78c969">XrdProofPhyConn::Init</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *url, <span class="keywordtype">int</span> fd)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <a class="code" href="XrdProofdTrace_8h.html#a7c31822912a8d0dc9bfd544097b29e12">XPDLOC</a>(ALL, <span class="stringliteral">&quot;PhyConn::Init&quot;</span>)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <span class="comment">// Save url</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a53ea86c9c81ee4c133e526bd9a7ca8ef">TakeUrl</a>(XrdOucString(url));</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <span class="comment">// Get user</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   <a class="code" href="classXrdProofConn.html#a92e6d1f58848322bebe2e3407f7e7d82">fUser</a> = <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a7c5839cbf084d6b20f23feb9e1836b01">User</a>.c_str();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a92e6d1f58848322bebe2e3407f7e7d82">fUser</a>.length() &lt;= 0) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="comment">// Use local username, if not specified</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#ifndef WIN32</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keyword">struct </span><a class="code" href="structpasswd.html">passwd</a> *pw = getpwuid(getuid());</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="classXrdProofConn.html#a92e6d1f58848322bebe2e3407f7e7d82">fUser</a> = pw ? pw-&gt;<a class="code" href="structpasswd.html#a6de92e6d2e3dd348ee82472d2b219556">pw_name</a> : <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <span class="keywordtype">char</span>  lname[256];</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      DWORD length = <span class="keyword">sizeof</span> (lname);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      ::GetUserName(lname, &amp;length);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <a class="code" href="classXrdProofConn.html#a92e6d1f58848322bebe2e3407f7e7d82">fUser</a> = lname;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <span class="comment">// Host and Port</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classXrdProofPhyConn.html#ae70b3cf9ccc2296b77d0a199c7ee9c15">fTcp</a>) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordtype">char</span> *hn = XrdSysDNS::getHostName(((<a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a5d4f590ce64737d7f2c0d81f959412f1">Host</a>.length() &gt; 0) ?</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                       <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a5d4f590ce64737d7f2c0d81f959412f1">Host</a>.c_str() : <span class="stringliteral">&quot;localhost&quot;</span>));</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <a class="code" href="classXrdProofConn.html#afa3c57e5ccbc1aca069f81d052fa42e1">fHost</a> = hn;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(hn);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <a class="code" href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">fPort</a> = -1;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a5d4f590ce64737d7f2c0d81f959412f1">Host</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a7c5839cbf084d6b20f23feb9e1836b01">User</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <a class="code" href="classXrdProofConn.html#afa3c57e5ccbc1aca069f81d052fa42e1">fHost</a> = <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a5d4f590ce64737d7f2c0d81f959412f1">Host</a>.c_str();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <a class="code" href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">fPort</a> = <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a40db4c3cc9620fb4d82159e12380d4bf">Port</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="comment">// Check port</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">fPort</a> &lt;= 0) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;         <span class="keyword">struct </span>servent *sent = getservbyname(<span class="stringliteral">&quot;proofd&quot;</span>, <span class="stringliteral">&quot;tcp&quot;</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;         <span class="keywordflow">if</span> (!sent) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;service &#39;proofd&#39; not found by getservbyname&quot;</span> &lt;&lt;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                        <span class="stringliteral">&quot;: using default IANA assigned tcp port 1093&quot;</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <a class="code" href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">fPort</a> = 1093;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">fPort</a> = (int)ntohs(sent-&gt;s_port);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="comment">// Update port in url</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>.<a class="code" href="classXrdClientUrlInfo.html#a40db4c3cc9620fb4d82159e12380d4bf">Port</a> = <a class="code" href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">fPort</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;getservbyname found tcp port &quot;</span> &lt;&lt; <a class="code" href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">fPort</a> &lt;&lt;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        <span class="stringliteral">&quot; for service &#39;proofd&#39;&quot;</span>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;         }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="comment">// Run the connection attempts: the result is stored in fConnected</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <a class="code" href="classXrdProofPhyConn.html#a7bf531673bdeb1d84885267e0084385a">Connect</a>(fd);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <span class="comment">// We are done</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">/// Run the connection attempts: the result is stored in fConnected</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#a7bf531673bdeb1d84885267e0084385a">  137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classXrdProofPhyConn.html#a7bf531673bdeb1d84885267e0084385a">XrdProofPhyConn::Connect</a>(<span class="keywordtype">int</span> fd)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <a class="code" href="XrdProofdTrace_8h.html#a7c31822912a8d0dc9bfd544097b29e12">XPDLOC</a>(ALL, <span class="stringliteral">&quot;PhyConn::Connect&quot;</span>)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordtype">int</span> maxTry = -1, timeWait = -1;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="comment">// Max number of tries and timeout; use current settings, if any</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   <a class="code" href="classXrdProofConn.html#a019cd52de377d5fe3dc5749a96f85469">XrdProofConn::GetRetryParam</a>(maxTry, timeWait);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   maxTry = (maxTry &gt; -1) ? maxTry : <a class="code" href="XrdClientEnv_8hh.html#aa93f68f714455e6702f0a1499a35a391">EnvGetLong</a>(<a class="code" href="XrdClientConst_8hh.html#a8de35a9c67c426b175e7e8a533b760d2">NAME_FIRSTCONNECTMAXCNT</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   timeWait = (timeWait &gt; -1) ? timeWait : <a class="code" href="XrdClientEnv_8hh.html#aa93f68f714455e6702f0a1499a35a391">EnvGetLong</a>(<a class="code" href="XrdClientConst_8hh.html#a1ff22ae1ab45c654c7aaf96a1230882c">NAME_CONNECTTIMEOUT</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <span class="keywordtype">int</span> logid = -1;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">for</span> (; (i &lt; maxTry) &amp;&amp; (!<a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a>); i++) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="comment">// Try connection</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      logid = <a class="code" href="classXrdProofPhyConn.html#a7ef665d57170df7da1dcd1c37e53608d">TryConnect</a>(fd);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="comment">// We are connected to a host. Let&#39;s handshake with it.</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a>) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;         <span class="comment">// Now the have the logical Connection ID, that we can use as streamid for</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;         <span class="comment">// communications with the server</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;         <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(DBG, <span class="stringliteral">&quot;new logical connection ID: &quot;</span>&lt;&lt;logid);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;         <span class="comment">// Get access to server</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="classXrdProofPhyConn.html#af878cd929182f7cd51846cb9d460df11">GetAccessToSrv</a>()) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a5a701d1b05b272341ecda53867c83622">fLastErr</a> == kXR_NotAuthorized) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;               <span class="comment">// Authentication error: does not make much sense to retry</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;               <a class="code" href="classXrdProofPhyConn.html#a8e5f977a88ca41672e019efe3c5dceae">Close</a>(<span class="stringliteral">&quot;P&quot;</span>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;               XrdOucString msg = <a class="code" href="classXrdProofConn.html#a97442e3f50ec7c1344103d7bdedca7c3">fLastErrMsg</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;               msg.erase(msg.rfind(<span class="stringliteral">&quot;:&quot;</span>));</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;               <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;authentication failure: &quot;</span> &lt;&lt; msg);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;               <span class="keywordflow">return</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;               <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;access to server failed (&quot;</span> &lt;&lt; <a class="code" href="classXrdProofConn.html#a97442e3f50ec7c1344103d7bdedca7c3">fLastErrMsg</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="comment">// Manager call in client: no need to create or attach: just notify</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(DBG, <span class="stringliteral">&quot;access to server granted.&quot;</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;         }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="comment">// We force a physical disconnection in this special case</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(DBG, <span class="stringliteral">&quot;disconnecting&quot;</span>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <a class="code" href="classXrdProofPhyConn.html#a8e5f977a88ca41672e019efe3c5dceae">Close</a>(<span class="stringliteral">&quot;P&quot;</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="comment">// And we wait a bit before retrying</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(DBG, <span class="stringliteral">&quot;connection attempt failed: sleep &quot;</span> &lt;&lt; timeWait &lt;&lt; <span class="stringliteral">&quot; secs&quot;</span>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#ifndef WIN32</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="TPosixThread_8h.html#ab708b36917a193216583824c37326042">sleep</a>(timeWait);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      Sleep(timeWait * 1000);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   } <span class="comment">//for connect try</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/// Connect to remote server</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#a7ef665d57170df7da1dcd1c37e53608d">  200</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classXrdProofPhyConn.html#a7ef665d57170df7da1dcd1c37e53608d">XrdProofPhyConn::TryConnect</a>(<span class="keywordtype">int</span> fd)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <a class="code" href="XrdProofdTrace_8h.html#a7c31822912a8d0dc9bfd544097b29e12">XPDLOC</a>(ALL, <span class="stringliteral">&quot;PhyConn::TryConnect&quot;</span>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *ctype[2] = {<span class="stringliteral">&quot;UNIX&quot;</span>, <span class="stringliteral">&quot;TCP&quot;</span>};</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <span class="comment">// Create physical connection</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a> = <span class="keyword">new</span> <a class="code" href="classXrdClientPhyConnection.html">XrdClientPhyConnection</a>(<span class="keyword">this</span>, 0);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="comment">// Connect</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordtype">bool</span> isUnix = (<a class="code" href="classXrdProofPhyConn.html#ae70b3cf9ccc2296b77d0a199c7ee9c15">fTcp</a>) ? 0 : 1;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">#if ROOTXRDVERS &lt;= ROOT_PhyConnNoReuse</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="keywordflow">if</span> (fd &gt; 0) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;Reusing an existing connection (descriptor &quot;</span>&lt;&lt;fd&lt;&lt;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                  <span class="stringliteral">&quot;) not supported by the xroot client version (requires xrootd &gt;= 3.0.3)&quot;</span>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="classXrdProofConn.html#af09292d0d338485741768ce73e5d2c3c">fLogConnID</a> = -1;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a> = 0;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#af87845e9a50267e683d8f49c1c118141">Connect</a>(<a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>, isUnix))) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#af87845e9a50267e683d8f49c1c118141">Connect</a>(<a class="code" href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">fUrl</a>, isUnix, fd))) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;creating &quot;</span>&lt;&lt;ctype[<a class="code" href="classXrdProofPhyConn.html#ae70b3cf9ccc2296b77d0a199c7ee9c15">fTcp</a>]&lt;&lt;<span class="stringliteral">&quot; connection to &quot;</span>&lt;&lt;<a class="code" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="classXrdProofConn.html#af09292d0d338485741768ce73e5d2c3c">fLogConnID</a> = -1;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a> = 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(DBG, ctype[<a class="code" href="classXrdProofPhyConn.html#ae70b3cf9ccc2296b77d0a199c7ee9c15">fTcp</a>]&lt;&lt;<span class="stringliteral">&quot;-connected to &quot;</span>&lt;&lt;<a class="code" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="comment">// Set some vars</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <a class="code" href="classXrdProofConn.html#af09292d0d338485741768ce73e5d2c3c">fLogConnID</a> = 0;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <a class="code" href="classXrdProofConn.html#a873cd989502da83a4a2235109e0e6df8">fStreamid</a> = 1;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a> = 1;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="comment">// Replies are processed asynchronously</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <a class="code" href="classXrdProofPhyConn.html#aca6004e435036f9fae476de78c4c7803">SetAsync</a>(<a class="code" href="classXrdProofConn.html#a5301a06f17ab608e4af4aaf0c8dd2f18">fUnsolMsgHandler</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="comment">// We are done</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classXrdProofConn.html#af09292d0d338485741768ce73e5d2c3c">fLogConnID</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/// Close the connection.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#a8e5f977a88ca41672e019efe3c5dceae">  245</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classXrdProofPhyConn.html#a8e5f977a88ca41672e019efe3c5dceae">XrdProofPhyConn::Close</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="comment">// Make sure we are connected</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a>)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="comment">// Close connection</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#a0d762a567302985f5d546b695f3ed5d6">Disconnect</a>();</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="comment">// Flag this action</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <a class="code" href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">fConnected</a> = 0;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="comment">// We are done</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">/// Set handler of unsolicited responses</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#aca6004e435036f9fae476de78c4c7803">  265</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classXrdProofPhyConn.html#aca6004e435036f9fae476de78c4c7803">XrdProofPhyConn::SetAsync</a>(<a class="code" href="classXrdClientAbsUnsolMsgHandler.html">XrdClientAbsUnsolMsgHandler</a> *uh,</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                               <a class="code" href="XrdProofConn_8h.html#a05edcbd9d5e7eba91841b50f19eeab4e">XrdProofConnSender_t</a>, <span class="keywordtype">void</span> *)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientUnsolMsgSender.html#a1932add6d1a81cdc4702982bdfe84373">UnsolicitedMsgHandler</a> = uh;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">/// Pickup message from the queue</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#a522184590cf6f17db97b34374dbdd6e7">  275</a></span>&#160;<a class="code" href="classXrdClientMessage.html">XrdClientMessage</a> *<a class="code" href="classXrdProofPhyConn.html#a522184590cf6f17db97b34374dbdd6e7">XrdProofPhyConn::ReadMsg</a>()</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a> ? <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#add2f9bdad8f0643bdb85fb8745905f9d">ReadMessage</a>(<a class="code" href="classXrdProofConn.html#a873cd989502da83a4a2235109e0e6df8">fStreamid</a>) : (<a class="code" href="classXrdClientMessage.html">XrdClientMessage</a> *)0);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">/// Gets access to the connected server.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">/// The login and authorization steps are performed here.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#af878cd929182f7cd51846cb9d460df11">  284</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classXrdProofPhyConn.html#af878cd929182f7cd51846cb9d460df11">XrdProofPhyConn::GetAccessToSrv</a>(<a class="code" href="classXrdClientPhyConnection.html">XrdClientPhyConnection</a> *)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <a class="code" href="XrdProofdTrace_8h.html#a7c31822912a8d0dc9bfd544097b29e12">XPDLOC</a>(ALL, <span class="stringliteral">&quot;PhyConn::GetAccessToSrv&quot;</span>)</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="comment">// Now we are connected and we ask for the kind of the server</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   { <a class="code" href="classXrdClientPhyConnLocker.html">XrdClientPhyConnLocker</a> pcl(<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <a class="code" href="classXrdProofConn.html#a0fe07d3157930b2abccb0ef15ad7ce3b">fServerType</a> = <a class="code" href="classXrdProofConn.html#a008c29dfe0558a87332fc7637b07648d">DoHandShake</a>();</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="classXrdProofConn.html#a0fe07d3157930b2abccb0ef15ad7ce3b">fServerType</a>) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91ae9e460b47df14835065b66df242cd790">kSTXProofd</a>:</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(DBG, <span class="stringliteral">&quot;found server at &quot;</span>&lt;&lt;<a class="code" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="comment">// Now we can start the reader thread in the physical connection, if needed</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#aa01d5eb35f1bbd3b490b53ddc6e08efa">StartReader</a>();</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#a8ea360ebd1807ef77aec97f1ecea8448">fServerType</a> = <a class="code" href="XrdClientPhyConnection_8hh.html#ab8220a287f36750c4905b86c7e238bf1acd2bfe9d27e6a3db6e1caac089a14b48">kSTBaseXrootd</a>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91a11dfe5676fd7e4c75dc3a79dcdf05b08">kSTError</a>:</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;handshake failed with server &quot;</span>&lt;&lt;<a class="code" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="classXrdProofPhyConn.html#a8e5f977a88ca41672e019efe3c5dceae">Close</a>();</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91af87c64f69aa1820153280b3113ae5476">kSTProofd</a>:</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91a9712a4146a638e5d0991e5663fbe544d">kSTNone</a>:</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;server at &quot;</span>&lt;&lt;<a class="code" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a>&lt;&lt; <span class="stringliteral">&quot; is unknown : protocol error&quot;</span>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="classXrdProofPhyConn.html#a8e5f977a88ca41672e019efe3c5dceae">Close</a>();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="comment">// Execute a login</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#a6ef031b126301b4002dc354075e172ce">IsLogged</a>() != <a class="code" href="XrdClientPhyConnection_8hh.html#a87197ac7c301f48b980135eeee7c7228a503f4e9dca6c8c12ea38f9e8c1be0126">kNo</a>) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a>(XERR, <span class="stringliteral">&quot;client already logged-in at &quot;</span>&lt;&lt;<a class="code" href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a>&lt;&lt;<span class="stringliteral">&quot; (!): protocol error!&quot;</span>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="comment">// Login</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classXrdProofConn.html#ad8d9f9adab9307249bde01420747788b">Login</a>();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/// Low level write call</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#af65c6670c2ba95bfb1d494685a51f105">  330</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classXrdProofPhyConn.html#af65c6670c2ba95bfb1d494685a51f105">XrdProofPhyConn::WriteRaw</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *buf, <span class="keywordtype">int</span> len, <a class="code" href="classXrdClientPhyConnection.html">XrdClientPhyConnection</a> *)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#a662f0943ccddb351a49a58ed709c60de">WriteRaw</a>(buf, len);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="comment">// No connection open</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">/// Low level write call</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="classXrdProofPhyConn.html#a85738216c91e62cc73adacb0da37c1c6">  342</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classXrdProofPhyConn.html#a85738216c91e62cc73adacb0da37c1c6">XrdProofPhyConn::ReadRaw</a>(<span class="keywordtype">void</span> *buf, <span class="keywordtype">int</span> len, <a class="code" href="classXrdClientPhyConnection.html">XrdClientPhyConnection</a> *)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">fPhyConn</a>-&gt;<a class="code" href="classXrdClientPhyConnection.html#a5b8d1a9cd2379004de7035f4f7dcb2a7">ReadRaw</a>(buf, len);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="comment">// No connection open</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div><div class="ttc" id="XrdProofdTrace_8h_html"><div class="ttname"><a href="XrdProofdTrace_8h.html">XrdProofdTrace.h</a></div></div>
<div class="ttc" id="XrdClientMessage_8hh_html"><div class="ttname"><a href="XrdClientMessage_8hh.html">XrdClientMessage.hh</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_af65c6670c2ba95bfb1d494685a51f105"><div class="ttname"><a href="classXrdProofPhyConn.html#af65c6670c2ba95bfb1d494685a51f105">XrdProofPhyConn::WriteRaw</a></div><div class="ttdeci">int WriteRaw(const void *buf, int len, XrdClientPhyConnection *=0)</div><div class="ttdoc">Low level write call. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00330">XrdProofPhyConn.cxx:330</a></div></div>
<div class="ttc" id="classXrdClientUrlInfo_html_a53ea86c9c81ee4c133e526bd9a7ca8ef"><div class="ttname"><a href="classXrdClientUrlInfo.html#a53ea86c9c81ee4c133e526bd9a7ca8ef">XrdClientUrlInfo::TakeUrl</a></div><div class="ttdeci">void TakeUrl(XrdOucString url)</div></div>
<div class="ttc" id="classXrdProofConn_html_a873cd989502da83a4a2235109e0e6df8"><div class="ttname"><a href="classXrdProofConn.html#a873cd989502da83a4a2235109e0e6df8">XrdProofConn::fStreamid</a></div><div class="ttdeci">kXR_unt16 fStreamid</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00063">XrdProofConn.h:63</a></div></div>
<div class="ttc" id="classXrdClientUrlInfo_html_a40db4c3cc9620fb4d82159e12380d4bf"><div class="ttname"><a href="classXrdClientUrlInfo.html#a40db4c3cc9620fb4d82159e12380d4bf">XrdClientUrlInfo::Port</a></div><div class="ttdeci">int Port</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientUrlInfo_8hh_source.html#l00056">XrdClientUrlInfo.hh:56</a></div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_a0d762a567302985f5d546b695f3ed5d6"><div class="ttname"><a href="classXrdClientPhyConnection.html#a0d762a567302985f5d546b695f3ed5d6">XrdClientPhyConnection::Disconnect</a></div><div class="ttdeci">void Disconnect()</div></div>
<div class="ttc" id="classXrdProofPhyConn_html_a8e5f977a88ca41672e019efe3c5dceae"><div class="ttname"><a href="classXrdProofPhyConn.html#a8e5f977a88ca41672e019efe3c5dceae">XrdProofPhyConn::Close</a></div><div class="ttdeci">void Close(const char *opt=&quot;&quot;)</div><div class="ttdoc">Close the connection. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00245">XrdProofPhyConn.cxx:245</a></div></div>
<div class="ttc" id="XrdSysToOuc_8h_html_aef8b02ba04526e432427472092286bc5"><div class="ttname"><a href="XrdSysToOuc_8h.html#aef8b02ba04526e432427472092286bc5">XrdSysRecMutex</a></div><div class="ttdeci">#define XrdSysRecMutex</div><div class="ttdef"><b>Definition:</b> <a href="XrdSysToOuc_8h_source.html#l00018">XrdSysToOuc.h:18</a></div></div>
<div class="ttc" id="XrdProofPhyConn_8cxx_html_a31590af40adabd1c436e663000ced089"><div class="ttname"><a href="XrdProofPhyConn_8cxx.html#a31590af40adabd1c436e663000ced089">URLTAG</a></div><div class="ttdeci">#define URLTAG</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00047">XrdProofPhyConn.cxx:47</a></div></div>
<div class="ttc" id="TGHtml_8h_html_ad5bb4a3d12fd54f29da2b924b29e652b"><div class="ttname"><a href="TGHtml_8h.html#ad5bb4a3d12fd54f29da2b924b29e652b">TRACE</a></div><div class="ttdeci">#define TRACE(Flag, Args)</div><div class="ttdef"><b>Definition:</b> <a href="TGHtml_8h_source.html#l00120">TGHtml.h:120</a></div></div>
<div class="ttc" id="classXrdClientPhyConnection_html"><div class="ttname"><a href="classXrdClientPhyConnection.html">XrdClientPhyConnection</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdClientPhyConnection_8hh_source.html#l00069">XrdClientPhyConnection.hh:69</a></div></div>
<div class="ttc" id="classXrdProofConn_html_af09292d0d338485741768ce73e5d2c3c"><div class="ttname"><a href="classXrdProofConn.html#af09292d0d338485741768ce73e5d2c3c">XrdProofConn::fLogConnID</a></div><div class="ttdeci">int fLogConnID</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00062">XrdProofConn.h:62</a></div></div>
<div class="ttc" id="XrdClientLogConnection_8hh_html"><div class="ttname"><a href="XrdClientLogConnection_8hh.html">XrdClientLogConnection.hh</a></div></div>
<div class="ttc" id="XrdClientConst_8hh_html_a8de35a9c67c426b175e7e8a533b760d2"><div class="ttname"><a href="XrdClientConst_8hh.html#a8de35a9c67c426b175e7e8a533b760d2">NAME_FIRSTCONNECTMAXCNT</a></div><div class="ttdeci">#define NAME_FIRSTCONNECTMAXCNT</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientConst_8hh_source.html#l00058">XrdClientConst.hh:58</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a5a701d1b05b272341ecda53867c83622"><div class="ttname"><a href="classXrdProofConn.html#a5a701d1b05b272341ecda53867c83622">XrdProofConn::fLastErr</a></div><div class="ttdeci">XErrorCode fLastErr</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00073">XrdProofConn.h:73</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a008c29dfe0558a87332fc7637b07648d"><div class="ttname"><a href="classXrdProofConn.html#a008c29dfe0558a87332fc7637b07648d">XrdProofConn::DoHandShake</a></div><div class="ttdeci">ESrvType DoHandShake(XrdClientPhyConnection *p=0)</div><div class="ttdoc">Performs initial hand-shake with the server in order to understand which kind of server is there at t...</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8cxx_source.html#l00965">XrdProofConn.cxx:965</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_aca6004e435036f9fae476de78c4c7803"><div class="ttname"><a href="classXrdProofPhyConn.html#aca6004e435036f9fae476de78c4c7803">XrdProofPhyConn::SetAsync</a></div><div class="ttdeci">void SetAsync(XrdClientAbsUnsolMsgHandler *uh, XrdProofConnSender_t=0, void *=0)</div><div class="ttdoc">Set handler of unsolicited responses. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00265">XrdProofPhyConn.cxx:265</a></div></div>
<div class="ttc" id="XrdClientEnv_8hh_html_aa93f68f714455e6702f0a1499a35a391"><div class="ttname"><a href="XrdClientEnv_8hh.html#aa93f68f714455e6702f0a1499a35a391">EnvGetLong</a></div><div class="ttdeci">#define EnvGetLong(x)</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientEnv_8hh_source.html#l00044">XrdClientEnv.hh:44</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_a71d9a369b99e97369e06aafebd78c969"><div class="ttname"><a href="classXrdProofPhyConn.html#a71d9a369b99e97369e06aafebd78c969">XrdProofPhyConn::Init</a></div><div class="ttdeci">bool Init(const char *url, int fd=-1)</div><div class="ttdoc">Initialization. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00075">XrdProofPhyConn.cxx:75</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a7076d3631a93c9e9eac1ebfb16068059"><div class="ttname"><a href="classXrdProofConn.html#a7076d3631a93c9e9eac1ebfb16068059">XrdProofConn::fMutex</a></div><div class="ttdeci">XrdSysRecMutex * fMutex</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00078">XrdProofConn.h:78</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_af878cd929182f7cd51846cb9d460df11"><div class="ttname"><a href="classXrdProofPhyConn.html#af878cd929182f7cd51846cb9d460df11">XrdProofPhyConn::GetAccessToSrv</a></div><div class="ttdeci">bool GetAccessToSrv(XrdClientPhyConnection *=0)</div><div class="ttdoc">Gets access to the connected server. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00284">XrdProofPhyConn.cxx:284</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a2318edff72a7c37cc808e1a8fc7a25b5"><div class="ttname"><a href="classXrdProofConn.html#a2318edff72a7c37cc808e1a8fc7a25b5">XrdProofConn::fConnected</a></div><div class="ttdeci">bool fConnected</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00061">XrdProofConn.h:61</a></div></div>
<div class="ttc" id="structpasswd_html_a6de92e6d2e3dd348ee82472d2b219556"><div class="ttname"><a href="structpasswd.html#a6de92e6d2e3dd348ee82472d2b219556">passwd::pw_name</a></div><div class="ttdeci">char * pw_name</div><div class="ttdef"><b>Definition:</b> <a href="TWinNTSystem_8h_source.html#l00048">TWinNTSystem.h:48</a></div></div>
<div class="ttc" id="XrdProofConn_8h_html_a05edcbd9d5e7eba91841b50f19eeab4e"><div class="ttname"><a href="XrdProofConn_8h.html#a05edcbd9d5e7eba91841b50f19eeab4e">XrdProofConnSender_t</a></div><div class="ttdeci">int(* XrdProofConnSender_t)(const char *, int, void *)</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00046">XrdProofConn.h:46</a></div></div>
<div class="ttc" id="classXrdProofConn_html"><div class="ttname"><a href="classXrdProofConn.html">XrdProofConn</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00048">XrdProofConn.h:48</a></div></div>
<div class="ttc" id="classXrdProofConn_html_ad8d9f9adab9307249bde01420747788b"><div class="ttname"><a href="classXrdProofConn.html#ad8d9f9adab9307249bde01420747788b">XrdProofConn::Login</a></div><div class="ttdeci">bool Login()</div><div class="ttdoc">This method perform the loggin-in into the server just after the hand-shake. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8cxx_source.html#l01076">XrdProofConn.cxx:1076</a></div></div>
<div class="ttc" id="XrdClientPhyConnection_8hh_html_ab8220a287f36750c4905b86c7e238bf1acd2bfe9d27e6a3db6e1caac089a14b48"><div class="ttname"><a href="XrdClientPhyConnection_8hh.html#ab8220a287f36750c4905b86c7e238bf1acd2bfe9d27e6a3db6e1caac089a14b48">kSTBaseXrootd</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdClientPhyConnection_8hh_source.html#l00060">XrdClientPhyConnection.hh:60</a></div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_a5b8d1a9cd2379004de7035f4f7dcb2a7"><div class="ttname"><a href="classXrdClientPhyConnection.html#a5b8d1a9cd2379004de7035f4f7dcb2a7">XrdClientPhyConnection::ReadRaw</a></div><div class="ttdeci">int ReadRaw(void *buffer, int BufferLength, int substreamid=-1, int *usedsubstreamid=0)</div></div>
<div class="ttc" id="classXrdClientAbsUnsolMsgHandler_html"><div class="ttname"><a href="classXrdClientAbsUnsolMsgHandler.html">XrdClientAbsUnsolMsgHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdClientUnsolMsg_8hh_source.html#l00051">XrdClientUnsolMsg.hh:51</a></div></div>
<div class="ttc" id="XrdClientConst_8hh_html"><div class="ttname"><a href="XrdClientConst_8hh.html">XrdClientConst.hh</a></div></div>
<div class="ttc" id="XrdProofdTrace_8h_html_a7c31822912a8d0dc9bfd544097b29e12"><div class="ttname"><a href="XrdProofdTrace_8h.html#a7c31822912a8d0dc9bfd544097b29e12">XPDLOC</a></div><div class="ttdeci">#define XPDLOC(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofdTrace_8h_source.html#l00071">XrdProofdTrace.h:71</a></div></div>
<div class="ttc" id="classXrdClientMessage_html"><div class="ttname"><a href="classXrdClientMessage.html">XrdClientMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdClientMessage_8hh_source.html#l00049">XrdClientMessage.hh:49</a></div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_aa01d5eb35f1bbd3b490b53ddc6e08efa"><div class="ttname"><a href="classXrdClientPhyConnection.html#aa01d5eb35f1bbd3b490b53ddc6e08efa">XrdClientPhyConnection::StartReader</a></div><div class="ttdeci">void StartReader()</div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_af87845e9a50267e683d8f49c1c118141"><div class="ttname"><a href="classXrdClientPhyConnection.html#af87845e9a50267e683d8f49c1c118141">XrdClientPhyConnection::Connect</a></div><div class="ttdeci">bool Connect(XrdClientUrlInfo RemoteHost, bool isUnix=0)</div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_a8ea360ebd1807ef77aec97f1ecea8448"><div class="ttname"><a href="classXrdClientPhyConnection.html#a8ea360ebd1807ef77aec97f1ecea8448">XrdClientPhyConnection::fServerType</a></div><div class="ttdeci">ERemoteServerType fServerType</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientPhyConnection_8hh_source.html#l00107">XrdClientPhyConnection.hh:107</a></div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_a6ef031b126301b4002dc354075e172ce"><div class="ttname"><a href="classXrdClientPhyConnection.html#a6ef031b126301b4002dc354075e172ce">XrdClientPhyConnection::IsLogged</a></div><div class="ttdeci">ELoginState IsLogged()</div></div>
<div class="ttc" id="XrdProofPhyConn_8h_html"><div class="ttname"><a href="XrdProofPhyConn_8h.html">XrdProofPhyConn.h</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_a522184590cf6f17db97b34374dbdd6e7"><div class="ttname"><a href="classXrdProofPhyConn.html#a522184590cf6f17db97b34374dbdd6e7">XrdProofPhyConn::ReadMsg</a></div><div class="ttdeci">XrdClientMessage * ReadMsg()</div><div class="ttdoc">Pickup message from the queue. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00275">XrdProofPhyConn.cxx:275</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a3c73aba65673d6358b36b4ebcf242a91a11dfe5676fd7e4c75dc3a79dcdf05b08"><div class="ttname"><a href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91a11dfe5676fd7e4c75dc3a79dcdf05b08">XrdProofConn::kSTError</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00056">XrdProofConn.h:56</a></div></div>
<div class="ttc" id="classXrdClientUrlInfo_html_a7c5839cbf084d6b20f23feb9e1836b01"><div class="ttname"><a href="classXrdClientUrlInfo.html#a7c5839cbf084d6b20f23feb9e1836b01">XrdClientUrlInfo::User</a></div><div class="ttdeci">XrdOucString User</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientUrlInfo_8hh_source.html#l00054">XrdClientUrlInfo.hh:54</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a92e6d1f58848322bebe2e3407f7e7d82"><div class="ttname"><a href="classXrdProofConn.html#a92e6d1f58848322bebe2e3407f7e7d82">XrdProofConn::fUser</a></div><div class="ttdeci">XrdOucString fUser</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00069">XrdProofConn.h:69</a></div></div>
<div class="ttc" id="structpasswd_html"><div class="ttname"><a href="structpasswd.html">passwd</a></div><div class="ttdef"><b>Definition:</b> <a href="TWinNTSystem_8h_source.html#l00047">TWinNTSystem.h:47</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a859817c7f7074754012c82c40aca2a3e"><div class="ttname"><a href="classXrdProofConn.html#a859817c7f7074754012c82c40aca2a3e">XrdProofConn::fUrl</a></div><div class="ttdeci">XrdClientUrlInfo fUrl</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00092">XrdProofConn.h:92</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a019cd52de377d5fe3dc5749a96f85469"><div class="ttname"><a href="classXrdProofConn.html#a019cd52de377d5fe3dc5749a96f85469">XrdProofConn::GetRetryParam</a></div><div class="ttdeci">static void GetRetryParam(int &amp;maxtry, int &amp;timewait)</div><div class="ttdoc">Retrieve current values of the retry control parameters, numer of retries and wait time between attem...</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8cxx_source.html#l00140">XrdProofConn.cxx:140</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_a7bf531673bdeb1d84885267e0084385a"><div class="ttname"><a href="classXrdProofPhyConn.html#a7bf531673bdeb1d84885267e0084385a">XrdProofPhyConn::Connect</a></div><div class="ttdeci">void Connect(int fd=-1)</div><div class="ttdoc">Run the connection attempts: the result is stored in fConnected. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00137">XrdProofPhyConn.cxx:137</a></div></div>
<div class="ttc" id="XpdSysDNS_8h_html"><div class="ttname"><a href="XpdSysDNS_8h.html">XpdSysDNS.h</a></div></div>
<div class="ttc" id="classXrdProofConn_html_afa3c57e5ccbc1aca069f81d052fa42e1"><div class="ttname"><a href="classXrdProofConn.html#afa3c57e5ccbc1aca069f81d052fa42e1">XrdProofConn::fHost</a></div><div class="ttdeci">XrdOucString fHost</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00070">XrdProofConn.h:70</a></div></div>
<div class="ttc" id="XrdClientConst_8hh_html_a1ff22ae1ab45c654c7aaf96a1230882c"><div class="ttname"><a href="XrdClientConst_8hh.html#a1ff22ae1ab45c654c7aaf96a1230882c">NAME_CONNECTTIMEOUT</a></div><div class="ttdeci">#define NAME_CONNECTTIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientConst_8hh_source.html#l00040">XrdClientConst.hh:40</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_a7ef665d57170df7da1dcd1c37e53608d"><div class="ttname"><a href="classXrdProofPhyConn.html#a7ef665d57170df7da1dcd1c37e53608d">XrdProofPhyConn::TryConnect</a></div><div class="ttdeci">int TryConnect(int fd=-1)</div><div class="ttdoc">Connect to remote server. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00200">XrdProofPhyConn.cxx:200</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a3c73aba65673d6358b36b4ebcf242a91ae9e460b47df14835065b66df242cd790"><div class="ttname"><a href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91ae9e460b47df14835065b66df242cd790">XrdProofConn::kSTXProofd</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00056">XrdProofConn.h:56</a></div></div>
<div class="ttc" id="civetweb_8c_html_a2c6efa7679f8cd9f61af96e105017560"><div class="ttname"><a href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a></div><div class="ttdeci">#define free</div><div class="ttdef"><b>Definition:</b> <a href="civetweb_8c_source.html#l01539">civetweb.c:1539</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a0b12e545e2c900af70cc32f7ab561ccb"><div class="ttname"><a href="classXrdProofConn.html#a0b12e545e2c900af70cc32f7ab561ccb">XrdProofConn::fPhyConn</a></div><div class="ttdeci">XrdClientPhyConnection * fPhyConn</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00083">XrdProofConn.h:83</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a97442e3f50ec7c1344103d7bdedca7c3"><div class="ttname"><a href="classXrdProofConn.html#a97442e3f50ec7c1344103d7bdedca7c3">XrdProofConn::fLastErrMsg</a></div><div class="ttdeci">XrdOucString fLastErrMsg</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00072">XrdProofConn.h:72</a></div></div>
<div class="ttc" id="TPosixThread_8h_html_ab708b36917a193216583824c37326042"><div class="ttname"><a href="TPosixThread_8h.html#ab708b36917a193216583824c37326042">sleep</a></div><div class="ttdeci">R__EXTERN C unsigned int sleep(unsigned int seconds)</div></div>
<div class="ttc" id="classXrdProofConn_html_a3c73aba65673d6358b36b4ebcf242a91a9712a4146a638e5d0991e5663fbe544d"><div class="ttname"><a href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91a9712a4146a638e5d0991e5663fbe544d">XrdProofConn::kSTNone</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00056">XrdProofConn.h:56</a></div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_a662f0943ccddb351a49a58ed709c60de"><div class="ttname"><a href="classXrdClientPhyConnection.html#a662f0943ccddb351a49a58ed709c60de">XrdClientPhyConnection::WriteRaw</a></div><div class="ttdeci">int WriteRaw(const void *buffer, int BufferLength, int substreamid=0)</div></div>
<div class="ttc" id="classXrdClientUnsolMsgSender_html_a1932add6d1a81cdc4702982bdfe84373"><div class="ttname"><a href="classXrdClientUnsolMsgSender.html#a1932add6d1a81cdc4702982bdfe84373">XrdClientUnsolMsgSender::UnsolicitedMsgHandler</a></div><div class="ttdeci">XrdClientAbsUnsolMsgHandler * UnsolicitedMsgHandler</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientUnsolMsg_8hh_source.html#l00070">XrdClientUnsolMsg.hh:70</a></div></div>
<div class="ttc" id="classXrdClientPhyConnLocker_html"><div class="ttname"><a href="classXrdClientPhyConnLocker.html">XrdClientPhyConnLocker</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdClientPhyConnection_8hh_source.html#l00209">XrdClientPhyConnection.hh:209</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a0fe07d3157930b2abccb0ef15ad7ce3b"><div class="ttname"><a href="classXrdProofConn.html#a0fe07d3157930b2abccb0ef15ad7ce3b">XrdProofConn::fServerType</a></div><div class="ttdeci">ESrvType fServerType</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00066">XrdProofConn.h:66</a></div></div>
<div class="ttc" id="XrdClientPhyConnection_8hh_html_a87197ac7c301f48b980135eeee7c7228a503f4e9dca6c8c12ea38f9e8c1be0126"><div class="ttname"><a href="XrdClientPhyConnection_8hh.html#a87197ac7c301f48b980135eeee7c7228a503f4e9dca6c8c12ea38f9e8c1be0126">kNo</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdClientPhyConnection_8hh_source.html#l00051">XrdClientPhyConnection.hh:51</a></div></div>
<div class="ttc" id="classXrdProofConn_html_af9c0e79d11e6b0057354ce207dcdca72"><div class="ttname"><a href="classXrdProofConn.html#af9c0e79d11e6b0057354ce207dcdca72">XrdProofConn::fPort</a></div><div class="ttdeci">int fPort</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00071">XrdProofConn.h:71</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_ae70b3cf9ccc2296b77d0a199c7ee9c15"><div class="ttname"><a href="classXrdProofPhyConn.html#ae70b3cf9ccc2296b77d0a199c7ee9c15">XrdProofPhyConn::fTcp</a></div><div class="ttdeci">bool fTcp</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8h_source.html#l00035">XrdProofPhyConn.h:35</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_a85738216c91e62cc73adacb0da37c1c6"><div class="ttname"><a href="classXrdProofPhyConn.html#a85738216c91e62cc73adacb0da37c1c6">XrdProofPhyConn::ReadRaw</a></div><div class="ttdeci">int ReadRaw(void *buf, int len, XrdClientPhyConnection *=0)</div><div class="ttdoc">Low level write call. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00342">XrdProofPhyConn.cxx:342</a></div></div>
<div class="ttc" id="classXrdProofPhyConn_html_abc95bbec0787086471f3cc34fbd6ad68"><div class="ttname"><a href="classXrdProofPhyConn.html#abc95bbec0787086471f3cc34fbd6ad68">XrdProofPhyConn::XrdProofPhyConn</a></div><div class="ttdeci">XrdProofPhyConn(const char *url, int psid=-1, char ver=-1, XrdClientAbsUnsolMsgHandler *uh=0, bool tcp=0, int fd=-1)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="XrdProofPhyConn_8cxx_source.html#l00053">XrdProofPhyConn.cxx:53</a></div></div>
<div class="ttc" id="classXrdClientUrlInfo_html_a5d4f590ce64737d7f2c0d81f959412f1"><div class="ttname"><a href="classXrdClientUrlInfo.html#a5d4f590ce64737d7f2c0d81f959412f1">XrdClientUrlInfo::Host</a></div><div class="ttdeci">XrdOucString Host</div><div class="ttdef"><b>Definition:</b> <a href="XrdClientUrlInfo_8hh_source.html#l00055">XrdClientUrlInfo.hh:55</a></div></div>
<div class="ttc" id="classXrdProofConn_html_a3c73aba65673d6358b36b4ebcf242a91af87c64f69aa1820153280b3113ae5476"><div class="ttname"><a href="classXrdProofConn.html#a3c73aba65673d6358b36b4ebcf242a91af87c64f69aa1820153280b3113ae5476">XrdProofConn::kSTProofd</a></div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00056">XrdProofConn.h:56</a></div></div>
<div class="ttc" id="classXrdClientPhyConnection_html_add2f9bdad8f0643bdb85fb8745905f9d"><div class="ttname"><a href="classXrdClientPhyConnection.html#add2f9bdad8f0643bdb85fb8745905f9d">XrdClientPhyConnection::ReadMessage</a></div><div class="ttdeci">XrdClientMessage * ReadMessage(int streamid)</div></div>
<div class="ttc" id="classXrdProofConn_html_a5301a06f17ab608e4af4aaf0c8dd2f18"><div class="ttname"><a href="classXrdProofConn.html#a5301a06f17ab608e4af4aaf0c8dd2f18">XrdProofConn::fUnsolMsgHandler</a></div><div class="ttdeci">XrdClientAbsUnsolMsgHandler * fUnsolMsgHandler</div><div class="ttdef"><b>Definition:</b> <a href="XrdProofConn_8h_source.html#l00087">XrdProofConn.h:87</a></div></div>
<div class="ttc" id="XrdClientConnMgr_8hh_html"><div class="ttname"><a href="XrdClientConnMgr_8hh.html">XrdClientConnMgr.hh</a></div></div>
<div class="ttc" id="XrdClientEnv_8hh_html"><div class="ttname"><a href="XrdClientEnv_8hh.html">XrdClientEnv.hh</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:09:37 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
