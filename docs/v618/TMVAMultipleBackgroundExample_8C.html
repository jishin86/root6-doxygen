<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: tutorials/tmva/TMVAMultipleBackgroundExample.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0d353d24d0afa59909efab6593124f6d.html">tutorials</a></li><li class="navelem"><a class="el" href="dir_57937f7cf6e069c092300443fa5e4440.html">tmva</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">TMVAMultipleBackgroundExample.C File Reference<div class="ingroups"><a class="el" href="group__Tutorials.html">Tutorials</a> &raquo; <a class="el" href="group__tutorial__tmva.html">TMVA tutorials</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p> <a href="http://nbviewer.jupyter.org/url/root.cern.ch/doc/master/notebooks/TMVAMultipleBackgroundExample.C.nbconvert.ipynb" target="_blank"><img src= notebook.gif alt="View in nbviewer" style="height:1em" ></a> <a href="https://cern.ch/swanserver/cgi-bin/go?projurl=https://root.cern.ch/doc/master/notebooks/TMVAMultipleBackgroundExample.C.nbconvert.ipynb" target="_blank"><img src="http://swanserver.web.cern.ch/swanserver/images/badge_swan_white_150.png"  alt="Open in SWAN" style="height:1em" ></a>  This example shows the training of signal with three different backgrounds Then in the application a tree is created with all signal and background events where the true class ID and the three classifier outputs are added finally with the application tree, the significance is maximized with the help of the TMVA genetic algrorithm. </p>
<ul>
<li>Project : TMVA - a Root-integrated toolkit for multivariate data analysis</li>
<li>Package : TMVA</li>
<li>Exectuable: TMVAGAexample</li>
</ul>
<div class="fragment"><div class="line"></div><div class="line">Start Test TMVAGAexample</div><div class="line">========================</div><div class="line"></div><div class="line">... event: 0 (200)</div><div class="line">======&gt; EVENT:0</div><div class="line"> var1            = -1.14361</div><div class="line"> var2            = -0.822373</div><div class="line"> var3            = -0.395426</div><div class="line"> var4            = -0.529427</div><div class="line">created tree: TreeS</div><div class="line">... event: 0 (200)</div><div class="line">======&gt; EVENT:0</div><div class="line"> var1            = -1.54361</div><div class="line"> var2            = -1.42237</div><div class="line"> var3            = -1.39543</div><div class="line"> var4            = -2.02943</div><div class="line">created tree: TreeB0</div><div class="line">... event: 0 (200)</div><div class="line">======&gt; EVENT:0</div><div class="line"> var1            = -1.54361</div><div class="line"> var2            = -0.822373</div><div class="line"> var3            = -0.395426</div><div class="line"> var4            = -2.02943</div><div class="line">created tree: TreeB1</div><div class="line">======&gt; EVENT:0</div><div class="line"> var1            = 0.463304</div><div class="line"> var2            = 1.37192</div><div class="line"> var3            = -1.16769</div><div class="line"> var4            = -1.77551</div><div class="line">created tree: TreeB2</div><div class="line">created data file: tmva_example_multiple_background.root</div><div class="line"></div><div class="line">========================</div><div class="line">--- Training</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [datasetBkg0] : Added class &quot;Signal&quot;</div><div class="line">                         : Add Tree TreeS of type Signal with 200 events</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [datasetBkg0] : Added class &quot;Background&quot;</div><div class="line">                         : Add Tree TreeB0 of type Background with 200 events</div><div class="line">&lt;HEADER&gt; Factory                  : Booking method: BDTG</div><div class="line">                         : </div><div class="line">                         : the option NegWeightTreatment=InverseBoostNegWeights does not exist for BoostType=Grad</div><div class="line">                         : --&gt; change to new default NegWeightTreatment=Pray</div><div class="line">&lt;HEADER&gt; DataSetFactory           : [datasetBkg0] : Number of events in input trees</div><div class="line">                         : </div><div class="line">                         : </div><div class="line">                         : Number of training and testing events</div><div class="line">                         : ---------------------------------------------------------------------------</div><div class="line">                         : Signal     -- training events            : 100</div><div class="line">                         : Signal     -- testing events             : 100</div><div class="line">                         : Signal     -- training and testing events: 200</div><div class="line">                         : Background -- training events            : 100</div><div class="line">                         : Background -- testing events             : 100</div><div class="line">                         : Background -- training and testing events: 200</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; DataSetInfo              : Correlation matrix (Signal):</div><div class="line">                         : ----------------------------------------</div><div class="line">                         :             var1    var2    var3    var4</div><div class="line">                         :    var1:  +1.000  +0.427  +0.620  +0.834</div><div class="line">                         :    var2:  +0.427  +1.000  +0.756  +0.779</div><div class="line">                         :    var3:  +0.620  +0.756  +1.000  +0.854</div><div class="line">                         :    var4:  +0.834  +0.779  +0.854  +1.000</div><div class="line">                         : ----------------------------------------</div><div class="line">&lt;HEADER&gt; DataSetInfo              : Correlation matrix (Background):</div><div class="line">                         : ----------------------------------------</div><div class="line">                         :             var1    var2    var3    var4</div><div class="line">                         :    var1:  +1.000  +0.390  +0.543  +0.801</div><div class="line">                         :    var2:  +0.390  +1.000  +0.787  +0.768</div><div class="line">                         :    var3:  +0.543  +0.787  +1.000  +0.837</div><div class="line">                         :    var4:  +0.801  +0.768  +0.837  +1.000</div><div class="line">                         : ----------------------------------------</div><div class="line">&lt;HEADER&gt; DataSetFactory           : [datasetBkg0] :  </div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Factory                  : Train all methods</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg0] : Create Transformation &quot;I&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg0] : Create Transformation &quot;D&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg0] : Create Transformation &quot;P&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg0] : Create Transformation &quot;G&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg0] : Create Transformation &quot;D&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:  0.0025285     1.0135   [    -3.1150     2.2852 ]</div><div class="line">                         :     var2:   0.015478     1.1254   [    -3.6952     3.1113 ]</div><div class="line">                         :     var3:   0.083688     1.1724   [    -3.3587     3.9796 ]</div><div class="line">                         :     var4:    0.18853     1.3296   [    -3.7913     4.1179 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Decorrelation transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:   -0.12706     1.0000   [    -3.2013     2.4661 ]</div><div class="line">                         :     var2:  -0.094932     1.0000   [    -2.7387     2.4399 ]</div><div class="line">                         :     var3: -0.0075796     1.0000   [    -2.7068     3.2704 ]</div><div class="line">                         :     var4:    0.28226     1.0000   [    -1.9230     2.3683 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Principle Component (PCA) transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1: 3.3271e-09     2.0955   [    -6.9024     6.2810 ]</div><div class="line">                         :     var2: 5.4250e-10    0.81719   [    -2.1933     1.8247 ]</div><div class="line">                         :     var3: 7.3866e-10    0.50438   [    -1.2415     1.1920 ]</div><div class="line">                         :     var4: 2.1420e-10    0.35074   [   -0.85693     1.0044 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Gaussian transformation...</div><div class="line">                         : Preparing the Decorrelation transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.18815     1.0000   [    -1.2538     5.4391 ]</div><div class="line">                         :     var2:    0.14382     1.0000   [    -2.0629     6.0054 ]</div><div class="line">                         :     var3:    0.11380     1.0000   [    -2.0399     7.5442 ]</div><div class="line">                         :     var4:   0.048569     1.0000   [    -2.7199     5.5633 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Ranking input variables (method unspecific)...</div><div class="line">&lt;HEADER&gt; IdTransformation         : Ranking result (top variable is best ranked)</div><div class="line">                         : -----------------------------------</div><div class="line">                         : Rank : Variable   : Separation</div><div class="line">                         : -----------------------------------</div><div class="line">                         :    1 : Variable 4 : 4.418e-01</div><div class="line">                         :    2 : Variable 3 : 3.388e-01</div><div class="line">                         :    3 : Variable 2 : 2.147e-01</div><div class="line">                         :    4 : Variable 1 : 1.485e-01</div><div class="line">                         : -----------------------------------</div><div class="line">&lt;HEADER&gt; Factory                  : Train method: BDTG for Classification</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : #events: (reweighted) sig: 100 bkg: 100</div><div class="line">                         : #events: (unweighted) sig: 100 bkg: 100</div><div class="line">                         : Training 1000 Decision Trees ... patience please</div><div class="line">                         : Elapsed time for training with 200 events: 0.124 sec         </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg0] : Evaluation of BDTG on training sample (200 events)</div><div class="line">                         : Elapsed time for evaluation of 200 events: 0.0148 sec       </div><div class="line">                         : Creating xml weight file: datasetBkg0/weights/TMVAMultiBkg0_BDTG.weights.xml</div><div class="line">                         : Creating standalone class: datasetBkg0/weights/TMVAMultiBkg0_BDTG.class.C</div><div class="line">                         : TMVASignalBackground0.root:/datasetBkg0/Method_BDT/BDTG</div><div class="line">&lt;HEADER&gt; Factory                  : Training finished</div><div class="line">                         : </div><div class="line">                         : Ranking input variables (method specific)...</div><div class="line">&lt;HEADER&gt; BDTG                     : Ranking result (top variable is best ranked)</div><div class="line">                         : --------------------------------------</div><div class="line">                         : Rank : Variable  : Variable Importance</div><div class="line">                         : --------------------------------------</div><div class="line">                         :    1 : var1      : 2.673e-01</div><div class="line">                         :    2 : var2      : 2.603e-01</div><div class="line">                         :    3 : var3      : 2.490e-01</div><div class="line">                         :    4 : var4      : 2.234e-01</div><div class="line">                         : --------------------------------------</div><div class="line">&lt;HEADER&gt; Factory                  : === Destroy and recreate all methods via weight files for testing ===</div><div class="line">                         : </div><div class="line">                         : Reading weight file: datasetBkg0/weights/TMVAMultiBkg0_BDTG.weights.xml</div><div class="line">&lt;HEADER&gt; Factory                  : Test all methods</div><div class="line">&lt;HEADER&gt; Factory                  : Test method: BDTG for Classification performance</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg0] : Evaluation of BDTG on testing sample (200 events)</div><div class="line">                         : Elapsed time for evaluation of 200 events: 0.0102 sec       </div><div class="line">&lt;HEADER&gt; Factory                  : Evaluate all methods</div><div class="line">&lt;HEADER&gt; Factory                  : Evaluate classifier: BDTG</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg0] : Loop over test events and fill histograms with classifier response...</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; TFHandler_BDTG           : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.13613    0.97981   [    -2.0823     2.9998 ]</div><div class="line">                         :     var2:   0.085482    0.86846   [    -1.9349     2.0015 ]</div><div class="line">                         :     var3:    0.16949    0.99559   [    -2.4774     3.0223 ]</div><div class="line">                         :     var4:    0.33525     1.2442   [    -2.9030     3.3317 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : </div><div class="line">                         : Evaluation results ranked by best signal efficiency and purity (area)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : DataSet       MVA                       </div><div class="line">                         : Name:         Method:          ROC-integ</div><div class="line">                         : datasetBkg0   BDTG           : 0.936</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : </div><div class="line">                         : Testing efficiency compared to training efficiency (overtraining check)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : DataSet              MVA              Signal efficiency: from test sample (from training sample) </div><div class="line">                         : Name:                Method:          @B=0.01             @B=0.10            @B=0.30   </div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : datasetBkg0          BDTG           : 0.000 (0.975)       0.770 (0.977)      0.975 (0.982)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Dataset:datasetBkg0      : Created tree &#39;TestTree&#39; with 200 events</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Dataset:datasetBkg0      : Created tree &#39;TrainTree&#39; with 200 events</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Factory                  : Thank you for using TMVA!</div><div class="line">                         : For citation information, please visit: http://tmva.sf.net/citeTMVA.html</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [datasetBkg1] : Added class &quot;Signal&quot;</div><div class="line">                         : Add Tree TreeS of type Signal with 200 events</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [datasetBkg1] : Added class &quot;Background&quot;</div><div class="line">                         : Add Tree TreeB1 of type Background with 200 events</div><div class="line">&lt;HEADER&gt; Factory                  : Booking method: BDTG</div><div class="line">                         : </div><div class="line">                         : the option NegWeightTreatment=InverseBoostNegWeights does not exist for BoostType=Grad</div><div class="line">                         : --&gt; change to new default NegWeightTreatment=Pray</div><div class="line">&lt;HEADER&gt; DataSetFactory           : [datasetBkg1] : Number of events in input trees</div><div class="line">                         : </div><div class="line">                         : </div><div class="line">                         : Number of training and testing events</div><div class="line">                         : ---------------------------------------------------------------------------</div><div class="line">                         : Signal     -- training events            : 100</div><div class="line">                         : Signal     -- testing events             : 100</div><div class="line">                         : Signal     -- training and testing events: 200</div><div class="line">                         : Background -- training events            : 100</div><div class="line">                         : Background -- testing events             : 100</div><div class="line">                         : Background -- training and testing events: 200</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; DataSetInfo              : Correlation matrix (Signal):</div><div class="line">                         : ----------------------------------------</div><div class="line">                         :             var1    var2    var3    var4</div><div class="line">                         :    var1:  +1.000  +0.427  +0.620  +0.834</div><div class="line">                         :    var2:  +0.427  +1.000  +0.756  +0.779</div><div class="line">                         :    var3:  +0.620  +0.756  +1.000  +0.854</div><div class="line">                         :    var4:  +0.834  +0.779  +0.854  +1.000</div><div class="line">                         : ----------------------------------------</div><div class="line">&lt;HEADER&gt; DataSetInfo              : Correlation matrix (Background):</div><div class="line">                         : ----------------------------------------</div><div class="line">                         :             var1    var2    var3    var4</div><div class="line">                         :    var1:  +1.000  +0.390  +0.543  +0.801</div><div class="line">                         :    var2:  +0.390  +1.000  +0.787  +0.768</div><div class="line">                         :    var3:  +0.543  +0.787  +1.000  +0.837</div><div class="line">                         :    var4:  +0.801  +0.768  +0.837  +1.000</div><div class="line">                         : ----------------------------------------</div><div class="line">&lt;HEADER&gt; DataSetFactory           : [datasetBkg1] :  </div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Factory                  : Train all methods</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg1] : Create Transformation &quot;I&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg1] : Create Transformation &quot;D&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg1] : Create Transformation &quot;P&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg1] : Create Transformation &quot;G&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg1] : Create Transformation &quot;D&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:  0.0025285     1.0135   [    -3.1150     2.2852 ]</div><div class="line">                         :     var2:    0.31548     1.0836   [    -3.0952     3.1113 ]</div><div class="line">                         :     var3:    0.58369     1.0377   [    -2.3587     3.9796 ]</div><div class="line">                         :     var4:    0.18853     1.3296   [    -3.7913     4.1179 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Decorrelation transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:   -0.18796     1.0000   [    -3.2043     2.5135 ]</div><div class="line">                         :     var2:   0.060618     1.0000   [    -2.5942     2.5176 ]</div><div class="line">                         :     var3:    0.71489     1.0000   [    -1.9164     4.0104 ]</div><div class="line">                         :     var4:  -0.014100     1.0000   [    -2.1785     2.3322 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Principle Component (PCA) transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1: 2.2165e-09     1.9481   [    -6.5131     5.8550 ]</div><div class="line">                         :     var2: 1.9686e-09    0.87136   [    -2.4299     2.1873 ]</div><div class="line">                         :     var3: 8.5915e-10    0.53326   [    -1.6219     1.2402 ]</div><div class="line">                         :     var4:-3.8999e-10    0.45543   [    -1.1278     1.1965 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Gaussian transformation...</div><div class="line">                         : Preparing the Decorrelation transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.18140     1.0000   [    -1.2839     5.4441 ]</div><div class="line">                         :     var2:    0.12101     1.0000   [    -2.0797     6.0929 ]</div><div class="line">                         :     var3:    0.13453     1.0000   [    -1.6667     5.8802 ]</div><div class="line">                         :     var4:   0.068813     1.0000   [    -1.8739     5.5007 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Ranking input variables (method unspecific)...</div><div class="line">&lt;HEADER&gt; IdTransformation         : Ranking result (top variable is best ranked)</div><div class="line">                         : -----------------------------------</div><div class="line">                         : Rank : Variable   : Separation</div><div class="line">                         : -----------------------------------</div><div class="line">                         :    1 : Variable 4 : 4.418e-01</div><div class="line">                         :    2 : Variable 1 : 1.485e-01</div><div class="line">                         :    3 : Variable 3 : 5.784e-02</div><div class="line">                         :    4 : Variable 2 : 3.636e-02</div><div class="line">                         : -----------------------------------</div><div class="line">&lt;HEADER&gt; Factory                  : Train method: BDTG for Classification</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : #events: (reweighted) sig: 100 bkg: 100</div><div class="line">                         : #events: (unweighted) sig: 100 bkg: 100</div><div class="line">                         : Training 1000 Decision Trees ... patience please</div><div class="line">                         : Elapsed time for training with 200 events: 0.12 sec         </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg1] : Evaluation of BDTG on training sample (200 events)</div><div class="line">                         : Elapsed time for evaluation of 200 events: 0.0141 sec       </div><div class="line">                         : Creating xml weight file: datasetBkg1/weights/TMVAMultiBkg1_BDTG.weights.xml</div><div class="line">                         : Creating standalone class: datasetBkg1/weights/TMVAMultiBkg1_BDTG.class.C</div><div class="line">                         : TMVASignalBackground1.root:/datasetBkg1/Method_BDT/BDTG</div><div class="line">&lt;HEADER&gt; Factory                  : Training finished</div><div class="line">                         : </div><div class="line">                         : Ranking input variables (method specific)...</div><div class="line">&lt;HEADER&gt; BDTG                     : Ranking result (top variable is best ranked)</div><div class="line">                         : --------------------------------------</div><div class="line">                         : Rank : Variable  : Variable Importance</div><div class="line">                         : --------------------------------------</div><div class="line">                         :    1 : var3      : 2.759e-01</div><div class="line">                         :    2 : var1      : 2.623e-01</div><div class="line">                         :    3 : var4      : 2.431e-01</div><div class="line">                         :    4 : var2      : 2.187e-01</div><div class="line">                         : --------------------------------------</div><div class="line">&lt;HEADER&gt; Factory                  : === Destroy and recreate all methods via weight files for testing ===</div><div class="line">                         : </div><div class="line">                         : Reading weight file: datasetBkg1/weights/TMVAMultiBkg1_BDTG.weights.xml</div><div class="line">&lt;HEADER&gt; Factory                  : Test all methods</div><div class="line">&lt;HEADER&gt; Factory                  : Test method: BDTG for Classification performance</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg1] : Evaluation of BDTG on testing sample (200 events)</div><div class="line">                         : Elapsed time for evaluation of 200 events: 0.01 sec       </div><div class="line">&lt;HEADER&gt; Factory                  : Evaluate all methods</div><div class="line">&lt;HEADER&gt; Factory                  : Evaluate classifier: BDTG</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg1] : Loop over test events and fill histograms with classifier response...</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; TFHandler_BDTG           : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.13613    0.97981   [    -2.0823     2.9998 ]</div><div class="line">                         :     var2:    0.38548    0.81654   [    -1.3349     2.5106 ]</div><div class="line">                         :     var3:    0.66949    0.88808   [    -1.4774     3.9796 ]</div><div class="line">                         :     var4:    0.33525     1.2442   [    -2.9030     3.3317 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : </div><div class="line">                         : Evaluation results ranked by best signal efficiency and purity (area)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : DataSet       MVA                       </div><div class="line">                         : Name:         Method:          ROC-integ</div><div class="line">                         : datasetBkg1   BDTG           : 0.993</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : </div><div class="line">                         : Testing efficiency compared to training efficiency (overtraining check)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : DataSet              MVA              Signal efficiency: from test sample (from training sample) </div><div class="line">                         : Name:                Method:          @B=0.01             @B=0.10            @B=0.30   </div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : datasetBkg1          BDTG           : 0.000 (0.985)       0.985 (0.987)      0.989 (0.991)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Dataset:datasetBkg1      : Created tree &#39;TestTree&#39; with 200 events</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Dataset:datasetBkg1      : Created tree &#39;TrainTree&#39; with 200 events</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Factory                  : Thank you for using TMVA!</div><div class="line">                         : For citation information, please visit: http://tmva.sf.net/citeTMVA.html</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [datasetBkg2] : Added class &quot;Signal&quot;</div><div class="line">                         : Add Tree TreeS of type Signal with 200 events</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [datasetBkg2] : Added class &quot;Background&quot;</div><div class="line">                         : Add Tree TreeB2 of type Background with 200 events</div><div class="line">&lt;HEADER&gt; Factory                  : Booking method: BDTG</div><div class="line">                         : </div><div class="line">                         : the option NegWeightTreatment=InverseBoostNegWeights does not exist for BoostType=Grad</div><div class="line">                         : --&gt; change to new default NegWeightTreatment=Pray</div><div class="line">&lt;HEADER&gt; DataSetFactory           : [datasetBkg2] : Number of events in input trees</div><div class="line">                         : </div><div class="line">                         : </div><div class="line">                         : Number of training and testing events</div><div class="line">                         : ---------------------------------------------------------------------------</div><div class="line">                         : Signal     -- training events            : 100</div><div class="line">                         : Signal     -- testing events             : 100</div><div class="line">                         : Signal     -- training and testing events: 200</div><div class="line">                         : Background -- training events            : 100</div><div class="line">                         : Background -- testing events             : 100</div><div class="line">                         : Background -- training and testing events: 200</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; DataSetInfo              : Correlation matrix (Signal):</div><div class="line">                         : ----------------------------------------</div><div class="line">                         :             var1    var2    var3    var4</div><div class="line">                         :    var1:  +1.000  +0.427  +0.620  +0.834</div><div class="line">                         :    var2:  +0.427  +1.000  +0.756  +0.779</div><div class="line">                         :    var3:  +0.620  +0.756  +1.000  +0.854</div><div class="line">                         :    var4:  +0.834  +0.779  +0.854  +1.000</div><div class="line">                         : ----------------------------------------</div><div class="line">&lt;HEADER&gt; DataSetInfo              : Correlation matrix (Background):</div><div class="line">                         : ----------------------------------------</div><div class="line">                         :             var1    var2    var3    var4</div><div class="line">                         :    var1:  +1.000  -0.689  -0.032  +0.201</div><div class="line">                         :    var2:  -0.689  +1.000  +0.051  -0.112</div><div class="line">                         :    var3:  -0.032  +0.051  +1.000  -0.090</div><div class="line">                         :    var4:  +0.201  -0.112  -0.090  +1.000</div><div class="line">                         : ----------------------------------------</div><div class="line">&lt;HEADER&gt; DataSetFactory           : [datasetBkg2] :  </div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Factory                  : Train all methods</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg2] : Create Transformation &quot;I&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg2] : Create Transformation &quot;D&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg2] : Create Transformation &quot;P&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg2] : Create Transformation &quot;G&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; Factory                  : [datasetBkg2] : Create Transformation &quot;D&quot; with events from all classes.</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt;                          : Transformation, Variable selection : </div><div class="line">                         : Input : variable &#39;var1&#39; &lt;---&gt; Output : variable &#39;var1&#39;</div><div class="line">                         : Input : variable &#39;var2&#39; &lt;---&gt; Output : variable &#39;var2&#39;</div><div class="line">                         : Input : variable &#39;var3&#39; &lt;---&gt; Output : variable &#39;var3&#39;</div><div class="line">                         : Input : variable &#39;var4&#39; &lt;---&gt; Output : variable &#39;var4&#39;</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.29768    0.91323   [    -2.7150     2.2852 ]</div><div class="line">                         :     var2:    0.66936    0.96658   [    -3.0952     3.1113 ]</div><div class="line">                         :     var3:    0.30872     1.1413   [    -2.3587     3.9796 ]</div><div class="line">                         :     var4:    0.48019     1.1841   [    -2.2913     4.1179 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Decorrelation transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.22260     1.0000   [    -2.8899     2.2151 ]</div><div class="line">                         :     var2:    0.64848     1.0000   [    -2.8577     2.8017 ]</div><div class="line">                         :     var3:   0.093503     1.0000   [    -2.1097     2.6394 ]</div><div class="line">                         :     var4:    0.29279     1.0000   [    -2.2171     2.6253 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Principle Component (PCA) transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1: 1.7369e-09     1.5388   [    -5.4229     5.6879 ]</div><div class="line">                         :     var2: 2.3402e-09    0.94775   [    -2.3763     2.7626 ]</div><div class="line">                         :     var3: 3.1758e-09    0.82690   [    -1.9785     1.7544 ]</div><div class="line">                         :     var4: 9.3132e-10    0.72324   [    -1.7482     1.7182 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Preparing the Gaussian transformation...</div><div class="line">                         : Preparing the Decorrelation transformation...</div><div class="line">&lt;HEADER&gt; TFHandler_Factory        : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.17819     1.0000   [    -1.4362     4.6688 ]</div><div class="line">                         :     var2:    0.15184     1.0000   [    -1.4113     5.3518 ]</div><div class="line">                         :     var3:    0.12791     1.0000   [    -1.8368     5.3543 ]</div><div class="line">                         :     var4:   0.099146     1.0000   [    -2.1654     4.5855 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : Ranking input variables (method unspecific)...</div><div class="line">&lt;HEADER&gt; IdTransformation         : Ranking result (top variable is best ranked)</div><div class="line">                         : -----------------------------------</div><div class="line">                         : Rank : Variable   : Separation</div><div class="line">                         : -----------------------------------</div><div class="line">                         :    1 : Variable 2 : 3.993e-01</div><div class="line">                         :    2 : Variable 4 : 2.811e-01</div><div class="line">                         :    3 : Variable 3 : 2.659e-01</div><div class="line">                         :    4 : Variable 1 : 1.571e-01</div><div class="line">                         : -----------------------------------</div><div class="line">&lt;HEADER&gt; Factory                  : Train method: BDTG for Classification</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : #events: (reweighted) sig: 100 bkg: 100</div><div class="line">                         : #events: (unweighted) sig: 100 bkg: 100</div><div class="line">                         : Training 1000 Decision Trees ... patience please</div><div class="line">                         : Elapsed time for training with 200 events: 0.12 sec         </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg2] : Evaluation of BDTG on training sample (200 events)</div><div class="line">                         : Elapsed time for evaluation of 200 events: 0.0139 sec       </div><div class="line">                         : Creating xml weight file: datasetBkg2/weights/TMVAMultiBkg2_BDTG.weights.xml</div><div class="line">                         : Creating standalone class: datasetBkg2/weights/TMVAMultiBkg2_BDTG.class.C</div><div class="line">                         : TMVASignalBackground2.root:/datasetBkg2/Method_BDT/BDTG</div><div class="line">&lt;HEADER&gt; Factory                  : Training finished</div><div class="line">                         : </div><div class="line">                         : Ranking input variables (method specific)...</div><div class="line">&lt;HEADER&gt; BDTG                     : Ranking result (top variable is best ranked)</div><div class="line">                         : --------------------------------------</div><div class="line">                         : Rank : Variable  : Variable Importance</div><div class="line">                         : --------------------------------------</div><div class="line">                         :    1 : var4      : 2.842e-01</div><div class="line">                         :    2 : var1      : 2.630e-01</div><div class="line">                         :    3 : var2      : 2.360e-01</div><div class="line">                         :    4 : var3      : 2.168e-01</div><div class="line">                         : --------------------------------------</div><div class="line">&lt;HEADER&gt; Factory                  : === Destroy and recreate all methods via weight files for testing ===</div><div class="line">                         : </div><div class="line">                         : Reading weight file: datasetBkg2/weights/TMVAMultiBkg2_BDTG.weights.xml</div><div class="line">&lt;HEADER&gt; Factory                  : Test all methods</div><div class="line">&lt;HEADER&gt; Factory                  : Test method: BDTG for Classification performance</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg2] : Evaluation of BDTG on testing sample (200 events)</div><div class="line">                         : Elapsed time for evaluation of 200 events: 0.00986 sec       </div><div class="line">&lt;HEADER&gt; Factory                  : Evaluate all methods</div><div class="line">&lt;HEADER&gt; Factory                  : Evaluate classifier: BDTG</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; BDTG                     : [datasetBkg2] : Loop over test events and fill histograms with classifier response...</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; TFHandler_BDTG           : Variable        Mean        RMS   [        Min        Max ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         :     var1:    0.31824    0.87725   [    -1.8821     2.9998 ]</div><div class="line">                         :     var2:    0.68634    0.81995   [    -1.2800     2.0015 ]</div><div class="line">                         :     var3:    0.28439     1.0366   [    -1.8691     3.0223 ]</div><div class="line">                         :     var4:    0.66443     1.1236   [    -1.7755     3.3317 ]</div><div class="line">                         : -----------------------------------------------------------</div><div class="line">                         : </div><div class="line">                         : Evaluation results ranked by best signal efficiency and purity (area)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : DataSet       MVA                       </div><div class="line">                         : Name:         Method:          ROC-integ</div><div class="line">                         : datasetBkg2   BDTG           : 0.943</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : </div><div class="line">                         : Testing efficiency compared to training efficiency (overtraining check)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : DataSet              MVA              Signal efficiency: from test sample (from training sample) </div><div class="line">                         : Name:                Method:          @B=0.01             @B=0.10            @B=0.30   </div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : datasetBkg2          BDTG           : 0.000 (0.975)       0.000 (0.979)      0.979 (0.986)</div><div class="line">                         : -------------------------------------------------------------------------------------------------------------------</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Dataset:datasetBkg2      : Created tree &#39;TestTree&#39; with 200 events</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Dataset:datasetBkg2      : Created tree &#39;TrainTree&#39; with 200 events</div><div class="line">                         : </div><div class="line">&lt;HEADER&gt; Factory                  : Thank you for using TMVA!</div><div class="line">                         : For citation information, please visit: http://tmva.sf.net/citeTMVA.html</div><div class="line"></div><div class="line">========================</div><div class="line">--- Application &amp; create combined tree</div><div class="line">                         : Booking &quot;BDT method&quot; of type &quot;BDT&quot; from datasetBkg0/weights/TMVAMultiBkg0_BDTG.weights.xml.</div><div class="line">                         : Reading weight file: datasetBkg0/weights/TMVAMultiBkg0_BDTG.weights.xml</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [Default] : Added class &quot;Signal&quot;</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [Default] : Added class &quot;Background&quot;</div><div class="line">                         : Booked classifier &quot;BDTG&quot; of type: &quot;BDT&quot;</div><div class="line">                         : Booking &quot;BDT method&quot; of type &quot;BDT&quot; from datasetBkg1/weights/TMVAMultiBkg1_BDTG.weights.xml.</div><div class="line">                         : Reading weight file: datasetBkg1/weights/TMVAMultiBkg1_BDTG.weights.xml</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [Default] : Added class &quot;Signal&quot;</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [Default] : Added class &quot;Background&quot;</div><div class="line">                         : Booked classifier &quot;BDTG&quot; of type: &quot;BDT&quot;</div><div class="line">                         : Booking &quot;BDT method&quot; of type &quot;BDT&quot; from datasetBkg2/weights/TMVAMultiBkg2_BDTG.weights.xml.</div><div class="line">                         : Reading weight file: datasetBkg2/weights/TMVAMultiBkg2_BDTG.weights.xml</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [Default] : Added class &quot;Signal&quot;</div><div class="line">&lt;HEADER&gt; DataSetInfo              : [Default] : Added class &quot;Background&quot;</div><div class="line">                         : Booked classifier &quot;BDTG&quot; of type: &quot;BDT&quot;</div><div class="line">--- Select signal sample</div><div class="line">--- End of event loop: Real time 0:00:00, CP time 0.020</div><div class="line">--- Select background 0 sample</div><div class="line">--- End of event loop: Real time 0:00:00, CP time 0.030</div><div class="line">--- Select background 1 sample</div><div class="line">--- End of event loop: Real time 0:00:00, CP time 0.030</div><div class="line">--- Select background 2 sample</div><div class="line">--- End of event loop: Real time 0:00:00, CP time 0.020</div><div class="line">--- Created root file: &quot;tmva_example_multiple_backgrounds__applied.root&quot; containing the MVA output histograms</div><div class="line">==&gt; Application of readers is done! combined tree created</div><div class="line"></div><div class="line"></div><div class="line">========================</div><div class="line">--- maximize significance</div><div class="line">Classifier ranges (defined by the user)</div><div class="line"> range: -1   1</div><div class="line"> range: -1   1</div><div class="line"> range: -1   1</div><div class="line">&lt;HEADER&gt; FitterBase               : &lt;GeneticFitter&gt; Optimisation, please be patient ... (inaccurate progress timing for GA)</div><div class="line">                         : Elapsed time: 13.9 sec                            </div><div class="line"></div><div class="line">======================</div><div class="line">Efficiency : 0.955</div><div class="line">Purity     : 0.880184</div><div class="line"></div><div class="line">True positive weights : 191</div><div class="line">False positive weights: 26</div><div class="line">Signal weights        : 200</div><div class="line"></div><div class="line">  cutValue[0] = -0.950311;</div><div class="line">  cutValue[1] = 0.986588;</div><div class="line">  cutValue[2] = 0.905048;</div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span> <span class="comment">// Stream declarations</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TChain_8h.html">TChain.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TCut_8h.html">TCut.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TDirectory_8h.html">TDirectory.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TH1F_8h.html">TH1F.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TH1_8h.html">TH1.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TMath_8h.html">TMath.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TFile_8h.html">TFile.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TStopwatch_8h.html">TStopwatch.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TROOT_8h.html">TROOT.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="TSystem_8h.html">TSystem.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="GeneticAlgorithm_8h.html">TMVA/GeneticAlgorithm.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="GeneticFitter_8h.html">TMVA/GeneticFitter.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="IFitterTarget_8h.html">TMVA/IFitterTarget.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="tmva_2tmva_2inc_2TMVA_2Factory_8h.html">TMVA/Factory.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="DataLoader_8h.html">TMVA/DataLoader.h</a>&quot;</span><span class="comment">//required to load dataset</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="Reader_8h.html">TMVA/Reader.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceTMVA.html">TMVA</a>;</div><div class="line"></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">// Training</span></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">void</span> Training(){</div><div class="line">   std::string factoryOptions( <span class="stringliteral">&quot;!V:!Silent:Transformations=I;D;P;G,D:AnalysisType=Classification&quot;</span> );</div><div class="line">   <a class="code" href="classTString.html">TString</a> fname = <span class="stringliteral">&quot;./tmva_example_multiple_background.root&quot;</span>;</div><div class="line"></div><div class="line">   <a class="code" href="classTFile.html">TFile</a> *input(0);</div><div class="line">   input = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>( fname );</div><div class="line"></div><div class="line">   <a class="code" href="classTTree.html">TTree</a> *signal      = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeS&quot;</span>);</div><div class="line">   <a class="code" href="classTTree.html">TTree</a> *background0 = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeB0&quot;</span>);</div><div class="line">   <a class="code" href="classTTree.html">TTree</a> *background1 = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeB1&quot;</span>);</div><div class="line">   <a class="code" href="classTTree.html">TTree</a> *background2 = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeB2&quot;</span>);</div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">   /// global event weights per tree (see below for setting event-wise weights)</span></div><div class="line"><span class="comment"></span>   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> signalWeight      = 1.0;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> background0Weight = 1.0;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> background1Weight = 1.0;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> background2Weight = 1.0;</div><div class="line"></div><div class="line">   <span class="comment">// Create a new root output file.</span></div><div class="line">   <a class="code" href="classTString.html">TString</a> outfileName( <span class="stringliteral">&quot;TMVASignalBackground0.root&quot;</span> );</div><div class="line">   <a class="code" href="classTFile.html">TFile</a>* outputFile = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>( outfileName, <span class="stringliteral">&quot;RECREATE&quot;</span> );</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">   <span class="comment">// background 0</span></div><div class="line">   <span class="comment">// ____________</span></div><div class="line">   <a class="code" href="classTMVA_1_1Factory.html">TMVA::Factory</a> *factory = <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Factory.html">TMVA::Factory</a>( <span class="stringliteral">&quot;TMVAMultiBkg0&quot;</span>, outputFile, factoryOptions );</div><div class="line">   <a class="code" href="classTMVA_1_1DataLoader.html">TMVA::DataLoader</a> *dataloader=<span class="keyword">new</span> <a class="code" href="classTMVA_1_1DataLoader.html">TMVA::DataLoader</a>(<span class="stringliteral">&quot;datasetBkg0&quot;</span>);</div><div class="line"></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var1&quot;</span>, <span class="stringliteral">&quot;Variable 1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var2&quot;</span>, <span class="stringliteral">&quot;Variable 2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var3&quot;</span>, <span class="stringliteral">&quot;Variable 3&quot;</span>, <span class="stringliteral">&quot;units&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var4&quot;</span>, <span class="stringliteral">&quot;Variable 4&quot;</span>, <span class="stringliteral">&quot;units&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line"></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a13af6fea089757545abfdb2cee9a6ff4">AddSignalTree</a>    ( signal,     signalWeight       );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a7d02fd365801a0d582f04b8c9d1cf3f5">AddBackgroundTree</a>( background0, background0Weight );</div><div class="line"></div><div class="line">   <span class="comment">//     factory-&gt;SetBackgroundWeightExpression(&quot;weight&quot;);</span></div><div class="line">   <a class="code" href="classTCut.html">TCut</a> mycuts = <span class="stringliteral">&quot;&quot;</span>; <span class="comment">// for example: TCut mycuts = &quot;abs(var1)&lt;0.5 &amp;&amp; abs(var2-0.5)&lt;1&quot;;</span></div><div class="line">   <a class="code" href="classTCut.html">TCut</a> mycutb = <span class="stringliteral">&quot;&quot;</span>; <span class="comment">// for example: TCut mycutb = &quot;abs(var1)&lt;0.5&quot;;</span></div><div class="line"></div><div class="line">   <span class="comment">// tell the factory to use all remaining events in the trees after training for testing:</span></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a742cf7f305d881b261acc137fd6d84c1">PrepareTrainingAndTestTree</a>( mycuts, mycutb,</div><div class="line">                                        <span class="stringliteral">&quot;nTrain_Signal=0:nTrain_Background=0:SplitMode=Random:NormMode=NumEvents:!V&quot;</span> );</div><div class="line"></div><div class="line">   <span class="comment">// Boosted Decision Trees</span></div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a35c42e83410f857150bb2c150bb97474">BookMethod</a>( dataloader, <a class="code" href="classTMVA_1_1Types.html#a7d01ee235ade56ae570e2c9f83464fc4a46c14cfe1e0a9775c970561a4f978365">TMVA::Types::kBDT</a>, <span class="stringliteral">&quot;BDTG&quot;</span>,</div><div class="line">         <span class="stringliteral">&quot;!H:!V:NTrees=1000:BoostType=Grad:Shrinkage=0.30:UseBaggedBoost:BaggedSampleFraction=0.6:SeparationType=GiniIndex:nCuts=20:MaxDepth=2&quot;</span> );</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a1f15a459cb39f164ede2679ce065b0b6">TrainAllMethods</a>();</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a3c9b841c84de61b062b2ede5eac44731">TestAllMethods</a>();</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a4505a3bcad6a5540cd955e41a0f36c74">EvaluateAllMethods</a>();</div><div class="line"></div><div class="line">   outputFile-&gt;<a class="code" href="classTFile.html#a1eaf64e1803291558efe5d3238c661a4">Close</a>();</div><div class="line"></div><div class="line">   <span class="keyword">delete</span> factory;</div><div class="line">   <span class="keyword">delete</span> dataloader;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">   <span class="comment">// background 1</span></div><div class="line">   <span class="comment">// ____________</span></div><div class="line"></div><div class="line">   outfileName = <span class="stringliteral">&quot;TMVASignalBackground1.root&quot;</span>;</div><div class="line">   outputFile = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>( outfileName, <span class="stringliteral">&quot;RECREATE&quot;</span> );</div><div class="line">   dataloader=<span class="keyword">new</span> <a class="code" href="classTMVA_1_1DataLoader.html">TMVA::DataLoader</a>(<span class="stringliteral">&quot;datasetBkg1&quot;</span>);</div><div class="line"></div><div class="line">   factory = <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Factory.html">TMVA::Factory</a>( <span class="stringliteral">&quot;TMVAMultiBkg1&quot;</span>, outputFile, factoryOptions );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var1&quot;</span>, <span class="stringliteral">&quot;Variable 1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var2&quot;</span>, <span class="stringliteral">&quot;Variable 2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var3&quot;</span>, <span class="stringliteral">&quot;Variable 3&quot;</span>, <span class="stringliteral">&quot;units&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var4&quot;</span>, <span class="stringliteral">&quot;Variable 4&quot;</span>, <span class="stringliteral">&quot;units&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line"></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a13af6fea089757545abfdb2cee9a6ff4">AddSignalTree</a>    ( signal,     signalWeight       );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a7d02fd365801a0d582f04b8c9d1cf3f5">AddBackgroundTree</a>( background1, background1Weight );</div><div class="line"></div><div class="line"> <span class="comment">//   dataloader-&gt;SetBackgroundWeightExpression(&quot;weight&quot;);</span></div><div class="line"></div><div class="line">   <span class="comment">// tell the factory to use all remaining events in the trees after training for testing:</span></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a742cf7f305d881b261acc137fd6d84c1">PrepareTrainingAndTestTree</a>( mycuts, mycutb,</div><div class="line">                                        <span class="stringliteral">&quot;nTrain_Signal=0:nTrain_Background=0:SplitMode=Random:NormMode=NumEvents:!V&quot;</span> );</div><div class="line"></div><div class="line">   <span class="comment">// Boosted Decision Trees</span></div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a35c42e83410f857150bb2c150bb97474">BookMethod</a>( dataloader, <a class="code" href="classTMVA_1_1Types.html#a7d01ee235ade56ae570e2c9f83464fc4a46c14cfe1e0a9775c970561a4f978365">TMVA::Types::kBDT</a>, <span class="stringliteral">&quot;BDTG&quot;</span>,</div><div class="line">         <span class="stringliteral">&quot;!H:!V:NTrees=1000:BoostType=Grad:Shrinkage=0.30:UseBaggedBoost:BaggedSampleFraction=0.6:SeparationType=GiniIndex:nCuts=20:MaxDepth=2&quot;</span> );</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a1f15a459cb39f164ede2679ce065b0b6">TrainAllMethods</a>();</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a3c9b841c84de61b062b2ede5eac44731">TestAllMethods</a>();</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a4505a3bcad6a5540cd955e41a0f36c74">EvaluateAllMethods</a>();</div><div class="line"></div><div class="line">   outputFile-&gt;<a class="code" href="classTFile.html#a1eaf64e1803291558efe5d3238c661a4">Close</a>();</div><div class="line"></div><div class="line">   <span class="keyword">delete</span> factory;</div><div class="line">   <span class="keyword">delete</span> dataloader;</div><div class="line"></div><div class="line"></div><div class="line">   <span class="comment">// background 2</span></div><div class="line">   <span class="comment">// ____________</span></div><div class="line"></div><div class="line">   outfileName = <span class="stringliteral">&quot;TMVASignalBackground2.root&quot;</span>;</div><div class="line">   outputFile = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>( outfileName, <span class="stringliteral">&quot;RECREATE&quot;</span> );</div><div class="line"></div><div class="line">   factory = <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Factory.html">TMVA::Factory</a>( <span class="stringliteral">&quot;TMVAMultiBkg2&quot;</span>, outputFile, factoryOptions );</div><div class="line">   dataloader=<span class="keyword">new</span> <a class="code" href="classTMVA_1_1DataLoader.html">TMVA::DataLoader</a>(<span class="stringliteral">&quot;datasetBkg2&quot;</span>);</div><div class="line"></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var1&quot;</span>, <span class="stringliteral">&quot;Variable 1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var2&quot;</span>, <span class="stringliteral">&quot;Variable 2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var3&quot;</span>, <span class="stringliteral">&quot;Variable 3&quot;</span>, <span class="stringliteral">&quot;units&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#af2de13debc441fd2c4f1cd826ef175f9">AddVariable</a>( <span class="stringliteral">&quot;var4&quot;</span>, <span class="stringliteral">&quot;Variable 4&quot;</span>, <span class="stringliteral">&quot;units&quot;</span>, <span class="charliteral">&#39;F&#39;</span> );</div><div class="line"></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a13af6fea089757545abfdb2cee9a6ff4">AddSignalTree</a>    ( signal,     signalWeight       );</div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a7d02fd365801a0d582f04b8c9d1cf3f5">AddBackgroundTree</a>( background2, background2Weight );</div><div class="line"></div><div class="line">   <span class="comment">//     dataloader-&gt;SetBackgroundWeightExpression(&quot;weight&quot;);</span></div><div class="line"></div><div class="line">   <span class="comment">// tell the dataloader to use all remaining events in the trees after training for testing:</span></div><div class="line">   dataloader-&gt;<a class="code" href="classTMVA_1_1DataLoader.html#a742cf7f305d881b261acc137fd6d84c1">PrepareTrainingAndTestTree</a>( mycuts, mycutb,</div><div class="line">                                        <span class="stringliteral">&quot;nTrain_Signal=0:nTrain_Background=0:SplitMode=Random:NormMode=NumEvents:!V&quot;</span> );</div><div class="line"></div><div class="line">   <span class="comment">// Boosted Decision Trees</span></div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a35c42e83410f857150bb2c150bb97474">BookMethod</a>( dataloader, <a class="code" href="classTMVA_1_1Types.html#a7d01ee235ade56ae570e2c9f83464fc4a46c14cfe1e0a9775c970561a4f978365">TMVA::Types::kBDT</a>, <span class="stringliteral">&quot;BDTG&quot;</span>,</div><div class="line">         <span class="stringliteral">&quot;!H:!V:NTrees=1000:BoostType=Grad:Shrinkage=0.30:UseBaggedBoost:BaggedSampleFraction=0.5:SeparationType=GiniIndex:nCuts=20:MaxDepth=2&quot;</span> );</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a1f15a459cb39f164ede2679ce065b0b6">TrainAllMethods</a>();</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a3c9b841c84de61b062b2ede5eac44731">TestAllMethods</a>();</div><div class="line">   factory-&gt;<a class="code" href="classTMVA_1_1Factory.html#a4505a3bcad6a5540cd955e41a0f36c74">EvaluateAllMethods</a>();</div><div class="line"></div><div class="line">   outputFile-&gt;<a class="code" href="classTFile.html#a1eaf64e1803291558efe5d3238c661a4">Close</a>();</div><div class="line"></div><div class="line">   <span class="keyword">delete</span> factory;</div><div class="line">   <span class="keyword">delete</span> dataloader;</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">// Application</span></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// create a summary tree with all signal and background events and for each event the three classifier values and the true classID</span></div><div class="line"><span class="keywordtype">void</span> ApplicationCreateCombinedTree(){</div><div class="line"></div><div class="line">   <span class="comment">// Create a new root output file.</span></div><div class="line">   <a class="code" href="classTString.html">TString</a> outfileName( <span class="stringliteral">&quot;tmva_example_multiple_backgrounds__applied.root&quot;</span> );</div><div class="line">   <a class="code" href="classTFile.html">TFile</a>* outputFile = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>( outfileName, <span class="stringliteral">&quot;RECREATE&quot;</span> );</div><div class="line">   <a class="code" href="classTTree.html">TTree</a>* outputTree = <span class="keyword">new</span> <a class="code" href="classTTree.html">TTree</a>(<span class="stringliteral">&quot;multiBkg&quot;</span>,<span class="stringliteral">&quot;multiple backgrounds tree&quot;</span>);</div><div class="line"></div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> var1, var2;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> var3, var4;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a>   classID = 0;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> weight = 1.f;</div><div class="line"></div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> classifier0, classifier1, classifier2;</div><div class="line"></div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;classID&quot;</span>, &amp;classID, <span class="stringliteral">&quot;classID/I&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;var1&quot;</span>, &amp;var1, <span class="stringliteral">&quot;var1/F&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;var2&quot;</span>, &amp;var2, <span class="stringliteral">&quot;var2/F&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;var3&quot;</span>, &amp;var3, <span class="stringliteral">&quot;var3/F&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;var4&quot;</span>, &amp;var4, <span class="stringliteral">&quot;var4/F&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;weight&quot;</span>, &amp;weight, <span class="stringliteral">&quot;weight/F&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;cls0&quot;</span>, &amp;classifier0, <span class="stringliteral">&quot;cls0/F&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;cls1&quot;</span>, &amp;classifier1, <span class="stringliteral">&quot;cls1/F&quot;</span>);</div><div class="line">   outputTree-&gt;<a class="code" href="classTTree.html#af5d6a0d390030b3e0e5c8aa8d99a0088">Branch</a>(<span class="stringliteral">&quot;cls2&quot;</span>, &amp;classifier2, <span class="stringliteral">&quot;cls2/F&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line">   <span class="comment">// create three readers for the three different signal/background classifications, .. one for each background</span></div><div class="line">   <a class="code" href="classTMVA_1_1Reader.html">TMVA::Reader</a> *reader0 = <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Reader.html">TMVA::Reader</a>( <span class="stringliteral">&quot;!Color:!Silent&quot;</span> );</div><div class="line">   <a class="code" href="classTMVA_1_1Reader.html">TMVA::Reader</a> *reader1 = <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Reader.html">TMVA::Reader</a>( <span class="stringliteral">&quot;!Color:!Silent&quot;</span> );</div><div class="line">   <a class="code" href="classTMVA_1_1Reader.html">TMVA::Reader</a> *reader2 = <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Reader.html">TMVA::Reader</a>( <span class="stringliteral">&quot;!Color:!Silent&quot;</span> );</div><div class="line"></div><div class="line">   reader0-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var1&quot;</span>, &amp;var1 );</div><div class="line">   reader0-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var2&quot;</span>, &amp;var2 );</div><div class="line">   reader0-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var3&quot;</span>, &amp;var3 );</div><div class="line">   reader0-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var4&quot;</span>, &amp;var4 );</div><div class="line"></div><div class="line">   reader1-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var1&quot;</span>, &amp;var1 );</div><div class="line">   reader1-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var2&quot;</span>, &amp;var2 );</div><div class="line">   reader1-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var3&quot;</span>, &amp;var3 );</div><div class="line">   reader1-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var4&quot;</span>, &amp;var4 );</div><div class="line"></div><div class="line">   reader2-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var1&quot;</span>, &amp;var1 );</div><div class="line">   reader2-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var2&quot;</span>, &amp;var2 );</div><div class="line">   reader2-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var3&quot;</span>, &amp;var3 );</div><div class="line">   reader2-&gt;<a class="code" href="classTMVA_1_1Reader.html#adc31217830e7e66109505b672e6413ea">AddVariable</a>( <span class="stringliteral">&quot;var4&quot;</span>, &amp;var4 );</div><div class="line"></div><div class="line">   <span class="comment">// load the weight files for the readers</span></div><div class="line">   <a class="code" href="classTString.html">TString</a> method =  <span class="stringliteral">&quot;BDT method&quot;</span>;</div><div class="line">   reader0-&gt;<a class="code" href="classTMVA_1_1Reader.html#a9b12ddc2a1b307b1f5042e39ee73e067">BookMVA</a>( <span class="stringliteral">&quot;BDT method&quot;</span>, <span class="stringliteral">&quot;datasetBkg0/weights/TMVAMultiBkg0_BDTG.weights.xml&quot;</span> );</div><div class="line">   reader1-&gt;<a class="code" href="classTMVA_1_1Reader.html#a9b12ddc2a1b307b1f5042e39ee73e067">BookMVA</a>( <span class="stringliteral">&quot;BDT method&quot;</span>, <span class="stringliteral">&quot;datasetBkg1/weights/TMVAMultiBkg1_BDTG.weights.xml&quot;</span> );</div><div class="line">   reader2-&gt;<a class="code" href="classTMVA_1_1Reader.html#a9b12ddc2a1b307b1f5042e39ee73e067">BookMVA</a>( <span class="stringliteral">&quot;BDT method&quot;</span>, <span class="stringliteral">&quot;datasetBkg2/weights/TMVAMultiBkg2_BDTG.weights.xml&quot;</span> );</div><div class="line"></div><div class="line">   <span class="comment">// load the input file</span></div><div class="line">   <a class="code" href="classTFile.html">TFile</a> *input(0);</div><div class="line">   <a class="code" href="classTString.html">TString</a> fname = <span class="stringliteral">&quot;./tmva_example_multiple_background.root&quot;</span>;</div><div class="line">   input = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>( fname );</div><div class="line"></div><div class="line">   <a class="code" href="classTTree.html">TTree</a>* theTree = NULL;</div><div class="line"></div><div class="line">   <span class="comment">// loop through signal and all background trees</span></div><div class="line">   <span class="keywordflow">for</span>( <span class="keywordtype">int</span> treeNumber = 0; treeNumber &lt; 4; ++treeNumber ) {</div><div class="line">      <span class="keywordflow">if</span>( treeNumber == 0 ){</div><div class="line">    theTree = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeS&quot;</span>);</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;--- Select signal sample&quot;</span> &lt;&lt; std::endl;</div><div class="line"><span class="comment">//     theTree-&gt;SetBranchAddress( &quot;weight&quot;, &amp;weight );</span></div><div class="line">    weight = 1;</div><div class="line">    classID = 0;</div><div class="line">      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>( treeNumber == 1 ){</div><div class="line">    theTree = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeB0&quot;</span>);</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;--- Select background 0 sample&quot;</span> &lt;&lt; std::endl;</div><div class="line"><span class="comment">//     theTree-&gt;SetBranchAddress( &quot;weight&quot;, &amp;weight );</span></div><div class="line">    weight = 1;</div><div class="line">    classID = 1;</div><div class="line">      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>( treeNumber == 2 ){</div><div class="line">    theTree = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeB1&quot;</span>);</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;--- Select background 1 sample&quot;</span> &lt;&lt; std::endl;</div><div class="line"><span class="comment">//     theTree-&gt;SetBranchAddress( &quot;weight&quot;, &amp;weight );</span></div><div class="line">    weight = 1;</div><div class="line">    classID = 2;</div><div class="line">      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>( treeNumber == 3 ){</div><div class="line">    theTree = (<a class="code" href="classTTree.html">TTree</a>*)input-&gt;<a class="code" href="classTDirectoryFile.html#a9472af8730c1694905dbee5c4aa9b65f">Get</a>(<span class="stringliteral">&quot;TreeB2&quot;</span>);</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;--- Select background 2 sample&quot;</span> &lt;&lt; std::endl;</div><div class="line"><span class="comment">//  theTree-&gt;SetBranchAddress( &quot;weight&quot;, &amp;weight );</span></div><div class="line">    weight = 1;</div><div class="line">    classID = 3;</div><div class="line">      }</div><div class="line"></div><div class="line"></div><div class="line">      theTree-&gt;<a class="code" href="classTTree.html#a39b867210e4a77ef44917fd5e7898a1d">SetBranchAddress</a>( <span class="stringliteral">&quot;var1&quot;</span>, &amp;var1 );</div><div class="line">      theTree-&gt;<a class="code" href="classTTree.html#a39b867210e4a77ef44917fd5e7898a1d">SetBranchAddress</a>( <span class="stringliteral">&quot;var2&quot;</span>, &amp;var2 );</div><div class="line">      theTree-&gt;<a class="code" href="classTTree.html#a39b867210e4a77ef44917fd5e7898a1d">SetBranchAddress</a>( <span class="stringliteral">&quot;var3&quot;</span>, &amp;var3 );</div><div class="line">      theTree-&gt;<a class="code" href="classTTree.html#a39b867210e4a77ef44917fd5e7898a1d">SetBranchAddress</a>( <span class="stringliteral">&quot;var4&quot;</span>, &amp;var4 );</div><div class="line"></div><div class="line"></div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;--- Processing: &quot;</span> &lt;&lt; theTree-&gt;<a class="code" href="classTTree.html#a6d2d812b687b34a8185c955727fb9575">GetEntries</a>() &lt;&lt; <span class="stringliteral">&quot; events&quot;</span> &lt;&lt; std::endl;</div><div class="line">      <a class="code" href="classTStopwatch.html">TStopwatch</a> sw;</div><div class="line">      sw.<a class="code" href="classTStopwatch.html#a13fe330b5d3a2143551fe5eb584a5034">Start</a>();</div><div class="line">      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nEvent = theTree-&gt;<a class="code" href="classTTree.html#a6d2d812b687b34a8185c955727fb9575">GetEntries</a>();</div><div class="line"><span class="comment">//       Int_t nEvent = 100;</span></div><div class="line">      <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> ievt=0; ievt&lt;nEvent; ievt++) {</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (ievt%1000 == 0){</div><div class="line">       std::cout &lt;&lt; <span class="stringliteral">&quot;--- ... Processing event: &quot;</span> &lt;&lt; ievt &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    theTree-&gt;<a class="code" href="classTTree.html#a9fc48df5560fce1a2d63ecd1ac5b40cb">GetEntry</a>(ievt);</div><div class="line"></div><div class="line">    <span class="comment">// get the classifiers for each of the signal/background classifications</span></div><div class="line">    classifier0 = reader0-&gt;<a class="code" href="classTMVA_1_1Reader.html#a209436a06ae04b848c9ac98b367e0dd6">EvaluateMVA</a>( method );</div><div class="line">    classifier1 = reader1-&gt;<a class="code" href="classTMVA_1_1Reader.html#a209436a06ae04b848c9ac98b367e0dd6">EvaluateMVA</a>( method );</div><div class="line">    classifier2 = reader2-&gt;<a class="code" href="classTMVA_1_1Reader.html#a209436a06ae04b848c9ac98b367e0dd6">EvaluateMVA</a>( method );</div><div class="line"></div><div class="line">    outputTree-&gt;<a class="code" href="classTTree.html#a00e0c422f5e4f6ebcdeef57ff23e9067">Fill</a>();</div><div class="line">      }</div><div class="line"></div><div class="line"></div><div class="line">      <span class="comment">// get elapsed time</span></div><div class="line">      sw.<a class="code" href="classTStopwatch.html#a95876cba044994c635f8fd5340603ea4">Stop</a>();</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;--- End of event loop: &quot;</span>; sw.<a class="code" href="classTStopwatch.html#aa393762ec66c9732940dccf05e8be7ec">Print</a>();</div><div class="line">   }</div><div class="line">   input-&gt;<a class="code" href="classTFile.html#a1eaf64e1803291558efe5d3238c661a4">Close</a>();</div><div class="line"></div><div class="line"></div><div class="line">   <span class="comment">// write output tree</span></div><div class="line"><span class="comment">/*   outputTree-&gt;SetDirectory(outputFile);</span></div><div class="line"><span class="comment">     outputTree-&gt;Write(); */</span></div><div class="line">   outputFile-&gt;<a class="code" href="classTFile.html#a78e89aad1200bc6a2113b29f5e541cba">Write</a>();</div><div class="line"></div><div class="line">   outputFile-&gt;<a class="code" href="classTFile.html#a1eaf64e1803291558efe5d3238c661a4">Close</a>();</div><div class="line"></div><div class="line">   std::cout &lt;&lt; <span class="stringliteral">&quot;--- Created root file: \&quot;&quot;</span> &lt;&lt; outfileName.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>() &lt;&lt; <span class="stringliteral">&quot;\&quot; containing the MVA output histograms&quot;</span> &lt;&lt; std::endl;</div><div class="line"></div><div class="line">   <span class="keyword">delete</span> reader0;</div><div class="line">   <span class="keyword">delete</span> reader1;</div><div class="line">   <span class="keyword">delete</span> reader2;</div><div class="line"></div><div class="line">   std::cout &lt;&lt; <span class="stringliteral">&quot;==&gt; Application of readers is done! combined tree created&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// -----------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">// Genetic Algorithm Fitness definition</span></div><div class="line"><span class="comment">// -----------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keyword">class </span>MyFitness : <span class="keyword">public</span> <a class="code" href="classTMVA_1_1IFitterTarget.html">IFitterTarget</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">   <span class="comment">// constructor</span></div><div class="line">   MyFitness( <a class="code" href="classTChain.html">TChain</a>* _chain ) : <a class="code" href="classTMVA_1_1IFitterTarget.html">IFitterTarget</a>() {</div><div class="line">      chain = _chain;</div><div class="line"></div><div class="line">      hSignal = <span class="keyword">new</span> <a class="code" href="classTH1F.html">TH1F</a>(<span class="stringliteral">&quot;hsignal&quot;</span>,<span class="stringliteral">&quot;hsignal&quot;</span>,100,-1,1);</div><div class="line">      hFP = <span class="keyword">new</span> <a class="code" href="classTH1F.html">TH1F</a>(<span class="stringliteral">&quot;hfp&quot;</span>,<span class="stringliteral">&quot;hfp&quot;</span>,100,-1,1);</div><div class="line">      hTP = <span class="keyword">new</span> <a class="code" href="classTH1F.html">TH1F</a>(<span class="stringliteral">&quot;htp&quot;</span>,<span class="stringliteral">&quot;htp&quot;</span>,100,-1,1);</div><div class="line"></div><div class="line">      <a class="code" href="classTString.html">TString</a> cutsAndWeightSignal  = <span class="stringliteral">&quot;weight*(classID==0)&quot;</span>;</div><div class="line">      nSignal = chain-&gt;<a class="code" href="classTTree.html#ac4016b174665a086fe16695aad3356e2">Draw</a>(<span class="stringliteral">&quot;Entry$/Entries$&gt;&gt;hsignal&quot;</span>,cutsAndWeightSignal,<span class="stringliteral">&quot;goff&quot;</span>);</div><div class="line">      weightsSignal = hSignal-&gt;Integral();</div><div class="line"></div><div class="line">   }</div><div class="line"></div><div class="line">   <span class="comment">// the output of this function will be minimized</span></div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> EstimatorFunction( std::vector&lt;Double_t&gt; &amp; factors ){</div><div class="line"></div><div class="line">      <a class="code" href="classTString.html">TString</a> cutsAndWeightTruePositive  = <a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;weight*((classID==0) &amp;&amp; cls0&gt;%f &amp;&amp; cls1&gt;%f &amp;&amp; cls2&gt;%f )&quot;</span>,factors.at(0), factors.at(1), factors.at(2));</div><div class="line">      <a class="code" href="classTString.html">TString</a> cutsAndWeightFalsePositive = <a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;weight*((classID &gt;0) &amp;&amp; cls0&gt;%f &amp;&amp; cls1&gt;%f &amp;&amp; cls2&gt;%f )&quot;</span>,factors.at(0), factors.at(1), factors.at(2));</div><div class="line"></div><div class="line">      <span class="comment">// Entry$/Entries$ just draws something reasonable. Could in principle anything</span></div><div class="line">      <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> nTP = chain-&gt;<a class="code" href="classTTree.html#ac4016b174665a086fe16695aad3356e2">Draw</a>(<span class="stringliteral">&quot;Entry$/Entries$&gt;&gt;htp&quot;</span>,cutsAndWeightTruePositive,<span class="stringliteral">&quot;goff&quot;</span>);</div><div class="line">      <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> nFP = chain-&gt;<a class="code" href="classTTree.html#ac4016b174665a086fe16695aad3356e2">Draw</a>(<span class="stringliteral">&quot;Entry$/Entries$&gt;&gt;hfp&quot;</span>,cutsAndWeightFalsePositive,<span class="stringliteral">&quot;goff&quot;</span>);</div><div class="line"></div><div class="line">      weightsTruePositive = hTP-&gt;Integral();</div><div class="line">      weightsFalsePositive = hFP-&gt;Integral();</div><div class="line"></div><div class="line">      efficiency = 0;</div><div class="line">      <span class="keywordflow">if</span>( weightsSignal &gt; 0 )</div><div class="line">    efficiency = weightsTruePositive/weightsSignal;</div><div class="line"></div><div class="line">      purity = 0;</div><div class="line">      <span class="keywordflow">if</span>( weightsTruePositive+weightsFalsePositive &gt; 0 )</div><div class="line">    purity = weightsTruePositive/(weightsTruePositive+weightsFalsePositive);</div><div class="line"></div><div class="line">      <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> effTimesPur = efficiency*purity;</div><div class="line"></div><div class="line">      <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> toMinimize = std::numeric_limits&lt;float&gt;::max(); <span class="comment">// set to the highest existing number</span></div><div class="line">      <span class="keywordflow">if</span>( effTimesPur &gt; 0 ) <span class="comment">// if larger than 0, take 1/x. This is the value to minimize</span></div><div class="line">    toMinimize = 1./(effTimesPur); <span class="comment">// we want to minimize 1/efficiency*purity</span></div><div class="line"></div><div class="line">      <span class="comment">// Print();</span></div><div class="line"></div><div class="line">      <span class="keywordflow">return</span> toMinimize;</div><div class="line">   }</div><div class="line"></div><div class="line"></div><div class="line">   <span class="keywordtype">void</span> <a class="code" href="namespaceROOT_1_1Math_1_1IntegOptionsUtil.html#ab6ed98cef4968e1f965c6ce7ac8b72ab">Print</a>(){</div><div class="line">      std::cout &lt;&lt; std::endl;</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;======================&quot;</span> &lt;&lt; std::endl</div><div class="line">      &lt;&lt; <span class="stringliteral">&quot;Efficiency : &quot;</span> &lt;&lt; efficiency &lt;&lt; std::endl</div><div class="line">      &lt;&lt; <span class="stringliteral">&quot;Purity     : &quot;</span> &lt;&lt; purity &lt;&lt; std::endl &lt;&lt; std::endl</div><div class="line">      &lt;&lt; <span class="stringliteral">&quot;True positive weights : &quot;</span> &lt;&lt; weightsTruePositive &lt;&lt; std::endl</div><div class="line">      &lt;&lt; <span class="stringliteral">&quot;False positive weights: &quot;</span> &lt;&lt; weightsFalsePositive &lt;&lt; std::endl</div><div class="line">      &lt;&lt; <span class="stringliteral">&quot;Signal weights        : &quot;</span> &lt;&lt; weightsSignal &lt;&lt; std::endl;</div><div class="line">   }</div><div class="line"></div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> nSignal;</div><div class="line"></div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> efficiency;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> purity;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> weightsTruePositive;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> weightsFalsePositive;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> weightsSignal;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">   <a class="code" href="classTChain.html">TChain</a>* chain;</div><div class="line">   <a class="code" href="classTH1F.html">TH1F</a>* hSignal;</div><div class="line">   <a class="code" href="classTH1F.html">TH1F</a>* hFP;</div><div class="line">   <a class="code" href="classTH1F.html">TH1F</a>* hTP;</div><div class="line"></div><div class="line">};</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">// Call of Genetic algorithm</span></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">void</span> MaximizeSignificance(){</div><div class="line"></div><div class="line">        <span class="comment">// define all the parameters by their minimum and maximum value</span></div><div class="line">        <span class="comment">// in this example 3 parameters (=cuts on the classifiers) are defined.</span></div><div class="line">        vector&lt;Interval*&gt; ranges;</div><div class="line">        ranges.push_back( <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Interval.html">Interval</a>(-1,1) ); <span class="comment">// for some classifiers (especially LD) the ranges have to be taken larger</span></div><div class="line">        ranges.push_back( <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Interval.html">Interval</a>(-1,1) );</div><div class="line">        ranges.push_back( <span class="keyword">new</span> <a class="code" href="classTMVA_1_1Interval.html">Interval</a>(-1,1) );</div><div class="line"></div><div class="line">   std::cout &lt;&lt; <span class="stringliteral">&quot;Classifier ranges (defined by the user)&quot;</span> &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">for</span>( std::vector&lt;Interval*&gt;::iterator it = ranges.begin(); it != ranges.end(); it++ ){</div><div class="line">           std::cout &lt;&lt; <span class="stringliteral">&quot; range: &quot;</span> &lt;&lt; (*it)-&gt;GetMin() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; (*it)-&gt;GetMax() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">   <a class="code" href="classTChain.html">TChain</a>* chain = <span class="keyword">new</span> <a class="code" href="classTChain.html">TChain</a>(<span class="stringliteral">&quot;multiBkg&quot;</span>);</div><div class="line">   chain-&gt;<a class="code" href="classTChain.html#a9510cc7fc76ff28c30e6775bd9085d6e">Add</a>(<span class="stringliteral">&quot;tmva_example_multiple_backgrounds__applied.root&quot;</span>);</div><div class="line"></div><div class="line">        <a class="code" href="classTMVA_1_1IFitterTarget.html">IFitterTarget</a>* myFitness = <span class="keyword">new</span> MyFitness( chain );</div><div class="line"></div><div class="line">        <span class="comment">// prepare the genetic algorithm with an initial population size of 20</span></div><div class="line">        <span class="comment">// mind: big population sizes will help in searching the domain space of the solution</span></div><div class="line">        <span class="comment">// but you have to weight this out to the number of generations</span></div><div class="line">        <span class="comment">// the extreme case of 1 generation and populationsize n is equal to</span></div><div class="line">        <span class="comment">// a Monte Carlo calculation with n tries</span></div><div class="line"></div><div class="line">        <span class="keyword">const</span> <a class="code" href="classTString.html">TString</a> name( <span class="stringliteral">&quot;multipleBackgroundGA&quot;</span> );</div><div class="line">        <span class="keyword">const</span> <a class="code" href="classTString.html">TString</a> opts( <span class="stringliteral">&quot;PopSize=100:Steps=30&quot;</span> );</div><div class="line"></div><div class="line">        GeneticFitter <a class="code" href="namespaceTGeant4Unit.html#ada17cfd94c2f3395cd15e3118f80291c">mg</a>( *myFitness, name, ranges, opts);</div><div class="line">   <span class="comment">// mg.SetParameters( 4, 30, 200, 10,5, 0.95, 0.001 );</span></div><div class="line"></div><div class="line">        std::vector&lt;Double_t&gt; result;</div><div class="line">        <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> estimator = <a class="code" href="namespaceTGeant4Unit.html#ada17cfd94c2f3395cd15e3118f80291c">mg</a>.Run(result);</div><div class="line"></div><div class="line">   <span class="keyword">dynamic_cast&lt;</span>MyFitness*<span class="keyword">&gt;</span>(myFitness)-&gt;<a class="code" href="namespaceROOT_1_1Math_1_1IntegOptionsUtil.html#ab6ed98cef4968e1f965c6ce7ac8b72ab">Print</a>();</div><div class="line">   std::cout &lt;&lt; std::endl;</div><div class="line"></div><div class="line">   <span class="keywordtype">int</span> <a class="code" href="legend1_8C.html#a16daaa7b596941b23915a1ac1be5b42c">n</a> = 0;</div><div class="line">   <span class="keywordflow">for</span>( std::vector&lt;Double_t&gt;::iterator it = result.begin(); it&lt;result.end(); it++ ){</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;  cutValue[&quot;</span> &lt;&lt; <a class="code" href="legend1_8C.html#a16daaa7b596941b23915a1ac1be5b42c">n</a> &lt;&lt; <span class="stringliteral">&quot;] = &quot;</span> &lt;&lt; (*it) &lt;&lt; <span class="stringliteral">&quot;;&quot;</span>&lt;&lt; std::endl;</div><div class="line">      <a class="code" href="legend1_8C.html#a16daaa7b596941b23915a1ac1be5b42c">n</a>++;</div><div class="line">   }</div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> TMVAMultipleBackgroundExample()</div><div class="line">{</div><div class="line">   <span class="comment">// ----------------------------------------------------------------------------------------</span></div><div class="line">   <span class="comment">// Run all</span></div><div class="line">   <span class="comment">// ----------------------------------------------------------------------------------------</span></div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;Start Test TMVAGAexample&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot;========================&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; endl;</div><div class="line"></div><div class="line">   <a class="code" href="classTString.html">TString</a> createDataMacro = <a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;GetTutorialDir() + <span class="stringliteral">&quot;/tmva/createData.C&quot;</span>;</div><div class="line">   <a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;ProcessLine(<a class="code" href="classTString.html#ac34bbb89627e20624a416dfbb7a3db70">TString::Format</a>(<span class="stringliteral">&quot;.L %s&quot;</span>,createDataMacro.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>()));</div><div class="line">   <a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;ProcessLine(<span class="stringliteral">&quot;create_MultipleBackground(200)&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line">   cout &lt;&lt; endl;</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;========================&quot;</span> &lt;&lt; endl;</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;--- Training&quot;</span> &lt;&lt; endl;</div><div class="line">   Training();</div><div class="line"></div><div class="line">   cout &lt;&lt; endl;</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;========================&quot;</span> &lt;&lt; endl;</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;--- Application &amp; create combined tree&quot;</span> &lt;&lt; endl;</div><div class="line">   ApplicationCreateCombinedTree();</div><div class="line"></div><div class="line">   cout &lt;&lt; endl;</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;========================&quot;</span> &lt;&lt; endl;</div><div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;--- maximize significance&quot;</span> &lt;&lt; endl;</div><div class="line">   MaximizeSignificance();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> <a class="code" href="histspeedtest_8cxx.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv ) {</div><div class="line">   TMVAMultipleBackgroundExample();</div><div class="line">}</div></div><!-- fragment --> <dl class="section author"><dt>Author</dt><dd>Andreas Hoecker </dd></dl>

<p class="definition">Definition in file <a class="el" href="TMVAMultipleBackgroundExample_8C_source.html">TMVAMultipleBackgroundExample.C</a>.</p>
</div></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:10:32 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
