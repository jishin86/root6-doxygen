<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: Unuran</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Unuran<div class="ingroups"><a class="el" href="group__Math.html">Math</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader"> </h2>
<p>UNU.RAN, (Universal Non Uniform Random number generator for generating non uniform pseudo-random numbers) is an ANSI C library licensed under GPL.<br />
 It contains universal (also called automatic or black-box) algorithms that can generate random numbers from large classes of continuous or discrete distributions, and also from practically all standard distributions. An extensive online documentation are available at the (UNU.RAN Web Site)[<a href="http://statistik.wu-wien.ac.at/unuran/">http://statistik.wu-wien.ac.at/unuran/</a>]</p>
<p>New classes have been introduced to use the UNU.RAN C library from <a class="el" href="namespaceROOT.html" title="Namespace for new ROOT classes and functions. ">ROOT</a> and C++ from <a class="el" href="namespaceROOT.html" title="Namespace for new ROOT classes and functions. ">ROOT</a> and using C++ objects. To use UNU.RAN one needs always an instance of the class <b><a class="el" href="classTUnuran.html" title="TUnuran class. ">TUnuran</a></b>. It can then be used in two distinct ways:</p><ul>
<li>using the UNU.RAN native string API for pre-defined distributions (see<a href="http://statistik.wu-wien.ac.at/unuran/doc/unuran.html#StringAPI">UNU.RAN documentation</a> for the string API):</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="classTUnuran.html">TUnuran</a> unr;</div><div class="line"><span class="comment">//initialize unuran to generate normal random numbers using a &quot;arou&quot; method</span></div><div class="line">unr.<a class="code" href="classTUnuran.html#a793f7255df1e6d595fdfb6bc2f3a8256">Init</a>(<span class="stringliteral">&quot;normal()&quot;</span>,<span class="stringliteral">&quot;method=arou&quot;</span>);</div><div class="line"><span class="comment">//......</span></div><div class="line"><span class="comment">// sample distributions N times (generate N random numbers)</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &amp;lt; <a class="code" href="TGHtmlTable_8cxx.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++i)</div><div class="line">      <span class="keywordtype">double</span> <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a> = unr.<a class="code" href="classTUnuran.html#ac1039b3ae8d62c97edb5a0e54cefb90a">Sample</a>();</div></div><!-- fragment --><ul>
<li>Using a distribution object. We have then the following cases depending on the dimension and the distribution object.</li>
<li>For 1D distribution the class <b><a class="el" href="classTUnuranContDist.html" title="TUnuranContDist class describing one dimensional continuous distribution. ">TUnuranContDist</a></b> must be used.<ul>
<li>A <b><a class="el" href="classTUnuranContDist.html" title="TUnuranContDist class describing one dimensional continuous distribution. ">TUnuranContDist</a></b> object can be created from a function providing the pdf (probability density function) and optionally one providing the derivative of the pdf.</li>
</ul>
</li>
</ul>
<p>If the derivative is not provided and the generation method requires it, then it is estimated numerically.</p><ul>
<li>The user can optionally provide the<ul>
<li>cdf (cumulative distribution function) via the <b><a class="el" href="classTUnuranContDist.html#aa503d355d2f3dea904613d6be2ffb907" title="set cdf distribution. ">TUnuranContDist::SetCdf</a></b> function,</li>
<li>the mode via <b><a class="el" href="classTUnuranContDist.html#a6861ed05b92a0243225851a3aa26aa53" title="set the distribution mode (x position of its maximum) ">TUnuranContDist::SetMode</a></b>,</li>
<li>the domain via <b><a class="el" href="classTUnuranContDist.html#aa82c3fc018dadafc55ef3a45239ce191" title="Set the distribution domain. ">TUnuranContDist::SetDomain</a></b> for generating numbers in a restricted region,</li>
<li>the area below the pdf via <b><a class="el" href="classTUnuranContDist.html#ad3a56162ff9e4f2cc3c2534e3a3fe03d" title="set the area below the pdf ">TUnuranContDist::SetPdfArea</a></b>.</li>
</ul>
</li>
</ul>
<p>Some of this information is required depending on the chosen UNURAN generation method.</p>
<div class="fragment"><div class="line"><span class="comment">//1D case: create a distribution from two TF1 object pointers pdfFunc</span></div><div class="line"><a class="code" href="classTUnuranContDist.html">TUnuranContDist</a>  <a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>( pdfFunc);</div><div class="line"><span class="comment">//initialize unuran passing the distribution and a string defining the method</span></div><div class="line">unr.<a class="code" href="classTUnuran.html#a793f7255df1e6d595fdfb6bc2f3a8256">Init</a>(<a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>, <span class="stringliteral">&quot;method=hinv&quot;</span>);</div><div class="line"><span class="comment">// sample distribution  N times (generate N random numbers)</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &amp;lt; <a class="code" href="TGHtmlTable_8cxx.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++i)</div><div class="line">   <span class="keywordtype">double</span> <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a> = unr.<a class="code" href="classTUnuran.html#ac1039b3ae8d62c97edb5a0e54cefb90a">Sample</a>();</div></div><!-- fragment --><ul>
<li>For multi-dimensional distribution the class <b><a class="el" href="classTUnuranMultiContDist.html" title="TUnuranMultiContDist class describing multi dimensional continuous distributions. ...">TUnuranMultiContDist</a></b> must be used. In this case only the multi-dimensional pdf is required</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">//Multi-Dim case from a TF1 (or TF2 or TF3) object describing a multi-dimensional function</span></div><div class="line"><a class="code" href="classTUnuranMultiContDist.html">TUnuranMultiContDist</a>  <a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>( pdfFuncMulti);</div><div class="line"><span class="comment">// the recommended method for multi-dimensional function is &quot;hitro&quot;</span></div><div class="line">unr.<a class="code" href="classTUnuran.html#a793f7255df1e6d595fdfb6bc2f3a8256">Init</a>(<a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>, <span class="stringliteral">&quot;method=hitro&quot;</span>);</div><div class="line"><span class="comment">// sample distribution  N times (generate N random numbers)</span></div><div class="line"><span class="keywordtype">double</span> <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>[NDIM];</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &amp;lt; <a class="code" href="TGHtmlTable_8cxx.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++i)</div><div class="line">unr.<a class="code" href="classTUnuran.html#a661d8eb229fc7792096232ea0a29035b">SampleMulti</a>(<a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>);</div></div><!-- fragment --><ul>
<li>For discrete distribution the class <b><a class="el" href="classTUnuranDiscrDist.html" title="TUnuranDiscrDist class for one dimensional discrete distribution. ">TUnuranDiscrDist</a></b> must be used. The distribution can be initialized from a <a class="el" href="classTF1.html" title="1-Dim function class ">TF1</a> or from a vector of probabilities.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// create distribution from a vector of probabilities</span></div><div class="line">   <span class="keywordtype">double</span> pv[NSize] = {0.1,0.2,.......};</div><div class="line"><a class="code" href="classTUnuranDiscrDist.html">TUnuranDiscrDist</a>  <a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>(pv, pv+NSize);</div><div class="line"><span class="comment">// the recommended method for discrete distribution is</span></div><div class="line">unr.<a class="code" href="classTUnuran.html#a793f7255df1e6d595fdfb6bc2f3a8256">Init</a>(<a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>, <span class="stringliteral">&quot;method=dgt&quot;</span>);</div><div class="line"><span class="comment">// sample N times (generate N random numbers)</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &amp;lt; <a class="code" href="TGHtmlTable_8cxx.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++i)</div><div class="line">   <span class="keywordtype">int</span> k = unr.<a class="code" href="classTUnuran.html#a394ee641ae3cd9711ebe9b78865fe79e">SampleDiscr</a>();</div></div><!-- fragment --><ul>
<li>For empirical distribution the class <b><a class="el" href="classTUnuranEmpDist.html" title="TUnuranEmpDist class for describing empiral distributions. ">TUnuranEmpDist</a></b> must be used. In this case one can generate random numbers from a set of data (un-binned) in one or multi-dimension or from a set of binned data in one dimension (similar to <a class="el" href="classTH1.html#a4dd1bbf1cbeea1e7da03e781d01cf232" title="Return a random number distributed according the histogram bin contents. ">TH1::GetRandom()</a> ).<ul>
<li>For unbin data the parent distribution is estimated by UNU.RAN using a gaussian kernel smoothing algorithm. One can create the distribution class directly from a vector of data or from the buffer of <a class="el" href="classTH1.html" title="The TH1 histogram class. ">TH1</a>.</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// create distribution from a set of data 1D</span></div><div class="line"><span class="comment">// vdata is an std::vector containing the data</span></div><div class="line"><a class="code" href="classTUnuranEmpDist.html">TUnuranEmpDist</a>  <a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>( vdata.begin(),vdata.end());</div><div class="line">unr.<a class="code" href="classTUnuran.html#a793f7255df1e6d595fdfb6bc2f3a8256">Init</a>(<a class="code" href="namespaceROOT_1_1Math_1_1gv__detail.html#a8ab33c06d03028aa065f9ec2466f4341">dist</a>);</div><div class="line">   <span class="comment">// sample N times (generate N random numbers)</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &amp;lt; <a class="code" href="TGHtmlTable_8cxx.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++i)</div><div class="line">   <span class="keywordtype">double</span> <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a> = unr.<a class="code" href="classTUnuran.html#ac1039b3ae8d62c97edb5a0e54cefb90a">Sample</a>();</div></div><!-- fragment --><ul>
<li>In the case of multi-dimension emprical distributions one needs to pass in addition to the iterators, the data dimension. It is assumed that the data are stored in the vector in this order : <code>(x0,y0,...),(x1,y1,....)</code>.</li>
<li>For binned data (only one dimensional data are supported) one uses directly the histogram</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// create an empirical distribution from an histogram</span></div><div class="line"><span class="comment">// if the histogram has a buffer one must use TUnuranEmpDist(h1,false)</span></div><div class="line"><a class="code" href="classTH1.html">TH1</a> * <a class="code" href="legend1_8C.html#aaf2545ecc018288fcf442904a5af9e83">h1</a> = ... <span class="comment">// histogram pointer</span></div><div class="line"><a class="code" href="classTUnuranEmpDist.html">TUnuranEmpDist</a>  binDist( <a class="code" href="legend1_8C.html#aaf2545ecc018288fcf442904a5af9e83">h1</a>);</div><div class="line">unr.<a class="code" href="classTUnuran.html#a793f7255df1e6d595fdfb6bc2f3a8256">Init</a>(binDist);</div><div class="line">   <span class="comment">// sample N times (generate N random numbers)</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &amp;lt; <a class="code" href="TGHtmlTable_8cxx.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++i)</div><div class="line">   <span class="keywordtype">double</span> <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a> = unr.<a class="code" href="classTUnuran.html#ac1039b3ae8d62c97edb5a0e54cefb90a">Sample</a>();</div></div><!-- fragment --><ul>
<li>This is equivalent to <a class="el" href="classTH1.html#a4dd1bbf1cbeea1e7da03e781d01cf232" title="Return a random number distributed according the histogram bin contents. ">TH1::GetRandom()</a>, but sampling is faster, therefore, since it requires some initialization time, it becomes convenient when generating a large sample of random numbers.</li>
</ul>
<p>Functionality is also provided via the C++ classes for using a different random number generator by passing a <a class="el" href="classTRandom.html" title=" This is the base class for the ROOT Random number generators. ">TRandom</a> pointer when constructing the <a class="el" href="classTUnuran.html" title="TUnuran class. ">TUnuran</a> class (by default the <a class="el" href="namespaceROOT.html" title="Namespace for new ROOT classes and functions. ">ROOT</a> gRandom is passed to UNURAN).</p>
<p>The (UNU.RAN documentation)[<a href="http://statistik.wu-wien.ac.at/unuran/doc/unuran.html#Top">http://statistik.wu-wien.ac.at/unuran/doc/unuran.html#Top</a>] provides a detailed description of all the available methods and the possible options which one can pass to UNU.RAN for the various distributions. */ </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTUnuran.html">TUnuran</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTUnuran.html" title="TUnuran class. ">TUnuran</a> class.  <a href="classTUnuran.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTUnuranContDist.html">TUnuranContDist</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTUnuranContDist.html" title="TUnuranContDist class describing one dimensional continuous distribution. ">TUnuranContDist</a> class describing one dimensional continuous distribution.  <a href="classTUnuranContDist.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTUnuranDiscrDist.html">TUnuranDiscrDist</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTUnuranDiscrDist.html" title="TUnuranDiscrDist class for one dimensional discrete distribution. ">TUnuranDiscrDist</a> class for one dimensional discrete distribution.  <a href="classTUnuranDiscrDist.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTUnuranEmpDist.html">TUnuranEmpDist</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTUnuranEmpDist.html" title="TUnuranEmpDist class for describing empiral distributions. ">TUnuranEmpDist</a> class for describing empiral distributions.  <a href="classTUnuranEmpDist.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTUnuranMultiContDist.html">TUnuranMultiContDist</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTUnuranMultiContDist.html" title="TUnuranMultiContDist class describing multi dimensional continuous distributions. ...">TUnuranMultiContDist</a> class describing multi dimensional continuous distributions.  <a href="classTUnuranMultiContDist.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTUnuranSampler.html">TUnuranSampler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTUnuranSampler.html" title="TUnuranSampler class class implementing the ROOT::Math::DistSampler interface using the UNU...">TUnuranSampler</a> class class implementing the <a class="el" href="classROOT_1_1Math_1_1DistSampler.html" title="Interface class for generic sampling of a distribution, i.e. ">ROOT::Math::DistSampler</a> interface using the UNU.RAN package for sampling distributions.  <a href="classTUnuranSampler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:10:41 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
