<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: tutorials/benchmarks.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0d353d24d0afa59909efab6593124f6d.html">tutorials</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">benchmarks.C File Reference<div class="ingroups"><a class="el" href="group__Tutorials.html">Tutorials</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This macro run several tests and produces an benchmark report. </p>
<div class="image">
<img src="pict1_benchmarks.C.png" alt="pict1_benchmarks.C.png" width="200"/>
</div>
 <div class="image">
<img src="pict2_benchmarks.C.png" alt="pict2_benchmarks.C.png" width="700"/>
</div>
 <div class="image">
<img src="pict3_benchmarks.C.png" alt="pict3_benchmarks.C.png" width="700"/>
</div>
 <div class="image">
<img src="pict4_benchmarks.C.png" alt="pict4_benchmarks.C.png" width="800"/>
</div>
 <div class="image">
<img src="pict5_benchmarks.C.png" alt="pict5_benchmarks.C.png" width="700"/>
</div>
 <div class="fragment"><div class="line"></div><div class="line">hsimple   : Real Time =   0.08 seconds Cpu Time =   0.09 seconds</div><div class="line">(TFile *) 0x23fcfa0</div><div class="line">hsum      : Real Time =   0.04 seconds Cpu Time =   0.04 seconds</div><div class="line"></div><div class="line">Object statistics</div><div class="line">class                         cnt    on heap     size    total size    heap size</div><div class="line">================================================================================</div><div class="line">TList                         137        137      104         14248        14248</div><div class="line">TObjectTable                    1          1       32            32           32</div><div class="line">TROOT                           1          0      704           704            0</div><div class="line">TPluginManager                  1          1       40            40           40</div><div class="line">THashTable                      1          1       72            72           72</div><div class="line">THashList                       1          1      112           112          112</div><div class="line">TEnv                            1          1       56            56           56</div><div class="line">TEnvRec                       154        154       96         14784        14784</div><div class="line">TUnixSystem                     1          1      648           648          648</div><div class="line">TOrdCollection                  5          5       72           360          360</div><div class="line">--------------------------------------------------------------------------------</div><div class="line">Total:                        303        302     1936         31056        30352</div><div class="line">================================================================================</div><div class="line"></div><div class="line">fillrandom: Real Time =   0.06 seconds Cpu Time =   0.05 seconds</div><div class="line">TFile**     fillrandom.root   </div><div class="line"> TFile*     fillrandom.root   </div><div class="line">  KEY: TFormula   form1;1  abs(sin(x)/x)</div><div class="line">  KEY: TF1  sqroot;1 x*gaus(0) + [3]*form1</div><div class="line">  KEY: TH1F h1f;1 Test random numbers</div><div class="line">Formula based function:     sqroot </div><div class="line">               sqroot : x*gaus(0) + [3]*form1 Ndim= 1, Npar= 4, Number= 0 </div><div class="line"> Formula expression: </div><div class="line">   x*[p0]*exp(-0.5*((x-[p1])/[p2])*((x-[p1])/[p2]))+[p3]*(abs(sin(x)/x)) </div><div class="line"> FCN=174.862 FROM MIGRAD    STATUS=CONVERGED     125 CALLS         126 TOTAL</div><div class="line">                     EDM=3.19274e-08    STRATEGY= 1  ERROR MATRIX UNCERTAINTY   4.0 per cent</div><div class="line">  EXT PARAMETER                                   STEP         FIRST   </div><div class="line">  NO.   NAME      VALUE            ERROR          SIZE      DERIVATIVE </div><div class="line">   1  p0           3.29084e+01   5.29780e-01   4.69273e-03  -3.13078e-04</div><div class="line">   2  p1           3.99669e+00   1.74587e-02  -1.74223e-04  -1.63296e-02</div><div class="line">   3  p2           9.94633e-01   1.25288e-02   3.83227e-05  -3.59494e-02</div><div class="line">   4  p3           6.38766e+01   1.32840e+00   1.86503e-03   7.92373e-06</div><div class="line">fit1      : Real Time =   0.07 seconds Cpu Time =   0.07 seconds</div><div class="line">TFile**     hsimple.root   Demo ROOT file with histograms</div><div class="line"> TFile*     hsimple.root   Demo ROOT file with histograms</div><div class="line">  KEY: TH1F hpx;1 This is the px distribution</div><div class="line">  KEY: TH2F hpxpy;1  py vs px</div><div class="line">  KEY: TProfile   hprof;1  Profile of pz versus px</div><div class="line">  KEY: TNtuple ntuple;1 Demo ntuple</div><div class="line"> i 0 0.000000 1.986693 </div><div class="line"> i 1 0.100000 2.955202 </div><div class="line"> i 2 0.200000 3.894183 </div><div class="line"> i 3 0.300000 4.794255 </div><div class="line"> i 4 0.400000 5.646425 </div><div class="line"> i 5 0.500000 6.442177 </div><div class="line"> i 6 0.600000 7.173561 </div><div class="line"> i 7 0.700000 7.833269 </div><div class="line"> i 8 0.800000 8.414710 </div><div class="line"> i 9 0.900000 8.912074 </div><div class="line"> i 10 1.000000 9.320391 </div><div class="line"> i 11 1.100000 9.635582 </div><div class="line"> i 12 1.200000 9.854497 </div><div class="line"> i 13 1.300000 9.974950 </div><div class="line"> i 14 1.400000 9.995736 </div><div class="line"> i 15 1.500000 9.916648 </div><div class="line"> i 16 1.600000 9.738476 </div><div class="line"> i 17 1.700000 9.463001 </div><div class="line"> i 18 1.800000 9.092974 </div><div class="line"> i 19 1.900000 8.632094 </div><div class="line">tornado   : Real Time =   0.00 seconds Cpu Time =   0.00 seconds</div><div class="line">na49      : Real Time =   0.01 seconds Cpu Time =   0.01 seconds</div><div class="line">geometry  : Real Time =   0.08 seconds Cpu Time =   0.03 seconds</div><div class="line">na49view  : Real Time =   0.00 seconds Cpu Time =   0.01 seconds</div><div class="line"></div><div class="line">****************************************</div><div class="line">Minimizer is Linear</div><div class="line">Chi2                      =      16.5378</div><div class="line">NDf                       =           68</div><div class="line">p0                        =      1.04821   +/-   0.226552    </div><div class="line">p1                        =    0.0133784   +/-   0.0420448   </div><div class="line">p2                        =     0.956034   +/-   0.0245116   </div><div class="line">ntuple1   : Real Time =   0.14 seconds Cpu Time =   0.15 seconds</div><div class="line">---------------ROOT 6.18/03 benchmarks summary--------------------</div><div class="line">hsimple   : Real Time =   0.08 seconds Cpu Time =   0.09 seconds</div><div class="line">hsum      : Real Time =   0.04 seconds Cpu Time =   0.04 seconds</div><div class="line">fillrandom: Real Time =   0.06 seconds Cpu Time =   0.05 seconds</div><div class="line">fit1      : Real Time =   0.07 seconds Cpu Time =   0.07 seconds</div><div class="line">tornado   : Real Time =   0.00 seconds Cpu Time =   0.00 seconds</div><div class="line">na49      : Real Time =   0.01 seconds Cpu Time =   0.01 seconds</div><div class="line">geometry  : Real Time =   0.08 seconds Cpu Time =   0.03 seconds</div><div class="line">na49view  : Real Time =   0.00 seconds Cpu Time =   0.01 seconds</div><div class="line">ntuple1   : Real Time =   0.14 seconds Cpu Time =   0.15 seconds</div><div class="line">TOTAL     : Real Time =   0.48 seconds Cpu Time =   0.45 seconds</div><div class="line"></div><div class="line">---------------ROOT 6.18/03 benchmarks summary (in ROOTMARKS)-----</div><div class="line">   For comparison, a Pentium IV 2.4Ghz is benchmarked at 600 ROOTMARKS</div><div class="line">hsimple     = 2316.04 RealMARKS,  = 1866.67 CpuMARKS</div><div class="line">hsum        = 2699.67 RealMARKS,  = 2250.00 CpuMARKS</div><div class="line">fillrandom  =  195.84 RealMARKS,  =  120.00 CpuMARKS</div><div class="line">fit1        =  337.31 RealMARKS,  =  257.14 CpuMARKS</div><div class="line">tornado     = 27218.07 RealMARKS,  =     inf CpuMARKS</div><div class="line">na49        = 97281.54 RealMARKS,  = 83400.00 CpuMARKS</div><div class="line">geometry    = 1480.23 RealMARKS,  = 3600.00 CpuMARKS</div><div class="line">na49view    = 3860.18 RealMARKS,  = 1800.00 CpuMARKS</div><div class="line">ntuple1     = 1227.93 RealMARKS,  = 1080.00 CpuMARKS</div><div class="line"></div><div class="line">****************************************************</div><div class="line">* Your machine is estimated at 4333.98 ROOTMARKS   *</div><div class="line">****************************************************</div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><a class="code" href="classTCanvas.html">TCanvas</a>* bench1 = 0;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> bexec(<a class="code" href="classTString.html">TString</a> &amp;dir,<span class="keyword">const</span> <span class="keywordtype">char</span> *macro)</div><div class="line">{</div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;IsBatch()) printf(<span class="stringliteral">&quot;Processing benchmark: %s%s\n&quot;</span>,dir.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(),macro);</div><div class="line">   <a class="code" href="classTPaveText.html">TPaveText</a> *summary = (<a class="code" href="classTPaveText.html">TPaveText</a>*)bench1-&gt;<a class="code" href="classTPad.html#af757a87208deb609e0b0d29e6edfaf94">GetPrimitive</a>(<span class="stringliteral">&quot;TPave&quot;</span>);</div><div class="line">   <a class="code" href="classTText.html">TText</a> *tmacro = summary-&gt;<a class="code" href="classTPaveText.html#adc202fa6a328070fda55a2a41fafb939">GetLineWith</a>(macro);</div><div class="line">   <span class="keywordflow">if</span> (tmacro) tmacro-&gt;<a class="code" href="classTAttText.html#a96c3a597f0af6d05a168bf84db60d4ff">SetTextColor</a>(4);</div><div class="line">   bench1-&gt;<a class="code" href="classTPad.html#aa259020a35aea38ac78614ee212a5f80">Modified</a>(); bench1-&gt;<a class="code" href="classTCanvas.html#a83bb3270c4e4cd4250730d5586ceebd6">Update</a>();</div><div class="line"></div><div class="line">   <a class="code" href="TROOT_8h.html#a851dd11b3478372a25ba6eff6dcfa5b1">gROOT</a>-&gt;Macro(<a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;%s%s&quot;</span>,dir.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(),macro));</div><div class="line"></div><div class="line">   <a class="code" href="classTPaveText.html">TPaveText</a> *summary2 = (<a class="code" href="classTPaveText.html">TPaveText</a>*)bench1-&gt;<a class="code" href="classTPad.html#af757a87208deb609e0b0d29e6edfaf94">GetPrimitive</a>(<span class="stringliteral">&quot;TPave&quot;</span>);</div><div class="line">   <a class="code" href="classTText.html">TText</a> *tmacro2 = summary2-&gt;<a class="code" href="classTPaveText.html#adc202fa6a328070fda55a2a41fafb939">GetLineWith</a>(macro);</div><div class="line">   <span class="keywordflow">if</span> (tmacro2) tmacro2-&gt;<a class="code" href="classTAttText.html#a96c3a597f0af6d05a168bf84db60d4ff">SetTextColor</a>(2);</div><div class="line">   bench1-&gt;<a class="code" href="classTPad.html#aa259020a35aea38ac78614ee212a5f80">Modified</a>(); bench1-&gt;<a class="code" href="classTCanvas.html#a83bb3270c4e4cd4250730d5586ceebd6">Update</a>(); <a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#aeafc2f064213bb24378b3bef2d7502cb">ProcessEvents</a>();</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="namespacebenchmarks.html">benchmarks</a>() {</div><div class="line">   <a class="code" href="classTString.html">TString</a> dir = <a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a8e22dfd65a6fecd7dd57200eaff20c18">UnixPathName</a>(__FILE__);</div><div class="line">   dir.<a class="code" href="classTString.html#a5072f18275913ec22cfa6f7c0c70c557">ReplaceAll</a>(<span class="stringliteral">&quot;benchmarks.C&quot;</span>,<span class="stringliteral">&quot;&quot;</span>);</div><div class="line">   dir.<a class="code" href="classTString.html#a5072f18275913ec22cfa6f7c0c70c557">ReplaceAll</a>(<span class="stringliteral">&quot;/./&quot;</span>,<span class="stringliteral">&quot;/&quot;</span>);</div><div class="line">   bench1 = <span class="keyword">new</span> <a class="code" href="classTCanvas.html">TCanvas</a>(<span class="stringliteral">&quot;bench1&quot;</span>,<span class="stringliteral">&quot;Benchmarks Summary&quot;</span>,-1000,50,200,500);</div><div class="line">   <a class="code" href="classTPaveText.html">TPaveText</a> *summary = <span class="keyword">new</span> <a class="code" href="classTPaveText.html">TPaveText</a>(0,0,1,1);</div><div class="line">   summary-&gt;<a class="code" href="classTAttText.html#a3ccefe554f443f21fa9695afca230275">SetTextAlign</a>(12);</div><div class="line">   summary-&gt;<a class="code" href="classTAttText.html#ad16cc1ff20c52dcd5f7352443d36fb3b">SetTextSize</a>(0.08);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0af35def1a3f2f0f9ef5e796e08e04e4">Draw</a>();</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  graphics/framework.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  hsimple.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  hist/hsum.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  graphics/formula1.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  hist/fillrandom.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  fit/fit1.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  hist/h1draw.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  graphs/graph.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  graphs/gerrors.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  graphics/tornado.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  graphs/surfaces.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  graphs/zdemo.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  geom/geometry.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  geom/na49view.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  tree/ntuple1.C&quot;</span>);</div><div class="line">   summary-&gt;<a class="code" href="classTPaveText.html#a0358c389da35224e49876ca14d422860">AddText</a>(<span class="stringliteral">&quot;  &quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;graphics/framework.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;hsimple.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;hist/hsum.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;graphics/formula1.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;hist/fillrandom.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;fit/fit1.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;hist/h1draw.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;graphs/graph.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;graphs/gerrors.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;graphics/tornado.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;graphs/surfaces.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;graphs/zdemo.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;geom/geometry.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;geom/na49view.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;tree/ntuple1.C&quot;</span>);</div><div class="line">   bexec(dir,<span class="stringliteral">&quot;rootmarks.C&quot;</span>);</div><div class="line">}</div></div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Rene Brun </dd></dl>

<p class="definition">Definition in file <a class="el" href="benchmarks_8C_source.html">benchmarks.C</a>.</p>
</div></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:10:05 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
