<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: tutorials/hist/th2polyEurope.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0d353d24d0afa59909efab6593124f6d.html">tutorials</a></li><li class="navelem"><a class="el" href="dir_d19fad060e71a4fa91e5d42b7a1a4b08.html">hist</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">th2polyEurope.C File Reference<div class="ingroups"><a class="el" href="group__Tutorials.html">Tutorials</a> &raquo; <a class="el" href="group__tutorial__hist.html">Histograms tutorials</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p> <a href="http://nbviewer.jupyter.org/url/root.cern.ch/doc/master/notebooks/th2polyEurope.C.nbconvert.ipynb" target="_blank"><img src= notebook.gif alt="View in nbviewer" style="height:1em" ></a> <a href="https://cern.ch/swanserver/cgi-bin/go?projurl=https://root.cern.ch/doc/master/notebooks/th2polyEurope.C.nbconvert.ipynb" target="_blank"><img src="http://swanserver.web.cern.ch/swanserver/images/badge_swan_white_150.png"  alt="Open in SWAN" style="height:1em" ></a>  This tutorial illustrates how to create an histogram with polygonal bins (<a class="el" href="classTH2Poly.html" title="2D Histogram with Polygonal Bins ">TH2Poly</a>), fill it and draw it. </p>
<p>The initial data are stored in TMultiGraphs. They represent the european countries. The histogram filling is done according to a Mercator projection, therefore the bin contains should be proportional to the real surface of the countries.</p>
<p>The initial data have been downloaded from: <a href="http://www.maproom.psu.edu/dcw/">http://www.maproom.psu.edu/dcw/</a> This database was developed in 1991/1992 and national boundaries reflect political reality as of that time.</p>
<p>The script is shooting npoints (script argument) randomly over the Europe area. The number of points inside the countries should be proportional to the country surface The estimated surface is compared to the surfaces taken from wikipedia.</p>
<div class="image">
<img src="pict1_th2polyEurope.C.png" alt="pict1_th2polyEurope.C.png" width="800"/>
</div>
 <div class="image">
<img src="pict2_th2polyEurope.C.png" alt="pict2_th2polyEurope.C.png" width="780"/>
</div>
 <div class="fragment"><div class="line"></div><div class="line">Partitioning: Real Time =   1.24 seconds Cpu Time =   1.23 seconds</div><div class="line">Filling   : Real Time =   3.86 seconds Cpu Time =   3.84 seconds</div><div class="line">THPoly Europe surface estimation error wrt wikipedia = 1.260096 per cent when using 500000 points</div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">void</span> th2polyEurope(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> npoints=500000)</div><div class="line">{</div><div class="line">   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> i,j;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> lon1 = -25;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> lon2 =  35;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> lat1 =  34;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> lat2 =  72;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> <a class="code" href="RSha256_8hxx.html#ae076917a1bc8cbea6ed0af47d7c897fe">R</a> = (lat2-lat1)/(lon2-lon1);</div><div class="line">   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> W    = 800;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="md5_8inl.html#ae42219072d798876e6b08e6b78614ff6">H</a>    = (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a>)(<a class="code" href="RSha256_8hxx.html#ae076917a1bc8cbea6ed0af47d7c897fe">R</a>*800);</div><div class="line">   <a class="code" href="TStyle_8h.html#ace94cabdcf18c1e8a7856d8c3f388cfe">gStyle</a>-&gt;<a class="code" href="classTStyle.html#a34a434a8c4a7c0a5a51f6b9a3db73b45">SetStatX</a>(0.28);</div><div class="line">   <a class="code" href="TStyle_8h.html#ace94cabdcf18c1e8a7856d8c3f388cfe">gStyle</a>-&gt;<a class="code" href="classTStyle.html#ac89d8cc48405e0562d8f768d63cd9022">SetStatY</a>(0.45);</div><div class="line">   <a class="code" href="TStyle_8h.html#ace94cabdcf18c1e8a7856d8c3f388cfe">gStyle</a>-&gt;<a class="code" href="classTStyle.html#ac2fabf1d997232f74dc11a517b0f36ae">SetStatW</a>(0.15);</div><div class="line"></div><div class="line">   <span class="comment">// Canvas used to draw TH2Poly (the map)</span></div><div class="line">   <a class="code" href="classTCanvas.html">TCanvas</a> *ce = <span class="keyword">new</span> <a class="code" href="classTCanvas.html">TCanvas</a>(<span class="stringliteral">&quot;ce&quot;</span>, <span class="stringliteral">&quot;ce&quot;</span>,0,0,W,<a class="code" href="md5_8inl.html#ae42219072d798876e6b08e6b78614ff6">H</a>);</div><div class="line">   ce-&gt;<a class="code" href="classTCanvas.html#a2ebf630e28575140d5031494dc2bfc67">ToggleEventStatus</a>();</div><div class="line">   ce-&gt;<a class="code" href="classTPad.html#a1afec5cf936008399bae3810aeee4060">SetGridx</a>();</div><div class="line">   ce-&gt;<a class="code" href="classTPad.html#a34f75a4a90cf41e1ba850750c3062c76">SetGridy</a>();</div><div class="line"></div><div class="line">   <span class="comment">// Real surfaces taken from Wikipedia.</span></div><div class="line">   <span class="keyword">const</span> <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nx = 36;</div><div class="line">   <span class="comment">// see http://en.wikipedia.org/wiki/Area_and_population_of_European_countries</span></div><div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span> *countries[nx] = {</div><div class="line">      <span class="stringliteral">&quot;france&quot;</span>,     <span class="stringliteral">&quot;spain&quot;</span>,  <span class="stringliteral">&quot;sweden&quot;</span>,  <span class="stringliteral">&quot;germany&quot;</span>,       <span class="stringliteral">&quot;finland&quot;</span>,</div><div class="line">      <span class="stringliteral">&quot;norway&quot;</span>,     <span class="stringliteral">&quot;poland&quot;</span>, <span class="stringliteral">&quot;italy&quot;</span>,   <span class="stringliteral">&quot;yugoslavia&quot;</span>,    <span class="stringliteral">&quot;united_kingdom&quot;</span>,</div><div class="line">      <span class="stringliteral">&quot;romania&quot;</span>,    <span class="stringliteral">&quot;belarus&quot;</span>,<span class="stringliteral">&quot;greece&quot;</span>,  <span class="stringliteral">&quot;czechoslovakia&quot;</span>,<span class="stringliteral">&quot;bulgaria&quot;</span>,</div><div class="line">      <span class="stringliteral">&quot;iceland&quot;</span>,    <span class="stringliteral">&quot;hungary&quot;</span>,<span class="stringliteral">&quot;portugal&quot;</span>,<span class="stringliteral">&quot;austria&quot;</span>,       <span class="stringliteral">&quot;ireland&quot;</span>,</div><div class="line">      <span class="stringliteral">&quot;lithuania&quot;</span>,  <span class="stringliteral">&quot;latvia&quot;</span>, <span class="stringliteral">&quot;estonia&quot;</span>, <span class="stringliteral">&quot;denmark&quot;</span>,       <span class="stringliteral">&quot;netherlands&quot;</span>,</div><div class="line">      <span class="stringliteral">&quot;switzerland&quot;</span>,<span class="stringliteral">&quot;moldova&quot;</span>,<span class="stringliteral">&quot;belgium&quot;</span>, <span class="stringliteral">&quot;albania&quot;</span>,       <span class="stringliteral">&quot;cyprus&quot;</span>,</div><div class="line">      <span class="stringliteral">&quot;luxembourg&quot;</span>, <span class="stringliteral">&quot;andorra&quot;</span>,<span class="stringliteral">&quot;malta&quot;</span>,   <span class="stringliteral">&quot;liechtenstein&quot;</span>, <span class="stringliteral">&quot;san_marino&quot;</span>, <span class="stringliteral">&quot;monaco&quot;</span> };</div><div class="line">   <a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> <a class="code" href="namespacesurfaces.html">surfaces</a>[nx] = {</div><div class="line">      547030,        505580,   449964,      357021,        338145,</div><div class="line">      324220,        312685,   301230,      255438,        244820,</div><div class="line">      237500,        207600,   131940,      127711,        110910,</div><div class="line">      103000,         93030,    89242,       83870,         70280,</div><div class="line">      65200,         64589,    45226,       43094,         41526,</div><div class="line">      41290,         33843,    30528,       28748,          9250,</div><div class="line">      2586,           468,      316,         160,            61, 2};</div><div class="line"></div><div class="line">   <a class="code" href="classTH1F.html">TH1F</a> *<a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a> = <span class="keyword">new</span> <a class="code" href="classTH1F.html">TH1F</a>(<span class="stringliteral">&quot;h&quot;</span>,<span class="stringliteral">&quot;Countries surfaces (in km^{2})&quot;</span>,3,0,3);</div><div class="line">   <span class="keywordflow">for</span> (i=0; i&lt;nx; i++) <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;Fill(countries[i], <a class="code" href="namespacesurfaces.html">surfaces</a>[i]);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;LabelsDeflate();</div><div class="line"></div><div class="line">   <a class="code" href="classTFile.html#ab80316ea9ebda1357aefeb83eb45aab2">TFile::SetCacheFileDir</a>(<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line">   <a class="code" href="classTFile.html">TFile</a> *<a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>;</div><div class="line">   <a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>(<span class="stringliteral">&quot;http://root.cern.ch/files/europe.root&quot;</span>,<span class="stringliteral">&quot;cacheread&quot;</span>);</div><div class="line"></div><div class="line">   <span class="keywordflow">if</span> (!<a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>) {</div><div class="line">      printf(<span class="stringliteral">&quot;Cannot access europe.root. Is internet working ?\n&quot;</span>);</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">   }</div><div class="line"></div><div class="line">   <a class="code" href="classTH2Poly.html">TH2Poly</a> *p = <span class="keyword">new</span> <a class="code" href="classTH2Poly.html">TH2Poly</a>(</div><div class="line">             <span class="stringliteral">&quot;Europe&quot;</span>,</div><div class="line">             <span class="stringliteral">&quot;Europe (bin contents are normalized to the surfaces in km^{2})&quot;</span>,</div><div class="line">             lon1,lon2,lat1,lat2);</div><div class="line">   p-&gt;<a class="code" href="classTH1.html#a3d91d3762b9789bd6e54e67d8ccce2e6">GetXaxis</a>()-&gt;<a class="code" href="classTAttAxis.html#ae3067b6d4218970d09418291cbd84084">SetNdivisions</a>(520);</div><div class="line">   p-&gt;<a class="code" href="classTH1.html#a3d91d3762b9789bd6e54e67d8ccce2e6">GetXaxis</a>()-&gt;<a class="code" href="classTNamed.html#a72f4d419b48a5fbfef07485b335139ca">SetTitle</a>(<span class="stringliteral">&quot;longitude&quot;</span>);</div><div class="line">   p-&gt;<a class="code" href="classTH1.html#a5cadfed83a4db70b4eae6b0a1cea3532">GetYaxis</a>()-&gt;<a class="code" href="classTNamed.html#a72f4d419b48a5fbfef07485b335139ca">SetTitle</a>(<span class="stringliteral">&quot;latitude&quot;</span>);</div><div class="line"></div><div class="line">   p-&gt;<a class="code" href="classTH1.html#a849bbf002125b4d107f13510ce374d18">SetContour</a>(100);</div><div class="line"></div><div class="line">   <a class="code" href="classTMultiGraph.html">TMultiGraph</a> *<a class="code" href="namespaceTGeant4Unit.html#ada17cfd94c2f3395cd15e3118f80291c">mg</a>;</div><div class="line">   <a class="code" href="classTKey.html">TKey</a> *key;</div><div class="line">   <a class="code" href="classTIter.html">TIter</a> nextkey(<a class="code" href="TDirectory_8h.html#a4b7ea8e501a437fce417e42aa1294808">gDirectory</a>-&gt;GetListOfKeys());</div><div class="line">   <span class="keywordflow">while</span> ((key = (<a class="code" href="classTKey.html">TKey</a>*)nextkey())) {</div><div class="line">      <a class="code" href="classTObject.html">TObject</a> *obj = key-&gt;<a class="code" href="classTKey.html#adb768880752e46818736f82b1532e54f">ReadObj</a>();</div><div class="line">      <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="classTObject.html#ab80cf94f9f66badac741633f944ae02a">InheritsFrom</a>(<span class="stringliteral">&quot;TMultiGraph&quot;</span>)) {</div><div class="line">         <a class="code" href="namespaceTGeant4Unit.html#ada17cfd94c2f3395cd15e3118f80291c">mg</a> = (<a class="code" href="classTMultiGraph.html">TMultiGraph</a>*)obj;</div><div class="line">         p-&gt;<a class="code" href="classTH2Poly.html#aae7ecca8d1f1b149a417a514445947a8">AddBin</a>(<a class="code" href="namespaceTGeant4Unit.html#ada17cfd94c2f3395cd15e3118f80291c">mg</a>);</div><div class="line">      }</div><div class="line">   }</div><div class="line"></div><div class="line">   <a class="code" href="classTRandom.html">TRandom</a> <a class="code" href="Object_8C.html#ac15f01b9c6407e1312dfc196ad4e0870">r</a>;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> longitude, latitude;</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>, <a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>, pi4 = <a class="code" href="namespaceTMath.html#ab7512d834c08404cd5110251f5a31099">TMath::Pi</a>()/4, alpha = <a class="code" href="namespaceTMath.html#ab7512d834c08404cd5110251f5a31099">TMath::Pi</a>()/360;</div><div class="line"></div><div class="line">   <a class="code" href="TBenchmark_8h.html#a96854cd3d5b2fbc58cc4bc2029415db8">gBenchmark</a>-&gt;<a class="code" href="classTBenchmark.html#a7596451ade84dc5d6712a754239f7e0b">Start</a>(<span class="stringliteral">&quot;Partitioning&quot;</span>);</div><div class="line">   p-&gt;<a class="code" href="classTH2Poly.html#a87c1532053057f225f6e9f66f7b1d2be">ChangePartition</a>(100, 100);</div><div class="line">   <a class="code" href="TBenchmark_8h.html#a96854cd3d5b2fbc58cc4bc2029415db8">gBenchmark</a>-&gt;<a class="code" href="classTBenchmark.html#ad14bad185e0ade9b7289459c0356b01c">Show</a>(<span class="stringliteral">&quot;Partitioning&quot;</span>);</div><div class="line"></div><div class="line">   <span class="comment">// Fill TH2Poly according to a Mercator projection.</span></div><div class="line">   <a class="code" href="TBenchmark_8h.html#a96854cd3d5b2fbc58cc4bc2029415db8">gBenchmark</a>-&gt;<a class="code" href="classTBenchmark.html#a7596451ade84dc5d6712a754239f7e0b">Start</a>(<span class="stringliteral">&quot;Filling&quot;</span>);</div><div class="line">   <span class="keywordflow">for</span> (i=0; i&lt;npoints; i++) {</div><div class="line">      longitude = <a class="code" href="Object_8C.html#ac15f01b9c6407e1312dfc196ad4e0870">r</a>.Uniform(lon1,lon2);</div><div class="line">      latitude  = <a class="code" href="Object_8C.html#ac15f01b9c6407e1312dfc196ad4e0870">r</a>.Uniform(lat1,lat2);</div><div class="line">      <a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>         = longitude;</div><div class="line">      <a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>         = 38*<a class="code" href="namespaceTMath.html#a8f07e00d6511f2fbbad41d351d71731a">TMath::Log</a>(<a class="code" href="namespaceTMath.html#ae3dea44b6a5c8b168f73473ebccea65b">TMath::Tan</a>(pi4+alpha*latitude));</div><div class="line">      p-&gt;<a class="code" href="classTH2Poly.html#a581e82636c2883c94453eee35176308c">Fill</a>(<a class="code" href="legend1_8C.html#a13c6713ae496caa8195647f76887f926">x</a>,<a class="code" href="legend1_8C.html#a1380cd153a0fc78015dd604dbcb6c841">y</a>);</div><div class="line">   }</div><div class="line">   <a class="code" href="TBenchmark_8h.html#a96854cd3d5b2fbc58cc4bc2029415db8">gBenchmark</a>-&gt;<a class="code" href="classTBenchmark.html#ad14bad185e0ade9b7289459c0356b01c">Show</a>(<span class="stringliteral">&quot;Filling&quot;</span>);</div><div class="line"></div><div class="line">   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nbins = p-&gt;<a class="code" href="classTH2Poly.html#a4a4489558ca82a5c57db17ef4793906b">GetNumberOfBins</a>();</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> maximum = p-&gt;<a class="code" href="classTH2Poly.html#ad5d28449bf56e37832ea04b47074239b">GetMaximum</a>();</div><div class="line"></div><div class="line"></div><div class="line">   <span class="comment">// h2 contains the surfaces computed from TH2Poly.</span></div><div class="line">   <a class="code" href="classTH1F.html">TH1F</a> *h2 = (<a class="code" href="classTH1F.html">TH1F</a> *)<a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;Clone(<span class="stringliteral">&quot;h2&quot;</span>);</div><div class="line">   h2-&gt;<a class="code" href="classTH1F.html#a94cea4a32fd715f07632863b9c4b6de1">Reset</a>();</div><div class="line">   <span class="keywordflow">for</span> (j=0; j&lt;nx; j++) {</div><div class="line">      <span class="keywordflow">for</span> (i=0; i&lt;nbins; i++) {</div><div class="line">         <span class="keywordflow">if</span> (strstr(countries[j],p-&gt;<a class="code" href="classTH2Poly.html#a9745ca8983251844fc44f1e2213daf6c">GetBinName</a>(i+1))) {</div><div class="line">            h2-&gt;<a class="code" href="classTH1.html#a77e71290a82517d317ea8d05e96b6c4a">Fill</a>(countries[j],p-&gt;<a class="code" href="classTH2Poly.html#aa5779ea992cad0694c745ed1d89fa4d7">GetBinContent</a>(i+1));</div><div class="line">            h2-&gt;<a class="code" href="classTH1.html#a73a3e35e3134bd53ddad841143f86573">SetBinError</a>(j, p-&gt;<a class="code" href="classTH2Poly.html#abf7c4198bec6aa71cb82d8df2932e164">GetBinError</a>(i+1));</div><div class="line">         }</div><div class="line">      }</div><div class="line">   }</div><div class="line"></div><div class="line">   <span class="comment">// Normalize the TH2Poly bin contents to the real surfaces.</span></div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> scale = <a class="code" href="namespacesurfaces.html">surfaces</a>[0]/maximum;</div><div class="line">   <span class="keywordflow">for</span> (i=0; i&lt;nbins; i++) p-&gt;<a class="code" href="classTH2Poly.html#ad3241007a29cd02b0c40577fd0ba7be4">SetBinContent</a>(i+1, scale*p-&gt;<a class="code" href="classTH2Poly.html#aa5779ea992cad0694c745ed1d89fa4d7">GetBinContent</a>(i+1));</div><div class="line"></div><div class="line">   <a class="code" href="TStyle_8h.html#ace94cabdcf18c1e8a7856d8c3f388cfe">gStyle</a>-&gt;<a class="code" href="classTStyle.html#a0ae6f6044b6d7a32756d7e98bb210d6c">SetOptStat</a>(1111);</div><div class="line">   p-&gt;<a class="code" href="classTH1.html#aa53a024a9e94d5ec91e3ef49e49563da">Draw</a>(<span class="stringliteral">&quot;COLZ&quot;</span>);</div><div class="line"></div><div class="line">   <a class="code" href="classTCanvas.html">TCanvas</a> *<a class="code" href="legend1_8C.html#a1259eec59a19080ae1da77e79182c60e">c1</a> = <span class="keyword">new</span> <a class="code" href="classTCanvas.html">TCanvas</a>(<span class="stringliteral">&quot;c1&quot;</span>, <span class="stringliteral">&quot;c1&quot;</span>,W+10,0,W-20,<a class="code" href="md5_8inl.html#ae42219072d798876e6b08e6b78614ff6">H</a>);</div><div class="line">   <a class="code" href="legend1_8C.html#a1259eec59a19080ae1da77e79182c60e">c1</a>-&gt;SetRightMargin(0.047);</div><div class="line"></div><div class="line">   scale = <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;GetMaximum()/h2-&gt;<a class="code" href="classTH1.html#a653d76932d3710f5f021be4c5d019167">GetMaximum</a>();</div><div class="line"></div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;SetStats(0);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;SetLineColor(<a class="code" href="Rtypes_8h.html#ac31db05c6cb5891c704eae374f6926a8a5a655b1a02e5b0311571ca57ce4f3900">kRed</a>-3);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;SetLineWidth(2);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;SetMarkerStyle(20);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;SetMarkerColor(<a class="code" href="Rtypes_8h.html#ac31db05c6cb5891c704eae374f6926a8aab48c32302f7159d81e081c41dc2d3d2">kBlue</a>);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;SetMarkerSize(0.8);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;Draw(<span class="stringliteral">&quot;LP&quot;</span>);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;GetXaxis()-&gt;SetLabelFont(42);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;GetXaxis()-&gt;SetLabelSize(0.03);</div><div class="line">   <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;GetYaxis()-&gt;SetLabelFont(42);</div><div class="line"></div><div class="line">   h2-&gt;<a class="code" href="classTH1.html#add929909dcb3745f6a52e9ae0860bfbd">Scale</a>(scale);</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> scale2=<a class="code" href="namespaceTMath.html#a9ea900c956031cb12057acf7c322b0fa">TMath::Sqrt</a>(scale);</div><div class="line">   <span class="keywordflow">for</span> (i=0; i&lt;nx; i++) h2-&gt;<a class="code" href="classTH1.html#a73a3e35e3134bd53ddad841143f86573">SetBinError</a>(i+1, scale2*h2-&gt;<a class="code" href="classTH1.html#a3af6cc15ab6c2490428c9b691885d919">GetBinError</a>(i+1));</div><div class="line">   h2-&gt;<a class="code" href="classTH1.html#aa53a024a9e94d5ec91e3ef49e49563da">Draw</a>(<span class="stringliteral">&quot;E SAME&quot;</span>);</div><div class="line">   h2-&gt;<a class="code" href="classTAttMarker.html#a697e1a65975ff344c9dca7618fd44de4">SetMarkerStyle</a>(20);</div><div class="line">   h2-&gt;<a class="code" href="classTAttMarker.html#a95522acfc3fa6157f317f9993edfa047">SetMarkerSize</a>(0.8);</div><div class="line"></div><div class="line">   <a class="code" href="classTLegend.html">TLegend</a> *<a class="code" href="legend1_8C.html#ae33fc0081626b22666e300032da585e7">leg</a> = <span class="keyword">new</span> <a class="code" href="classTLegend.html">TLegend</a>(0.5,0.67,0.92,0.8,NULL,<span class="stringliteral">&quot;NDC&quot;</span>);</div><div class="line">   <a class="code" href="legend1_8C.html#ae33fc0081626b22666e300032da585e7">leg</a>-&gt;SetTextFont(42);</div><div class="line">   <a class="code" href="legend1_8C.html#ae33fc0081626b22666e300032da585e7">leg</a>-&gt;SetTextSize(0.025);</div><div class="line">   <a class="code" href="legend1_8C.html#ae33fc0081626b22666e300032da585e7">leg</a>-&gt;AddEntry(<a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>,<span class="stringliteral">&quot;Real countries surfaces from Wikipedia (in km^{2})&quot;</span>,<span class="stringliteral">&quot;lp&quot;</span>);</div><div class="line">   <a class="code" href="legend1_8C.html#ae33fc0081626b22666e300032da585e7">leg</a>-&gt;AddEntry(h2,<span class="stringliteral">&quot;Countries surfaces from TH2Poly (with errors)&quot;</span>,<span class="stringliteral">&quot;lp&quot;</span>);</div><div class="line">   <a class="code" href="legend1_8C.html#ae33fc0081626b22666e300032da585e7">leg</a>-&gt;Draw();</div><div class="line">   <a class="code" href="legend1_8C.html#ae33fc0081626b22666e300032da585e7">leg</a>-&gt;Draw();</div><div class="line"></div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> wikiSum = <a class="code" href="RSha256_8hxx.html#acf9942d15f0dd0ac4fc5ca66096a3f6d">h</a>-&gt;Integral();</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> polySum = h2-&gt;<a class="code" href="classTH1.html#a919887c7b8431299713ec22e544cc396">Integral</a>();</div><div class="line">   <a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> error = <a class="code" href="namespaceTMath.html#af682354cea223351f1306bf98a858dfd">TMath::Abs</a>(wikiSum-polySum)/wikiSum;</div><div class="line">   printf(<span class="stringliteral">&quot;THPoly Europe surface estimation error wrt wikipedia = %f per cent when using %d points\n&quot;</span>,100*error,npoints);</div><div class="line">}</div></div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Olivier Couet </dd></dl>

<p class="definition">Definition in file <a class="el" href="th2polyEurope_8C_source.html">th2polyEurope.C</a>.</p>
</div></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:10:16 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
