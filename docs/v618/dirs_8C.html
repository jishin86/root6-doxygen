<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: tutorials/io/dirs.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0d353d24d0afa59909efab6593124f6d.html">tutorials</a></li><li class="navelem"><a class="el" href="dir_c6274b5c933425c4fa2529bf46083e7c.html">io</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dirs.C File Reference<div class="ingroups"><a class="el" href="group__Tutorials.html">Tutorials</a> &raquo; <a class="el" href="group__tutorial__io.html">IO tutorials</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p> <a href="http://nbviewer.jupyter.org/url/root.cern.ch/doc/master/notebooks/dirs.C.nbconvert.ipynb" target="_blank"><img src= notebook.gif alt="View in nbviewer" style="height:1em" ></a> <a href="https://cern.ch/swanserver/cgi-bin/go?projurl=https://root.cern.ch/doc/master/notebooks/dirs.C.nbconvert.ipynb" target="_blank"><img src="http://swanserver.web.cern.ch/swanserver/images/badge_swan_white_150.png"  alt="Open in SWAN" style="height:1em" ></a>  This macro illustrates how to create a hierarchy of directories in a Root file. </p>
<p>Ten directories called plane0, plane1, ..., plane9 are created. Each plane directory contains 200 histograms. Note that the macro deletes the <a class="el" href="classTFile.html" title="A ROOT file is a suite of consecutive data records (TKey instances) with a well defined format...">TFile</a> object at the end! Connect the file again in read mode: </p><div class="fragment"><div class="line">Root [0] TFile top(&quot;top.root&quot;);</div></div><!-- fragment --><p> The hierarchy can be browsed by the Root browser as shown below </p><div class="fragment"><div class="line">Root  TBrowser b;</div></div><!-- fragment --><p> Click on the left pane on one of the plane directories. This shows the list of all histograms in this directory. Double click on one histogram to draw it (left mouse button). Select different options with the right mouse button. Instead of using the browser, you can also do: </p><div class="fragment"><div class="line">Root &gt; tof-&gt;cd();</div><div class="line">Root &gt; plane3-&gt;cd();</div><div class="line">Root &gt; h3_90N-&gt;Draw();</div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">void</span> dirs() {</div><div class="line">   <span class="comment">// create a new Root file</span></div><div class="line">   <a class="code" href="classTFile.html">TFile</a> *top = <span class="keyword">new</span> <a class="code" href="classTFile.html">TFile</a>(<span class="stringliteral">&quot;top.root&quot;</span>,<span class="stringliteral">&quot;recreate&quot;</span>);</div><div class="line"></div><div class="line">   <span class="comment">// create a subdirectory &quot;tof&quot; in this file</span></div><div class="line">   <a class="code" href="classTDirectory.html">TDirectory</a> *cdtof = top-&gt;<a class="code" href="classTDirectoryFile.html#a6f26466c9d64f0cacd62f1e0e909b808">mkdir</a>(<span class="stringliteral">&quot;tof&quot;</span>);</div><div class="line">   cdtof-&gt;<a class="code" href="classTDirectory.html#a4a4c387487e98a9a7887b3ef46d05aa9">cd</a>();    <span class="comment">// make the &quot;tof&quot; directory the current directory</span></div><div class="line"></div><div class="line">   <span class="comment">// create a new subdirectory for each plane</span></div><div class="line">   <span class="keyword">const</span> <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nplanes = 10;</div><div class="line">   <span class="keyword">const</span> <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> ncounters = 100;</div><div class="line">   <span class="keywordtype">char</span> dirname[50];</div><div class="line">   <span class="keywordtype">char</span> hname[20];</div><div class="line">   <span class="keywordtype">char</span> htitle[80];</div><div class="line">   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> i,j,k;</div><div class="line">   <a class="code" href="classTDirectory.html">TDirectory</a> *cdplane[nplanes];</div><div class="line">   <a class="code" href="classTH1F.html">TH1F</a> *hn[nplanes][ncounters];</div><div class="line">   <a class="code" href="classTH1F.html">TH1F</a> *hs[nplanes][ncounters];</div><div class="line">   <span class="keywordflow">for</span> (i=0;i&lt;nplanes;i++) {</div><div class="line">      sprintf(dirname,<span class="stringliteral">&quot;plane%d&quot;</span>,i);</div><div class="line">      cdplane[i] = cdtof-&gt;<a class="code" href="classTDirectory.html#aefc863f608016f7d05ab1a6d4ba5688d">mkdir</a>(dirname);</div><div class="line">      cdplane[i]-&gt;<a class="code" href="classTDirectory.html#a4a4c387487e98a9a7887b3ef46d05aa9">cd</a>();</div><div class="line">      <span class="comment">// create counter histograms</span></div><div class="line">      <span class="keywordflow">for</span> (j=0;j&lt;ncounters;j++) {</div><div class="line">         sprintf(hname,<span class="stringliteral">&quot;h%d_%dN&quot;</span>,i,j);</div><div class="line">         sprintf(htitle,<span class="stringliteral">&quot;hist for counter:%d in plane:%d North&quot;</span>,j,i);</div><div class="line">         hn[i][j] = <span class="keyword">new</span> <a class="code" href="classTH1F.html">TH1F</a>(hname,htitle,100,0,100);</div><div class="line">         sprintf(hname,<span class="stringliteral">&quot;h%d_%dS&quot;</span>,i,j);</div><div class="line">         sprintf(htitle,<span class="stringliteral">&quot;hist for counter:%d in plane:%d South&quot;</span>,j,i);</div><div class="line">         hs[i][j] = <span class="keyword">new</span> <a class="code" href="classTH1F.html">TH1F</a>(hname,htitle,100,0,100);</div><div class="line">      }</div><div class="line">      cdtof-&gt;<a class="code" href="classTDirectory.html#a4a4c387487e98a9a7887b3ef46d05aa9">cd</a>();    <span class="comment">// change current directory to top</span></div><div class="line">   }</div><div class="line"></div><div class="line">   <span class="comment">// Fill histograms</span></div><div class="line">   <a class="code" href="classTRandom.html">TRandom</a> <a class="code" href="Object_8C.html#ac15f01b9c6407e1312dfc196ad4e0870">r</a>;</div><div class="line">   <span class="keywordflow">for</span> (i=0;i&lt;nplanes;i++) {</div><div class="line">      cdplane[i]-&gt;<a class="code" href="classTDirectory.html#a4a4c387487e98a9a7887b3ef46d05aa9">cd</a>();</div><div class="line">      <span class="keywordflow">for</span> (j=0;j&lt;ncounters;j++) {</div><div class="line">         <span class="keywordflow">for</span> (k=0;k&lt;100;k++) {</div><div class="line">            hn[i][j]-&gt;<a class="code" href="classTH1.html#a77e71290a82517d317ea8d05e96b6c4a">Fill</a>(100*<a class="code" href="Object_8C.html#ac15f01b9c6407e1312dfc196ad4e0870">r</a>.Rndm(),i+j);</div><div class="line">            hs[i][j]-&gt;<a class="code" href="classTH1.html#a77e71290a82517d317ea8d05e96b6c4a">Fill</a>(100*<a class="code" href="Object_8C.html#ac15f01b9c6407e1312dfc196ad4e0870">r</a>.Rndm(),i+j+k);</div><div class="line">         }</div><div class="line">      }</div><div class="line">   }</div><div class="line"></div><div class="line">   <span class="comment">// save histogram hierarchy in the file</span></div><div class="line">   top-&gt;<a class="code" href="classTFile.html#a78e89aad1200bc6a2113b29f5e541cba">Write</a>();</div><div class="line">   <span class="keyword">delete</span> top;</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Rene Brun </dd></dl>

<p class="definition">Definition in file <a class="el" href="dirs_8C_source.html">dirs.C</a>.</p>
</div></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:10:16 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
