<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: proof/proof/src/TDataSetManager.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fe12f41d3d3092bbef531b606df75bb2.html">proof</a></li><li class="navelem"><a class="el" href="dir_a287f1cd596fd6959fde8ed0578b5c20.html">proof</a></li><li class="navelem"><a class="el" href="dir_fc4b4171f81062e0ae4acc263d89e0ff.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">TDataSetManager.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TDataSetManager_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// @(#)root/base:$Id$</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Author: Jan Fiete Grosse-Oetringhaus, 04.06.07</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/*************************************************************************</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 1995-2000, Rene Brun and Fons Rademakers.               *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * All rights reserved.                                                  *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *                                                                       *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * For the licensing terms see $ROOTSYS/LICENSE.                         *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * For the list of contributors see $ROOTSYS/README/CREDITS.             *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *************************************************************************/</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span><span class="comment">//                                                                      //</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// TDataSetManager                                                 //</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//                                                                      //</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// This class contains functions to handle datasets in PROOF            //</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// It is the layer between TProofServ and the file system that stores   //</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// the datasets.                                                        //</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//                                                                      //</span><span class="comment"></span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TDataSetManager_8h.html">TDataSetManager.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Riostream_8h.html">Riostream.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TEnv_8h.html">TEnv.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TError_8h.html">TError.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFile_8h.html">TFile.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFileCollection_8h.html">TFileCollection.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFileInfo_8h.html">TFileInfo.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFileStager_8h.html">TFileStager.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TMD5_8h.html">TMD5.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="THashList_8h.html">THashList.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TKey_8h.html">TKey.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TObjArray_8h.html">TObjArray.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TObjString_8h.html">TObjString.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TParameter_8h.html">TParameter.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TPRegexp_8h.html">TPRegexp.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TRegexp_8h.html">TRegexp.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TSystem_8h.html">TSystem.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TTree_8h.html">TTree.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TUrl_8h.html">TUrl.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TVirtualMonitoring_8h.html">TVirtualMonitoring.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// One Gigabyte</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="TDataSetManager_8cxx.html#aaca2b93d9c2e0cfc96b5e914b1bde4ec">   47</a></span>&#160;<span class="preprocessor">#define DSM_ONE_GB (1073741824)</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// Name for common datasets</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<a class="code" href="classTString.html">TString</a> <a class="code" href="classTDataSetManager.html#a09c3091bddf5907bf31780ce754555fe">TDataSetManager::fgCommonDataSetTag</a> = <span class="stringliteral">&quot;COMMON&quot;</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<a class="code" href="classTList.html">TList</a>   *<a class="code" href="classTDataSetManager.html#aa4ffba2f0bb928bb2414df44b18ab72a">TDataSetManager::fgDataSetSrvMaps</a> = 0;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<a class="code" href="Rtypes_8h.html#a3f9bf160bbbb44209e95556960836b96">ClassImp</a>(<a class="code" href="classTDataSetManager.html">TDataSetManager</a>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// Main constructor</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#af8a223c14688b74c1b8c5ac5886527fe">   59</a></span>&#160;<a class="code" href="classTDataSetManager.html#ad08386d1e929068bcd1e051b4c51d70a">TDataSetManager::TDataSetManager</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structgroup.html">group</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *user,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *options)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                     : fGroup(<a class="code" href="structgroup.html">group</a>),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                       fUser(user), fCommonUser(), fCommonGroup(),</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                       fGroupQuota(), fGroupUsed(),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                       fUserUsed(), fNTouchedFiles(0), fNOpenedFiles(0),</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                       fNDisappearedFiles(0), fMTimeGroupConfig(-1)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <span class="comment">// Fill default group and user if none is given</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">fGroup</a>.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>())</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">fGroup</a> = <span class="stringliteral">&quot;default&quot;</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">fUser</a>.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">fUser</a> = <span class="stringliteral">&quot;--nouser--&quot;</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="comment">// Get user logon name</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <a class="code" href="structUserGroup__t.html">UserGroup_t</a> *pw = <a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#af2028da5e7644a078cc7fb1160c1024c">GetUserInfo</a>();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keywordflow">if</span> (pw) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;         <a class="code" href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">fUser</a> = pw-&gt;<a class="code" href="structUserGroup__t.html#a88e91a97f4f89643973b41466774daf1">fUser</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;         <span class="keyword">delete</span> pw;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <a class="code" href="classTDataSetManager.html#a13aaa2dad0d6b558d5261a99655a01f1">fGroupQuota</a>.<a class="code" href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">SetOwner</a>();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <a class="code" href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">fGroupUsed</a>.<a class="code" href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">SetOwner</a>();</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>.<a class="code" href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">SetOwner</a>();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <a class="code" href="classTDataSetManager.html#a5f9c4a52eb6d26ee4d6b9b98db3a8407">fCommonUser</a> = <span class="stringliteral">&quot;COMMON&quot;</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   <a class="code" href="classTDataSetManager.html#ad15852aa4c5d076f370d502ed1c21127">fCommonGroup</a> = <span class="stringliteral">&quot;COMMON&quot;</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <a class="code" href="classTDataSetManager.html#aa8bf0b3c21290df26b2d483d53c9cbd9">fNTouchedFiles</a> = -1;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   <a class="code" href="classTDataSetManager.html#a5a62ede9707c7f624aa7675848874b5f">fNOpenedFiles</a> = -1;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <a class="code" href="classTDataSetManager.html#a774e02fec0a8c7b7c00b7e6b29bdf43f">fNDisappearedFiles</a> = -1;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <a class="code" href="classTDataSetManager.html#a1a4ee3f40be0e15da0374dd7e4534ab7">fMTimeGroupConfig</a> = -1;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <a class="code" href="classTDataSetManager.html#aaab372f0ebb7f8a00795f3f8b83c2e54">fAvgFileSize</a> = 50000000;  <span class="comment">// Default 50 MB per file</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   <span class="comment">// Parse options</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <a class="code" href="classTDataSetManager.html#ac3bee0eb3c5ed5f0b6e476bb51f9808a">ParseInitOpts</a>(options);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">fUser</a>.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>() &amp;&amp; !<a class="code" href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">fGroup</a>.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="comment">// If not in sandbox, construct the base URI using session defaults</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">// (group, user) (syntax: /group/user/dsname[#[subdir/]objname])</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a0cc65440a5fb30b8b318cd1410692aab">TDataSetManager::kIsSandbox</a>))</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;         <a class="code" href="classTDataSetManager.html#a17901b71beee88ba9775fe4f0e7e6cd8">fBase</a>.<a class="code" href="classTUri.html#acc44cb2a421e2917264d8d335d0c3806">SetUri</a>(<a class="code" href="classTString.html">TString</a>(<a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;/%s/%s/&quot;</span>, <a class="code" href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">fGroup</a>.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(), <a class="code" href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">fUser</a>.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>())));</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="comment">// List of dataset server mapping instructions</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <a class="code" href="classTString.html">TString</a> srvmaps(<a class="code" href="TEnv_8h.html#a11202e6eff8457ae349087e34c0549c9">gEnv</a>-&gt;<a class="code" href="classTEnv.html#a1311d2dfe5c00b40e9f4a4fdf046f0e3">GetValue</a>(<span class="stringliteral">&quot;DataSet.SrvMaps&quot;</span>,<span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <a class="code" href="classTString.html">TString</a> srvmapsenv(<a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a4ae57a039e0d61296c386e89d6e4dce8">Getenv</a>(<span class="stringliteral">&quot;DATASETSRVMAPS&quot;</span>));</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <span class="keywordflow">if</span> (!(srvmapsenv.IsNull())) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">if</span> (srvmapsenv.BeginsWith(<span class="stringliteral">&quot;+&quot;</span>)) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;         <span class="keywordflow">if</span> (!(srvmaps.IsNull())) srvmaps += <span class="stringliteral">&quot;,&quot;</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;         srvmaps += srvmapsenv(1,srvmapsenv.Length());</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;         srvmaps = srvmapsenv;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <span class="keywordflow">if</span> (!(srvmaps.IsNull()) &amp;&amp; !(<a class="code" href="classTDataSetManager.html#aa4ffba2f0bb928bb2414df44b18ab72a">fgDataSetSrvMaps</a> = <a class="code" href="classTDataSetManager.html#a3ae51bf774e3b820c3cf09687bc008d4">ParseDataSetSrvMaps</a>(srvmaps)))</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;TDataSetManager&quot;</span>, <span class="stringliteral">&quot;problems parsing DataSet.SrvMaps input info (%s)&quot;</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                 <span class="stringliteral">&quot; - ignoring&quot;</span>, srvmaps.Data());</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="comment">// Read config file</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <a class="code" href="classTDataSetManager.html#a17fe7c79e6973c4d03484789ca3d3f59">ReadGroupConfig</a>(<a class="code" href="TEnv_8h.html#a11202e6eff8457ae349087e34c0549c9">gEnv</a>-&gt;<a class="code" href="classTEnv.html#a1311d2dfe5c00b40e9f4a4fdf046f0e3">GetValue</a>(<span class="stringliteral">&quot;Proof.GroupFile&quot;</span>, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/// Destructor</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#af73a23bb9f7f5b38b6f483cead3faf29">  128</a></span>&#160;<a class="code" href="classTDataSetManager.html#af73a23bb9f7f5b38b6f483cead3faf29">TDataSetManager::~TDataSetManager</a>()</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <span class="comment">// Clear used space</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <a class="code" href="classTDataSetManager.html#a13aaa2dad0d6b558d5261a99655a01f1">fGroupQuota</a>.<a class="code" href="classTMap.html#a00d66358bc77f9e3c7838b3908b773dc">DeleteAll</a>();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <a class="code" href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">fGroupUsed</a>.<a class="code" href="classTMap.html#a00d66358bc77f9e3c7838b3908b773dc">DeleteAll</a>();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>.<a class="code" href="classTMap.html#a00d66358bc77f9e3c7838b3908b773dc">DeleteAll</a>();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/// Parse the opts string and set the init bits accordingly</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/// Available options:</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">///    Cq:               set kCheckQuota</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">///    Ar:               set kAllowRegister</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">///    Av:               set kAllowVerify</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">///    Ti:               set kTrustInfo</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">///    Sb:               set kIsSandbox</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">///    Ca:               set kUseCache or kDoNotUseCache</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/// The opts string may also contain additional unrelated info: in such a case</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/// the field delimited by the prefix &quot;opt:&quot; is analyzed, e.g. if opts is</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">/// &quot;/tmp/dataset  opt:Cq:-Ar: root://lxb6046.cern.ch&quot; only the substring</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">/// &quot;Cq:-Ar:&quot; will be parsed .</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#ac3bee0eb3c5ed5f0b6e476bb51f9808a">  150</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#ac3bee0eb3c5ed5f0b6e476bb51f9808a">TDataSetManager::ParseInitOpts</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *opts)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="comment">// Default option bits</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98ae9298ff8a74966d0ea1d7de4df010b5b">TDataSetManager::kCheckQuota</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a33db38b3cd88425fc7023edfbce6c8d9">TDataSetManager::kAllowRegister</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98abbc8b66c3267a6f711835d3fe0081af7">TDataSetManager::kAllowVerify</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a08e9be55cea5e38a9cc64a2b06dbcd07">TDataSetManager::kTrustInfo</a>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a0cc65440a5fb30b8b318cd1410692aab">TDataSetManager::kIsSandbox</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a4cadd1520e4d642f335b82962c51e604">TDataSetManager::kUseCache</a>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a1b961782d4d69c38cf8856fef83f400e">TDataSetManager::kDoNotUseCache</a>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="keywordflow">if</span> (opts &amp;&amp; strlen(opts) &gt; 0) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="classTString.html">TString</a> opt(opts);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="comment">// If it contains the prefix &quot;opt:&quot;, isolate the related field</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> ip = opt.<a class="code" href="classTString.html#afc98ee43fb8f288ab97b0accb4aaff3c">Index</a>(<span class="stringliteral">&quot;opt:&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">if</span> (ip != <a class="code" href="RtypesCore_8h.html#a2c5c48964d999d2c8252186e7ea2b022">kNPOS</a>) opt.<a class="code" href="classTString.html#ab13a8694c4221435f86b85ae452ed376">Remove</a>(0, ip + 4);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      ip = opt.<a class="code" href="classTString.html#afc98ee43fb8f288ab97b0accb4aaff3c">Index</a>(<span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keywordflow">if</span> (ip != <a class="code" href="RtypesCore_8h.html#a2c5c48964d999d2c8252186e7ea2b022">kNPOS</a>) opt.<a class="code" href="classTString.html#ab13a8694c4221435f86b85ae452ed376">Remove</a>(ip);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// Check the content, now</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;Cq:&quot;</span>) &amp;&amp; !opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;-Cq:&quot;</span>))</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;         <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98ae9298ff8a74966d0ea1d7de4df010b5b">TDataSetManager::kCheckQuota</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;-Ar:&quot;</span>))</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;         <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a33db38b3cd88425fc7023edfbce6c8d9">TDataSetManager::kAllowRegister</a>);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;-Av:&quot;</span>))</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;         <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98abbc8b66c3267a6f711835d3fe0081af7">TDataSetManager::kAllowVerify</a>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;-Ti:&quot;</span>))</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;         <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a08e9be55cea5e38a9cc64a2b06dbcd07">TDataSetManager::kTrustInfo</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;Sb:&quot;</span>) &amp;&amp; !opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;-Sb:&quot;</span>))</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a0cc65440a5fb30b8b318cd1410692aab">TDataSetManager::kIsSandbox</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;Ca:&quot;</span>))</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;         <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a4cadd1520e4d642f335b82962c51e604">TDataSetManager::kUseCache</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;-Ca:&quot;</span>))</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;         <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a1b961782d4d69c38cf8856fef83f400e">TDataSetManager::kDoNotUseCache</a>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="comment">// Check dependencies</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98abbc8b66c3267a6f711835d3fe0081af7">TDataSetManager::kAllowVerify</a>)) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="comment">// Dataset verification or requires registration permition</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a33db38b3cd88425fc7023edfbce6c8d9">TDataSetManager::kAllowRegister</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="comment">// UseCache has priority</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a4cadd1520e4d642f335b82962c51e604">TDataSetManager::kUseCache</a>) &amp;&amp; <a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a1b961782d4d69c38cf8856fef83f400e">TDataSetManager::kDoNotUseCache</a>))</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a1b961782d4d69c38cf8856fef83f400e">TDataSetManager::kDoNotUseCache</a>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/// Read group config file &#39;cf&#39;.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/// If cf == 0 re-read, if changed, the file pointed by fGroupConfigFile .</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/// expects the following directives:</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// Group definition:</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">///   group &lt;groupname&gt; &lt;user&gt;+</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// disk quota</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">///   property &lt;groupname&gt; diskquota &lt;quota in GB&gt;</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/// average filesize (to be used when the file size is not available)</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">///   averagefilesize &lt;average size&gt;{G,g,M,m,K,k}</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a17fe7c79e6973c4d03484789ca3d3f59">  207</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTDataSetManager.html#a17fe7c79e6973c4d03484789ca3d3f59">TDataSetManager::ReadGroupConfig</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *cf)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="comment">// Validate input</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <a class="code" href="structFileStat__t.html">FileStat_t</a> st;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keywordflow">if</span> (!cf || (strlen(cf) &lt;= 0) || !strcmp(cf, <a class="code" href="classTDataSetManager.html#a8a443a7bf8fa7c42982d8cb9769429f5">fGroupConfigFile</a>.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>())) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// If this is the first time we cannot do anything</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a8a443a7bf8fa7c42982d8cb9769429f5">fGroupConfigFile</a>.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>, <span class="stringliteral">&quot;path to config file undefined - nothing to do&quot;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// Check if fGroupConfigFile has changed</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a81a90c1f786d60ac48a95ab47ad23f3a">GetPathInfo</a>(<a class="code" href="classTDataSetManager.html#a8a443a7bf8fa7c42982d8cb9769429f5">fGroupConfigFile</a>, st)) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>, <span class="stringliteral">&quot;could not stat %s&quot;</span>, <a class="code" href="classTDataSetManager.html#a8a443a7bf8fa7c42982d8cb9769429f5">fGroupConfigFile</a>.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">if</span> (st.<a class="code" href="structFileStat__t.html#ad2413e9a7789462f7f78ae63a3f27ee3">fMtime</a> &lt;= <a class="code" href="classTDataSetManager.html#a1a4ee3f40be0e15da0374dd7e4534ab7">fMTimeGroupConfig</a>) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,<span class="stringliteral">&quot;file has not changed - do nothing&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="comment">// Either new file or the file has changed</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <span class="keywordflow">if</span> (cf &amp;&amp; (strlen(cf) &gt; 0)) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="comment">// The file must exist and be readable</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a81a90c1f786d60ac48a95ab47ad23f3a">GetPathInfo</a>(cf, st)) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>, <span class="stringliteral">&quot;could not stat %s&quot;</span>, cf);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a849c28ea0dd3b3aa3310a4d447c7b21a">AccessPathName</a>(cf, <a class="code" href="TSystem_8h.html#a5ea512734402935ca6e68723f6398862a55bd40b14de9b4c0e5d0a5b5ad6fb537">kReadPermission</a>)) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>, <span class="stringliteral">&quot;cannot read %s&quot;</span>, cf);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="comment">// Ok</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="classTDataSetManager.html#a8a443a7bf8fa7c42982d8cb9769429f5">fGroupConfigFile</a> = cf;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="classTDataSetManager.html#a1a4ee3f40be0e15da0374dd7e4534ab7">fMTimeGroupConfig</a> = st.<a class="code" href="structFileStat__t.html#ad2413e9a7789462f7f78ae63a3f27ee3">fMtime</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,<span class="stringliteral">&quot;reading group config from %s&quot;</span>, cf);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="comment">// Open the config file</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   std::ifstream in;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   in.open(cf);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <span class="keywordflow">if</span> (!in.is_open()) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>, <span class="stringliteral">&quot;could not open config file %s&quot;</span>, cf);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <span class="comment">// Container for the global common user</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <a class="code" href="classTString.html">TString</a> tmpCommonUser;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="comment">// Go through</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <a class="code" href="classTString.html">TString</a> <a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordflow">while</span> (in.good()) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// Read new line</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.ReadLine(in);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// Explicitely skip comment lines</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>[0] == <span class="charliteral">&#39;#&#39;</span>) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="comment">// Parse it</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="RtypesCore_8h.html#a649fe0f43fc2d393d99c5d39848f96b9">Ssiz_t</a> from = 0;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <a class="code" href="classTString.html">TString</a> key;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(key, from, <span class="stringliteral">&quot; &quot;</span>)) <span class="comment">// No token</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">// Parsing depends on the key</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">if</span> (key == <span class="stringliteral">&quot;property&quot;</span>) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;         <span class="comment">// Read group</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;         <a class="code" href="classTString.html">TString</a> grp;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(grp, from, <span class="stringliteral">&quot; &quot;</span>)) {<span class="comment">// No token</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;               <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,<span class="stringliteral">&quot;incomplete line: &#39;%s&#39;&quot;</span>, <a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Data());</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;         }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;         <span class="comment">// Read type of property</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;         <a class="code" href="classTString.html">TString</a> <a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(<a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a>, from, <span class="stringliteral">&quot; &quot;</span>)) <span class="comment">// No token</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a> == <span class="stringliteral">&quot;diskquota&quot;</span>) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="comment">// Read diskquota</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="classTString.html">TString</a> sdq;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(sdq, from, <span class="stringliteral">&quot; &quot;</span>)) <span class="comment">// No token</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="comment">// Enforce GigaBytes as default</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">if</span> (sdq.<a class="code" href="classTString.html#a4573d335b3b16c9a33f724ba38b07fc6">IsDigit</a>()) sdq += <span class="stringliteral">&quot;G&quot;</span>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> quota = <a class="code" href="classTDataSetManager.html#af00f942eb319dda124e92458980711fc">ToBytes</a>(sdq);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">if</span> (quota &gt; -1) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;               <a class="code" href="classTDataSetManager.html#a13aaa2dad0d6b558d5261a99655a01f1">fGroupQuota</a>.<a class="code" href="classTMap.html#a3b5deac1c2345ce1a466134730c8d942">Add</a>(<span class="keyword">new</span> <a class="code" href="classTObjString.html">TObjString</a>(grp),</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                               <span class="keyword">new</span> <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> (<span class="stringliteral">&quot;group quota&quot;</span>, quota));</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;               <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                       <span class="stringliteral">&quot;problems parsing string: wrong or unsupported suffix? %s&quot;</span>,</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        sdq.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a> == <span class="stringliteral">&quot;commonuser&quot;</span>) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="comment">// Read common user for this group</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="classTString.html">TString</a> comusr;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(comusr, from, <span class="stringliteral">&quot; &quot;</span>)) <span class="comment">// No token</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;         }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == <span class="stringliteral">&quot;dataset&quot;</span>) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         <span class="comment">// Read type</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         <a class="code" href="classTString.html">TString</a> <a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(<a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a>, from, <span class="stringliteral">&quot; &quot;</span>)) {<span class="comment">// No token</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;               <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,<span class="stringliteral">&quot;incomplete line: &#39;%s&#39;&quot;</span>, <a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Data());</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a> == <span class="stringliteral">&quot;commonuser&quot;</span>) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="comment">// Read global common user</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <a class="code" href="classTString.html">TString</a> comusr;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(comusr, from, <span class="stringliteral">&quot; &quot;</span>)) <span class="comment">// No token</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <a class="code" href="classTDataSetManager.html#a5f9c4a52eb6d26ee4d6b9b98db3a8407">fCommonUser</a> = comusr;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a> == <span class="stringliteral">&quot;commongroup&quot;</span>) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="comment">// Read global common group</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <a class="code" href="classTString.html">TString</a> comgrp;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(comgrp, from, <span class="stringliteral">&quot; &quot;</span>)) <span class="comment">// No token</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="classTDataSetManager.html#ad15852aa4c5d076f370d502ed1c21127">fCommonGroup</a> = comgrp;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a> == <span class="stringliteral">&quot;diskquota&quot;</span>) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="comment">// Quota check switch</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <a class="code" href="classTString.html">TString</a> on;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(on, from, <span class="stringliteral">&quot; &quot;</span>)) <span class="comment">// No token</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span> (on == <span class="stringliteral">&quot;on&quot;</span>) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;               <a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98ae9298ff8a74966d0ea1d7de4df010b5b">TDataSetManager::kCheckQuota</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (on == <span class="stringliteral">&quot;off&quot;</span>) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;               <a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98ae9298ff8a74966d0ea1d7de4df010b5b">TDataSetManager::kCheckQuota</a>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;         }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == <span class="stringliteral">&quot;averagefilesize&quot;</span>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         <span class="comment">// Read average size</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;         <a class="code" href="classTString.html">TString</a> avgsize;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(avgsize, from, <span class="stringliteral">&quot; &quot;</span>)) {<span class="comment">// No token</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;               <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,<span class="stringliteral">&quot;incomplete line: &#39;%s&#39;&quot;</span>, <a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Data());</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;         }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;         <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> avgsz = <a class="code" href="classTDataSetManager.html#af00f942eb319dda124e92458980711fc">ToBytes</a>(avgsize);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         <span class="keywordflow">if</span> (avgsz &gt; -1) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <a class="code" href="classTDataSetManager.html#aaab372f0ebb7f8a00795f3f8b83c2e54">fAvgFileSize</a> = avgsz;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <span class="stringliteral">&quot;problems parsing string: wrong or unsupported suffix? %s&quot;</span>,</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    avgsize.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;         }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == <span class="stringliteral">&quot;include&quot;</span>) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;         <span class="comment">// Read file to include</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;         <a class="code" href="classTString.html">TString</a> subfn;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Tokenize(subfn, from, <span class="stringliteral">&quot; &quot;</span>)) {<span class="comment">// No token</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;               <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>,<span class="stringliteral">&quot;incomplete line: &#39;%s&#39;&quot;</span>, <a class="code" href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a>.Data());</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;         }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;         <span class="comment">// The file must be readable</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a849c28ea0dd3b3aa3310a4d447c7b21a">AccessPathName</a>(subfn, <a class="code" href="TSystem_8h.html#a5ea512734402935ca6e68723f6398862a55bd40b14de9b4c0e5d0a5b5ad6fb537">kReadPermission</a>)) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>, <span class="stringliteral">&quot;request to parse file &#39;%s&#39; which is not readable&quot;</span>,</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                     subfn.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;         }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="classTDataSetManager.html#a17fe7c79e6973c4d03484789ca3d3f59">ReadGroupConfig</a>(subfn))</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ReadGroupConfig&quot;</span>, <span class="stringliteral">&quot;problems parsing include file &#39;%s&#39;&quot;</span>, subfn.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   in.close();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">/// Static utility function to gt the number of bytes from a string</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">/// representation in the form &quot;&lt;digit&gt;&lt;sfx&gt;&quot; with &lt;sfx&gt; = {&quot;&quot;, &quot;k&quot;, &quot;M&quot;, &quot;G&quot;,</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">/// &quot;T&quot;, &quot;P&quot;} (case insensitive).</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/// Returns -1 if the format is wrong.</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#af00f942eb319dda124e92458980711fc">  388</a></span>&#160;<a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> <a class="code" href="classTDataSetManager.html#af00f942eb319dda124e92458980711fc">TDataSetManager::ToBytes</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *size)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> lsize = -1;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="comment">// Check if valid</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (!size || strlen(size) &lt;= 0) <span class="keywordflow">return</span> lsize;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <a class="code" href="classTString.html">TString</a> <a class="code" href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">s</a>(size);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="comment">// Determine factor</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> fact = 1;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">s</a>.IsDigit()) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *unit[5] = { <span class="stringliteral">&quot;k&quot;</span>, <span class="stringliteral">&quot;M&quot;</span>, <span class="stringliteral">&quot;G&quot;</span>, <span class="stringliteral">&quot;T&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>};</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      fact = 1024;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> jj = 0;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="keywordflow">while</span> (jj &lt;= 4) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">s</a>.EndsWith(unit[jj], <a class="code" href="classTString.html#a608c74769c43e96a4a5873972cfe1099a2b700218af731845621b17355f14b99d">TString::kIgnoreCase</a>)) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">s</a>.Remove(<a class="code" href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">s</a>.Length()-1);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;         }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;         fact *= 1024;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         jj++;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="comment">// Apply factor now</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">s</a>.IsDigit())</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      lsize = <a class="code" href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">s</a>.Atoi() * fact;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="comment">// Done</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">return</span> lsize;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/// Utility function used in various methods for user dataset upload.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a0e0e0bce6d488fa2c5801d57b27ab0ec">  422</a></span>&#160;<a class="code" href="classTFileCollection.html">TFileCollection</a> *<a class="code" href="classTDataSetManager.html#a0e0e0bce6d488fa2c5801d57b27ab0ec">TDataSetManager::GetDataSet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *)</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;GetDataSet&quot;</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="classTFileCollection.html">TFileCollection</a> *)0;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">/// Removes the indicated dataset</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a97aa4473a37b7ebd34be6a67c50c8d54">  431</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTDataSetManager.html#a97aa4473a37b7ebd34be6a67c50c8d54">TDataSetManager::RemoveDataSet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;RemoveDataSet&quot;</span>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">/// Checks if the indicated dataset exits</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a792bb89fe89df1b03560475b889c5cab">  440</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTDataSetManager.html#a792bb89fe89df1b03560475b889c5cab">TDataSetManager::ExistsDataSet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;ExistsDataSet&quot;</span>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">/// Returns all datasets for the &lt;group&gt; and &lt;user&gt; specified by &lt;uri&gt;.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">/// If &lt;user&gt; is 0, it returns all datasets for the given &lt;group&gt;.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/// If &lt;group&gt; is 0, it returns all datasets.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">/// The returned TMap contains:</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">///    &lt;group&gt; --&gt; &lt;map of users&gt; --&gt; &lt;map of datasets&gt; --&gt; &lt;dataset&gt; (TFileCollection)</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/// The unsigned int &#39;option&#39; is forwarded to GetDataSet and BrowseDataSet.</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/// Available options (to be .or.ed):</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">///    kShowDefault    a default selection is shown that include the ones from</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">///                    the current user, the ones from the group and the common ones</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">///    kPrint          print the dataset content</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">///    kQuotaUpdate    update quotas</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">///    kExport         use export naming</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">/// NB1: options &quot;kPrint&quot;, &quot;kQuoatUpdate&quot; and &quot;kExport&quot; are mutually exclusive</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">/// NB2: for options &quot;kPrint&quot; and &quot;kQuoatUpdate&quot; return is null.</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a7734688d52bb3ce5a304ceabc493c55c">  465</a></span>&#160;<a class="code" href="classTMap.html">TMap</a> *<a class="code" href="classTDataSetManager.html#a7734688d52bb3ce5a304ceabc493c55c">TDataSetManager::GetDataSets</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a>)</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;{</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;GetDataSets&quot;</span>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="classTMap.html">TMap</a> *)0;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}<span class="comment"></span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">/// Scans the dataset indicated by &#39;uri&#39; following the &#39;opts&#39; directives</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">/// The &#39;opts&#39; string contains up to 4 directive fields separated by &#39;:&#39;</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">///  &#39;selection&#39; field :</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">///    A, allfiles:    process all files</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">///    D, staged:      process only staged (on Disk) files (if &#39;allfiles:&#39; is not specified</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">///                    the default is to process only files marked as non-staged)</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">///  &#39;pre-action field&#39;:</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">///    O, open:        open the files marked as staged when processing only files</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">///                    marked as non-staged</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">///    T, touch:       open and touch the files marked as staged when processing</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">///                    only files marked as non-staged</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">///    I, nostagedcheck: do not check the actual stage status on selected files</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">///  &#39;process&#39; field:</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">///    N, noaction:    do nothing on the selected files</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">///    P, fullproc:    open the selected files and extract the meta information</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">///    L, locateonly:  only locate the selected files</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">///    S, stageonly:   issue a stage request for the selected files not yet staged</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">///  &#39;auxiliary&#39; field</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">///    V, verbose:     notify the actions</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">/// Returns 0 on success, -1 if any failure occurs.</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a14dc43158b4c80b1438f0ac5e1f25f53">  498</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#a14dc43158b4c80b1438f0ac5e1f25f53">TDataSetManager::ScanDataSet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keyword">const</span> <span class="keywordtype">char</span> *opts)</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   <span class="comment">// Extract the directives</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a> o = 0;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordflow">if</span> (opts &amp;&amp; strlen(opts) &gt; 0) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="comment">// Selection options</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;allfiles:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;A&#39;</span>))</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa85603da42982ae2936f7792b82a6465c">kAllFiles</a>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;staged:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;D&#39;</span>))</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa246d792e53b664eabddec2b113262468">kStagedFiles</a>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="comment">// Pre-action options</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;open:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;O&#39;</span>))</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa853fb871ee50e031a3c8a8384399bce7">kReopen</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;touch:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;T&#39;</span>))</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aae2b79a0ea1f076799c076a03aa32de2e">kTouch</a>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;nostagedcheck:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;I&#39;</span>))</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa6c650459ed668efc4023115a2dd1e2a8">kNoStagedCheck</a>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="comment">// Process options</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;noaction:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;N&#39;</span>))</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aaebc7d08ccb56868bad8b0ef255ef91c7">kNoAction</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;locateonly:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;L&#39;</span>))</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa3143d5fa6107534722f23db7885bfbfe">kLocateOnly</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;stageonly:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;S&#39;</span>))</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa4f75d9401878226da63c70c7277af2cf">kStageOnly</a>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="comment">// Auxilliary options</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">if</span> (strstr(opts, <span class="stringliteral">&quot;verbose:&quot;</span>) || strchr(opts, <span class="charliteral">&#39;V&#39;</span>))</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;         o |= <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aaa8cd54c0c33a0b611c9add41762d6c0a">kDebug</a>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="comment">// Default</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      o = <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa853fb871ee50e031a3c8a8384399bce7">kReopen</a> | <a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aaa8cd54c0c33a0b611c9add41762d6c0a">kDebug</a>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="comment">// Run</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classTDataSetManager.html#a14dc43158b4c80b1438f0ac5e1f25f53">ScanDataSet</a>(uri, o);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">/// Scans the dataset indicated by &lt;uri&gt; and returns the number of missing files.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">/// Returns -1 if any failure occurs.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">/// For more details, see documentation of</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">/// ScanDataSet(TFileCollection *dataset, const char *option)</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#aca62a456f0d3906086c19d6494517966">  540</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#a14dc43158b4c80b1438f0ac5e1f25f53">TDataSetManager::ScanDataSet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a>)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;ScanDataSet&quot;</span>);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">/// Gets quota information from this dataset</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a6e9c5b4ec9ad8bc45e5c814cf777678c">  551</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a6e9c5b4ec9ad8bc45e5c814cf777678c">TDataSetManager::GetQuota</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structgroup.html">group</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *user,</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">char</span> *dsName, <a class="code" href="classTFileCollection.html">TFileCollection</a> *dataset)</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetQuota&quot;</span>, <span class="stringliteral">&quot;processing dataset %s %s %s&quot;</span>, <a class="code" href="structgroup.html">group</a>, user, dsName);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="classTFileCollection.html#aa80a3544322f0f8229bbb63adb804f66">GetTotalSize</a>() &gt; 0) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *size =</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;         <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">fGroupUsed</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>));</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span> (!size) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;         size = <span class="keyword">new</span> <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> (<span class="stringliteral">&quot;group used&quot;</span>, 0);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;         <a class="code" href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">fGroupUsed</a>.<a class="code" href="classTMap.html#a3b5deac1c2345ce1a466134730c8d942">Add</a>(<span class="keyword">new</span> <a class="code" href="classTObjString.html">TObjString</a>(<a class="code" href="structgroup.html">group</a>), size);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      size-&gt;<a class="code" href="classTParameter.html#ab254cd0945bc8542b4e5eb1950c2cd31">SetVal</a>(size-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>() + dataset-&gt;<a class="code" href="classTFileCollection.html#aa80a3544322f0f8229bbb63adb804f66">GetTotalSize</a>());</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <a class="code" href="classTMap.html">TMap</a> *userMap = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTMap.html">TMap</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>));</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">if</span> (!userMap) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;         userMap = <span class="keyword">new</span> <a class="code" href="classTMap.html">TMap</a>;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;         <a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>.<a class="code" href="classTMap.html#a3b5deac1c2345ce1a466134730c8d942">Add</a>(<span class="keyword">new</span> <a class="code" href="classTObjString.html">TObjString</a>(<a class="code" href="structgroup.html">group</a>), userMap);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      size = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (userMap-&gt;<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(user));</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (!size) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;         size = <span class="keyword">new</span> <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> (<span class="stringliteral">&quot;user used&quot;</span>, 0);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;         userMap-&gt;<a class="code" href="classTMap.html#a3b5deac1c2345ce1a466134730c8d942">Add</a>(<span class="keyword">new</span> <a class="code" href="classTObjString.html">TObjString</a>(user), size);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      size-&gt;<a class="code" href="classTParameter.html#ab254cd0945bc8542b4e5eb1950c2cd31">SetVal</a>(size-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>() + dataset-&gt;<a class="code" href="classTFileCollection.html#aa80a3544322f0f8229bbb63adb804f66">GetTotalSize</a>());</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">/// Display quota information</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a92b591dfa3de22c9b3189d3ef422cef5">  586</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a92b591dfa3de22c9b3189d3ef422cef5">TDataSetManager::ShowQuota</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *opt)</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;{</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <a class="code" href="classTDataSetManager.html#a1dbe29f120e256986922352295997bf9">UpdateUsedSpace</a>();</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <a class="code" href="classTMap.html">TMap</a> *groupQuotaMap = <a class="code" href="classTDataSetManager.html#ae6950312ab50914836c7e576049b93df">GetGroupQuotaMap</a>();</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <a class="code" href="classTMap.html">TMap</a> *userUsedMap = <a class="code" href="classTDataSetManager.html#ab4d990f74fcb1eb3e0f8195b65bafdf4">GetUserUsedMap</a>();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <span class="keywordflow">if</span> (!groupQuotaMap || !userUsedMap)</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> noInfo = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <a class="code" href="classTIter.html">TIter</a> iter(groupQuotaMap);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <a class="code" href="classTObjString.html">TObjString</a> *<a class="code" href="structgroup.html">group</a> = 0;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <span class="keywordflow">while</span> ((<a class="code" href="structgroup.html">group</a> = dynamic_cast&lt;TObjString*&gt; (iter.<a class="code" href="classTIter.html#a822e366a9124ec07cca91dd052426f28">Next</a>()))) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      noInfo = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> groupQuota = <a class="code" href="classTDataSetManager.html#ab449efff2c106698f803ccddce70c87e">GetGroupQuota</a>(<a class="code" href="structgroup.html">group</a>-&gt;String());</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> groupUsed = <a class="code" href="classTDataSetManager.html#a11eee1b9011939ee4d0e0889e7ce38eb">GetGroupUsed</a>(<a class="code" href="structgroup.html">group</a>-&gt;String());</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot; +++ Group %s uses %.1f GB out of %.1f GB&quot;</span>, <a class="code" href="structgroup.html">group</a>-&gt;String().Data(),</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                        (<a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a>) groupUsed / <a class="code" href="TDataSetManager_8cxx.html#aaca2b93d9c2e0cfc96b5e914b1bde4ec">DSM_ONE_GB</a>,</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                       (<a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a>) groupQuota / <a class="code" href="TDataSetManager_8cxx.html#aaca2b93d9c2e0cfc96b5e914b1bde4ec">DSM_ONE_GB</a>);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">// display also user information</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="keywordflow">if</span> (opt &amp;&amp; !<a class="code" href="classTString.html">TString</a>(opt).<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;U&quot;</span>, <a class="code" href="classTString.html#a608c74769c43e96a4a5873972cfe1099a2b700218af731845621b17355f14b99d">TString::kIgnoreCase</a>))</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <a class="code" href="classTMap.html">TMap</a> *userMap = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTMap.html">TMap</a>*<span class="keyword">&gt;</span> (userUsedMap-&gt;<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>-&gt;String()));</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">if</span> (!userMap)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <a class="code" href="classTIter.html">TIter</a> iter2(userMap);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="classTObjString.html">TObjString</a> *user = 0;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keywordflow">while</span> ((user = dynamic_cast&lt;TObjString*&gt; (iter2.<a class="code" href="classTIter.html#a822e366a9124ec07cca91dd052426f28">Next</a>()))) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;         <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *size2 =</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (userMap-&gt;<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(user-&gt;<a class="code" href="classTObjString.html#afa99fe15f85cea62df571cbf0cc7d971">String</a>().<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>()));</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;         <span class="keywordflow">if</span> (!size2)</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;         <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot; +++  User %s uses %.1f GB&quot;</span>, user-&gt;<a class="code" href="classTObjString.html#afa99fe15f85cea62df571cbf0cc7d971">String</a>().<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(),</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                  (<a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a>) size2-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>() / <a class="code" href="TDataSetManager_8cxx.html#aaca2b93d9c2e0cfc96b5e914b1bde4ec">DSM_ONE_GB</a>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;------------------------------------------------------&quot;</span>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="comment">// Check if something has been printed</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keywordflow">if</span> (noInfo) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot; +++ Quota check enabled but no quota info available +++ &quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">/// Prints the quota</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a6a6d412131329f6cb31a44f5a3af40dd">  639</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a6a6d412131329f6cb31a44f5a3af40dd">TDataSetManager::PrintUsedSpace</a>()</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;PrintUsedSpace&quot;</span>, <span class="stringliteral">&quot;listing used space&quot;</span>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <a class="code" href="classTIter.html">TIter</a> iter(&amp;<a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <a class="code" href="classTObjString.html">TObjString</a> *<a class="code" href="structgroup.html">group</a> = 0;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="keywordflow">while</span> ((<a class="code" href="structgroup.html">group</a> = dynamic_cast&lt;TObjString*&gt; (iter.<a class="code" href="classTIter.html#a822e366a9124ec07cca91dd052426f28">Next</a>()))) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <a class="code" href="classTMap.html">TMap</a> *userMap = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTMap.html">TMap</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>-&gt;String()));</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *size =</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;         <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">fGroupUsed</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>-&gt;String()));</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">if</span> (userMap &amp;&amp; size) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;         <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;Group %s: %lld B = %.2f GB&quot;</span>, <a class="code" href="structgroup.html">group</a>-&gt;String().Data(), size-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>(),</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                      (<a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a>) size-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>() / <a class="code" href="TDataSetManager_8cxx.html#aaca2b93d9c2e0cfc96b5e914b1bde4ec">DSM_ONE_GB</a>);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;         <a class="code" href="classTIter.html">TIter</a> iter2(userMap);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;         <a class="code" href="classTObjString.html">TObjString</a> *user = 0;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;         <span class="keywordflow">while</span> ((user = dynamic_cast&lt;TObjString*&gt; (iter2.Next()))) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *size2 =</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;               <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (userMap-&gt;<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(user-&gt;<a class="code" href="classTObjString.html#afa99fe15f85cea62df571cbf0cc7d971">String</a>().<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>()));</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">if</span> (size2)</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;               <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;  User %s: %lld B = %.2f GB&quot;</span>, user-&gt;<a class="code" href="classTObjString.html#afa99fe15f85cea62df571cbf0cc7d971">String</a>().<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(), size2-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>(),</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                                            (<a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a>) size2-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>() / <a class="code" href="TDataSetManager_8cxx.html#aaca2b93d9c2e0cfc96b5e914b1bde4ec">DSM_ONE_GB</a>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;         }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;         <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;------------------------------------------------------&quot;</span>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">/// Log info to the monitoring server</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#adf39f6aa6e9da5ed9ec0d4af4e5dda36">  674</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#adf39f6aa6e9da5ed9ec0d4af4e5dda36">TDataSetManager::MonitorUsedSpace</a>(<a class="code" href="classTVirtualMonitoringWriter.html">TVirtualMonitoringWriter</a> *monitoring)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;MonitorUsedSpace&quot;</span>, <span class="stringliteral">&quot;sending used space to monitoring server&quot;</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <a class="code" href="classTIter.html">TIter</a> iter(&amp;<a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <a class="code" href="classTObjString.html">TObjString</a> *<a class="code" href="structgroup.html">group</a> = 0;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="keywordflow">while</span> ((<a class="code" href="structgroup.html">group</a> = dynamic_cast&lt;TObjString*&gt; (iter.<a class="code" href="classTIter.html#a822e366a9124ec07cca91dd052426f28">Next</a>()))) {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <a class="code" href="classTMap.html">TMap</a> *userMap = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTMap.html">TMap</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">fUserUsed</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>-&gt;String()));</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *size =</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">fGroupUsed</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>-&gt;String()));</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">if</span> (!userMap || !size)</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <a class="code" href="classTList.html">TList</a> *list = <span class="keyword">new</span> <a class="code" href="classTList.html">TList</a>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      list-&gt;<a class="code" href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">SetOwner</a>();</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      list-&gt;<a class="code" href="classTList.html#a1b90ccfbde1729266b585194fa45df14">Add</a>(<span class="keyword">new</span> <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>(<span class="stringliteral">&quot;_TOTAL_&quot;</span>, size-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>()));</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> groupQuota = <a class="code" href="classTDataSetManager.html#ab449efff2c106698f803ccddce70c87e">GetGroupQuota</a>(<a class="code" href="structgroup.html">group</a>-&gt;String());</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="keywordflow">if</span> (groupQuota != -1)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;         list-&gt;<a class="code" href="classTList.html#a1b90ccfbde1729266b585194fa45df14">Add</a>(<span class="keyword">new</span> <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>(<span class="stringliteral">&quot;_QUOTA_&quot;</span>, groupQuota));</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <a class="code" href="classTIter.html">TIter</a> iter2(userMap);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <a class="code" href="classTObjString.html">TObjString</a> *user = 0;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">while</span> ((user = dynamic_cast&lt;TObjString*&gt; (iter2.<a class="code" href="classTIter.html#a822e366a9124ec07cca91dd052426f28">Next</a>()))) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;         <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *size2 =</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (userMap-&gt;<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(user-&gt;<a class="code" href="classTObjString.html#afa99fe15f85cea62df571cbf0cc7d971">String</a>().<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>()));</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;         <span class="keywordflow">if</span> (!size2)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;         list-&gt;<a class="code" href="classTList.html#a1b90ccfbde1729266b585194fa45df14">Add</a>(<span class="keyword">new</span> <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>(user-&gt;<a class="code" href="classTObjString.html#afa99fe15f85cea62df571cbf0cc7d971">String</a>().<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(), size2-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>()));</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">if</span> (!monitoring-&gt;<a class="code" href="classTVirtualMonitoringWriter.html#a9ac9ac3f0739a2573d56965b24cf7e49">SendParameters</a>(list, <a class="code" href="structgroup.html">group</a>-&gt;String()))</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;         <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;MonitorUsedSpace&quot;</span>, <span class="stringliteral">&quot;problems sending monitoring parameters&quot;</span>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keyword">delete</span> list;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">/// Returns the used space of that group</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a11eee1b9011939ee4d0e0889e7ce38eb">  715</a></span>&#160;<a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> <a class="code" href="classTDataSetManager.html#a11eee1b9011939ee4d0e0889e7ce38eb">TDataSetManager::GetGroupUsed</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structgroup.html">group</a>)</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;{</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a09c3091bddf5907bf31780ce754555fe">fgCommonDataSetTag</a> == <a class="code" href="structgroup.html">group</a>)</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <a class="code" href="structgroup.html">group</a> = <a class="code" href="classTDataSetManager.html#ad15852aa4c5d076f370d502ed1c21127">fCommonGroup</a>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *size =</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">fGroupUsed</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>));</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keywordflow">if</span> (!size) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetGroupUsed&quot;</span>, <span class="stringliteral">&quot;group %s not found&quot;</span>, <a class="code" href="structgroup.html">group</a>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   <span class="keywordflow">return</span> size-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>();</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;}</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">/// returns the quota a group is allowed to have</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#ab449efff2c106698f803ccddce70c87e">  735</a></span>&#160;<a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> <a class="code" href="classTDataSetManager.html#ab449efff2c106698f803ccddce70c87e">TDataSetManager::GetGroupQuota</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structgroup.html">group</a>)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a09c3091bddf5907bf31780ce754555fe">fgCommonDataSetTag</a> == <a class="code" href="structgroup.html">group</a>)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <a class="code" href="structgroup.html">group</a> = <a class="code" href="classTDataSetManager.html#ad15852aa4c5d076f370d502ed1c21127">fCommonGroup</a>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   <a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a> *value =</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTParameter.html">TParameter&lt;Long64_t&gt;</a>*<span class="keyword">&gt;</span> (<a class="code" href="classTDataSetManager.html#a13aaa2dad0d6b558d5261a99655a01f1">fGroupQuota</a>.<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(<a class="code" href="structgroup.html">group</a>));</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="keywordflow">if</span> (!value) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;         <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetGroupQuota&quot;</span>, <span class="stringliteral">&quot;group %s not found&quot;</span>, <a class="code" href="structgroup.html">group</a>);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <span class="keywordflow">return</span> value-&gt;<a class="code" href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">GetVal</a>();</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;}</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">/// updates the used space maps</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a1dbe29f120e256986922352295997bf9">  753</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a1dbe29f120e256986922352295997bf9">TDataSetManager::UpdateUsedSpace</a>()</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;{</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;UpdateUsedSpace&quot;</span>);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">/// Register a dataset, perfoming quota checkings, if needed.</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">/// Returns 0 on success, -1 on failure</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#aedfc3c09ece19b4e18a38edf931f7055">  762</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#aedfc3c09ece19b4e18a38edf931f7055">TDataSetManager::RegisterDataSet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *,</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                       <a class="code" href="classTFileCollection.html">TFileCollection</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;{</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;RegisterDataSet&quot;</span>);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">/// Save into the &lt;datasetdir&gt;/dataset.list file the name of the last updated</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">/// or created or modified dataset</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">/// Returns 0 on success, -1 on error</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00774"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a959d48a381a5613f3a111182eb8d1463">  774</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#a959d48a381a5613f3a111182eb8d1463">TDataSetManager::NotifyUpdate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="comment">/*group*/</span>,</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="comment">/*user*/</span>,</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="comment">/*dspath*/</span>,</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                    <a class="code" href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a> <span class="comment">/*mtime*/</span>,</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="comment">/*checksum*/</span>)</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;{</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;NotifyUpdate&quot;</span>);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;}</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">/// Clear cached information matching uri</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#ac2eda5a3c480b42ffeea38b1bf8c83dd">  787</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#ac2eda5a3c480b42ffeea38b1bf8c83dd">TDataSetManager::ClearCache</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="comment">/*uri*/</span>)</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;{</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;ClearCache&quot;</span>);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">/// Show cached information matching uri</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#af8c8cfea86495245d7d38451fd0b6cb0">  796</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#af8c8cfea86495245d7d38451fd0b6cb0">TDataSetManager::ShowCache</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="comment">/*uri*/</span>)</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;{</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   <a class="code" href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">AbstractMethod</a>(<span class="stringliteral">&quot;ShowCache&quot;</span>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">/// Creates URI for the dataset manger in the form &#39;[[/dsGroup/]dsUser/]dsName[#dsObjPath]&#39;,</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">/// The optional dsObjPath can be in the form [subdir/]objname]&#39;.</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a4a8113790f4bc4fe919ff5ae773be4c0">  806</a></span>&#160;<a class="code" href="classTString.html">TString</a> <a class="code" href="classTDataSetManager.html#a4a8113790f4bc4fe919ff5ae773be4c0">TDataSetManager::CreateUri</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dsGroup, <span class="keyword">const</span> <span class="keywordtype">char</span> *dsUser,</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *dsName, <span class="keyword">const</span> <span class="keywordtype">char</span> *dsObjPath)</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;{</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <a class="code" href="classTString.html">TString</a> uri;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <span class="keywordflow">if</span> (dsGroup &amp;&amp; strlen(dsGroup) &gt; 0) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">if</span> (dsUser &amp;&amp; strlen(dsUser) &gt; 0) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;         uri += <a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;/%s/%s/&quot;</span>, dsGroup, dsUser);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;         uri += <a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;/%s/*/&quot;</span>, dsGroup);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dsUser &amp;&amp; strlen(dsUser) &gt; 0) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      uri += <a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;%s/&quot;</span>, dsUser);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   <span class="keywordflow">if</span> (dsName &amp;&amp; strlen(dsName) &gt; 0)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      uri += dsName;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordflow">if</span> (dsObjPath &amp;&amp; strlen(dsObjPath) &gt; 0)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      uri += <a class="code" href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a>(<span class="stringliteral">&quot;#%s&quot;</span>, dsObjPath);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <span class="comment">// Done</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">return</span> uri;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;}</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">/// Parses a (relative) URI that describes a DataSet on the cluster.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">/// The input &#39;uri&#39; should be in the form &#39;[[/group/]user/]dsname[#[subdir/]objname]&#39;,</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">///  where &#39;objname&#39; is the name of the object (e.g. the tree name) and the &#39;subdir&#39;</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">/// is the directory in the file wher it should be looked for.</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">/// After resolving against a base URI consisting of proof://masterhost/group/user/</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">/// - meaning masterhost, group and user of the current session -</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">/// the path is checked to contain exactly three elements separated by &#39;/&#39;:</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">/// group/user/dsname</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">/// If wildcards, &#39;*&#39; is allowed in group and user and dsname is allowed to be empty.</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">/// If onlyCurrent, only group and user of current session are allowed.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">/// Only non-null parameters are filled by this function.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">/// Returns kTRUE in case of success.</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#aa34c4b879b279b4936c617e648158245">  843</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTDataSetManager.html#aa34c4b879b279b4936c617e648158245">TDataSetManager::ParseUri</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *uri,</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                 <a class="code" href="classTString.html">TString</a> *dsGroup, <a class="code" href="classTString.html">TString</a> *dsUser,</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                                 <a class="code" href="classTString.html">TString</a> *dsName, <a class="code" href="classTString.html">TString</a> *dsTree,</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                                 <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> onlyCurrent, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> wildcards)</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <a class="code" href="classTString.html">TString</a> uristr(uri);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="comment">// If URI contains fields in the form &quot;Field=Value;&quot; it is a virtual URI and</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <span class="comment">// should be treated differently</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <span class="keywordflow">if</span> ((uristr.<a class="code" href="classTString.html#afc98ee43fb8f288ab97b0accb4aaff3c">Index</a>(<span class="charliteral">&#39;=&#39;</span>) &gt;= 0) &amp;&amp; (uristr.<a class="code" href="classTString.html#afc98ee43fb8f288ab97b0accb4aaff3c">Index</a>(<span class="charliteral">&#39;;&#39;</span>) &gt;= 0)) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="comment">// URI is composed of two parts: a name (dsName), and the tree after the</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="comment">// pound sign</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="stringliteral">&quot;Dataset URI looks like a virtual URI, treating it as such. &quot;</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="stringliteral">&quot;No group and user will be parsed!&quot;</span>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <a class="code" href="classTPMERegexp.html">TPMERegexp</a> reVirtualUri(<span class="stringliteral">&quot;^([^#]+)(#(.*))?$&quot;</span>);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="namespaceTGeant4Unit.html#a48d40fcb2fb55c31807f8b1bee0200a8">nm</a> = reVirtualUri.<a class="code" href="classTPMERegexp.html#a842084c32dbf33561f089ebbf865b3a8">Match</a>(uristr);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a48d40fcb2fb55c31807f8b1bee0200a8">nm</a> &gt;= 2) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;         <span class="keywordflow">if</span> (dsGroup) *dsGroup = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;         <span class="keywordflow">if</span> (dsUser) *dsUser = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;         <span class="keywordflow">if</span> (dsName) *dsName = reVirtualUri[1];</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;         <span class="keywordflow">if</span> (dsTree) {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a48d40fcb2fb55c31807f8b1bee0200a8">nm</a> == 4) *dsTree = reVirtualUri[3];</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            <span class="keywordflow">else</span> *dsTree = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;         }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;  <span class="comment">// should never happen!</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <span class="comment">// Append trailing slash if missing when wildcards are enabled</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> = 0;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <span class="keywordflow">if</span> (wildcards &amp;&amp; uristr.<a class="code" href="classTString.html#a04e631ef510bdd4071c37b54fde0c1a7">Length</a>() &gt; 0) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> = uristr.<a class="code" href="classTString.html#a9e926aa63f05797c06262d6045bd48ea">CountChar</a>(<span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> endsl = uristr.<a class="code" href="classTString.html#a2b2e907b9681d08cec32c853171c06a1">EndsWith</a>(<span class="stringliteral">&quot;/&quot;</span>) ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> beginsl = uristr.<a class="code" href="classTString.html#a6d92a45f8b4c0c4d2ed7f318a2cb6f95">BeginsWith</a>(<span class="stringliteral">&quot;/&quot;</span>) ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">if</span> (beginsl) {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> == 1) uristr += <span class="stringliteral">&quot;/*/&quot;</span>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> == 2 &amp;&amp; endsl) uristr += <span class="stringliteral">&quot;*/&quot;</span>;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> == 2 &amp;&amp; !endsl) uristr += <span class="stringliteral">&quot;/&quot;</span>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   <span class="comment">// Resolve given URI agains the base</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <a class="code" href="classTUri.html">TUri</a> resolved = <a class="code" href="classTUri.html#a2c01cf081b8542b739e05f206d6301cf">TUri::Transform</a>(uristr, <a class="code" href="classTDataSetManager.html#a17901b71beee88ba9775fe4f0e7e6cd8">fBase</a>);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordflow">if</span> (resolved.<a class="code" href="classTUri.html#a9d20fd00135384e98eab29e0345dbceb">HasQuery</a>())</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a> (<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;URI query part &lt;%s&gt; ignored&quot;</span>, resolved.<a class="code" href="classTUri.html#a6e08889a77f221880e36dd57f5a179f2">GetQuery</a>().<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <a class="code" href="classTString.html">TString</a> path(resolved.<a class="code" href="classTUri.html#a64164489cc182540e2c66544245d846b">GetPath</a>());</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="comment">// Must be in the form /group/user/dsname</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> = path.CountChar(<span class="charliteral">&#39;/&#39;</span>)) != 3) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a0cc65440a5fb30b8b318cd1410692aab">TDataSetManager::kIsSandbox</a>)) {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a> (<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;illegal dataset path: &#39;%s&#39;&quot;</span>, uri);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> &gt;= 0 &amp;&amp; <a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> &lt; 3) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;         <span class="comment">// Add missing slashes</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;         <a class="code" href="classTString.html">TString</a> sls(<span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> == 2) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            sls = <span class="stringliteral">&quot;/&quot;</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> == 1) {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            sls.<a class="code" href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">Form</a>(<span class="stringliteral">&quot;/%s/&quot;</span>, <a class="code" href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">fGroup</a>.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">pc</a> == 0) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            sls.<a class="code" href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">Form</a>(<span class="stringliteral">&quot;/%s/%s/&quot;</span>, <a class="code" href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">fGroup</a>.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(), <a class="code" href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">fUser</a>.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;         }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;         path.Insert(0, sls);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   }</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 1)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;path: &#39;%s&#39;&quot;</span>, path.Data());</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <span class="comment">// Get individual values from tokens</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> from = 1;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <a class="code" href="classTString.html">TString</a> <a class="code" href="structgroup.html">group</a>, user, name;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <span class="keywordflow">if</span> (path.Tokenize(<a class="code" href="structgroup.html">group</a>, from, <span class="stringliteral">&quot;/&quot;</span>)) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="keywordflow">if</span> (path.Tokenize(user, from, <span class="stringliteral">&quot;/&quot;</span>)) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;         <span class="keywordflow">if</span> (!path.Tokenize(name, from, <span class="stringliteral">&quot;/&quot;</span>))</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0) <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;&#39;name&#39; missing&quot;</span>);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0) <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;&#39;user&#39; missing&quot;</span>);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 1) <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;&#39;group&#39; missing&quot;</span>);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="comment">// The fragment may contain the subdir and the object name in the form &#39;[subdir/]objname&#39;</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <a class="code" href="classTString.html">TString</a> <a class="code" href="namespacetree.html">tree</a> = resolved.<a class="code" href="classTUri.html#a6a29386ee138458937f99dac280e5025">GetFragment</a>();</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="namespacetree.html">tree</a>.EndsWith(<span class="stringliteral">&quot;/&quot;</span>))</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="namespacetree.html">tree</a>.Remove(<a class="code" href="namespacetree.html">tree</a>.Length()-1);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 1)</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;group: &#39;%s&#39;, user: &#39;%s&#39;, dsname:&#39;%s&#39;, seg: &#39;%s&#39;&quot;</span>,</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                              <a class="code" href="structgroup.html">group</a>.Data(), user.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(), name.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(), <a class="code" href="namespacetree.html">tree</a>.Data());</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <span class="comment">// Check for unwanted use of wildcards</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <span class="keywordflow">if</span> ((user == <span class="stringliteral">&quot;*&quot;</span> || <a class="code" href="structgroup.html">group</a> == <span class="stringliteral">&quot;*&quot;</span>) &amp;&amp; !wildcards) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a> (<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;no wildcards allowed for user/group in this context (uri: &#39;%s&#39;)&quot;</span>, uri);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <span class="comment">// dsname may only be empty if wildcards expected</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <span class="keywordflow">if</span> (name.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>() &amp;&amp; !wildcards) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a> (<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;DataSet name is empty&quot;</span>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <span class="comment">// Construct regexp whitelist for checking illegal characters in user/group</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;   <a class="code" href="classTPRegexp.html">TPRegexp</a> wcExp (wildcards ? <span class="stringliteral">&quot;^(?:[A-Za-z0-9-*_.]*|[*])$&quot;</span> : <span class="stringliteral">&quot;^[A-Za-z0-9-_.]*$&quot;</span>);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <span class="comment">// Check for illegal characters in all components</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   <span class="keywordflow">if</span> (!wcExp.<a class="code" href="classTPRegexp.html#a5dd1c3547ee19ca51a9d3a7fc05f587f">Match</a>(<a class="code" href="structgroup.html">group</a>)) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;illegal characters in group (uri: &#39;%s&#39;, group: &#39;%s&#39;)&quot;</span>, uri, <a class="code" href="structgroup.html">group</a>.Data());</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   }</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <span class="keywordflow">if</span> (!wcExp.<a class="code" href="classTPRegexp.html#a5dd1c3547ee19ca51a9d3a7fc05f587f">Match</a>(user)) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;illegal characters in user (uri: &#39;%s&#39;, user: &#39;%s&#39;)&quot;</span>, uri, user.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   }</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="comment">// Construct regexp whitelist for checking illegal characters in name</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   <span class="keywordflow">if</span> (!wcExp.<a class="code" href="classTPRegexp.html#a5dd1c3547ee19ca51a9d3a7fc05f587f">Match</a>(name)) {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;illegal characters in name (uri: &#39;%s&#39;, name: &#39;%s&#39;)&quot;</span>, uri, name.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="namespacetree.html">tree</a>.Contains(<a class="code" href="classTRegexp.html">TRegexp</a>(<span class="stringliteral">&quot;[^A-Za-z0-9-/_]&quot;</span>))) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;Illegal characters in subdir/object name (uri: &#39;%s&#39;, obj: &#39;%s&#39;)&quot;</span>, uri, <a class="code" href="namespacetree.html">tree</a>.Data());</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <span class="comment">// Check user &amp; group</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <span class="keywordflow">if</span> (onlyCurrent &amp;&amp; (<a class="code" href="structgroup.html">group</a>.CompareTo(<a class="code" href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">fGroup</a>) || user.<a class="code" href="classTString.html#a1c6df9c54f961185b784a2221c8d6d9d">CompareTo</a>(<a class="code" href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">fUser</a>))) {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;ParseUri&quot;</span>, <span class="stringliteral">&quot;only datasets from your group/user allowed&quot;</span>);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <span class="comment">// fill parameters passed by reference, if defined</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   <span class="keywordflow">if</span> (dsGroup)</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      *dsGroup = <a class="code" href="structgroup.html">group</a>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <span class="keywordflow">if</span> (dsUser)</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      *dsUser = user;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   <span class="keywordflow">if</span> (dsName)</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      *dsName = name;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   <span class="keywordflow">if</span> (dsTree)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      *dsTree = <a class="code" href="namespacetree.html">tree</a>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">/// Partition dataset &#39;ds&#39; accordingly to the servers.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">/// The returned TMap contains:</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">///                &lt;server&gt; --&gt; &lt;subdataset&gt; (TFileCollection)</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">/// where &lt;subdataset&gt; is the subset of &#39;ds&#39; on &lt;server&gt;</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">/// The partitioning is done using all the URLs in the TFileInfo&#39;s, so the</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">/// resulting datasets are not mutually exclusive.</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">/// The string &#39;exclude&#39; contains a comma-separated list of servers to exclude</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">/// from the map.</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01007"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#ac7f7e5f216b55499e7e72735e3ecaecb"> 1007</a></span>&#160;<a class="code" href="classTMap.html">TMap</a> *<a class="code" href="classTDataSetManager.html#ac7f7e5f216b55499e7e72735e3ecaecb">TDataSetManager::GetSubDataSets</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ds, <span class="keyword">const</span> <span class="keywordtype">char</span> *exclude)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;{</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   <a class="code" href="classTMap.html">TMap</a> *map = (<a class="code" href="classTMap.html">TMap</a> *)0;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <span class="keywordflow">if</span> (!ds || strlen(ds) &lt;= 0) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetDataSets&quot;</span>, <span class="stringliteral">&quot;dataset name undefined!&quot;</span>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordflow">return</span> map;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="comment">// Get the dataset</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <a class="code" href="classTFileCollection.html">TFileCollection</a> *<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a> = <a class="code" href="classTDataSetManager.html#a0e0e0bce6d488fa2c5801d57b27ab0ec">GetDataSet</a>(ds);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetDataSets&quot;</span>, <span class="stringliteral">&quot;could not retrieve the dataset &#39;%s&#39;&quot;</span>, ds);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="keywordflow">return</span> map;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   }</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;   <span class="comment">// Get the subset</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   <span class="keywordflow">if</span> (!(map = <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>-&gt;GetFilesPerServer(exclude))) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;         <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetDataSets&quot;</span>, <span class="stringliteral">&quot;could not get map for &#39;%s&#39;&quot;</span>, ds);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   <span class="comment">// Cleanup</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keyword">delete</span> <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   <span class="comment">// Done</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <span class="keywordflow">return</span> map;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;}</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">/// Formatted printout of the content of TFileCollection &#39;fc&#39;.</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">/// Options in the form</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">///           popt = u * 10 + f</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">///     f    0 =&gt; header only, 1 =&gt; header + files</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment">///   when printing files</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment">///     u    0 =&gt; print file name only, 1 =&gt; print full URL</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a767c0d2afb8b9dc9a2baf26d81acdecb"> 1044</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a767c0d2afb8b9dc9a2baf26d81acdecb">TDataSetManager::PrintDataSet</a>(<a class="code" href="classTFileCollection.html">TFileCollection</a> *<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> popt)</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;{</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>) <span class="keywordflow">return</span>;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> = popt%10;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> u = popt - 10 * <a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;+++&quot;</span>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>-&gt;GetTitle() &amp;&amp; (strlen(<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>-&gt;GetTitle()) &gt; 0)) {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;+++ Dumping: %s: &quot;</span>, <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>-&gt;GetTitle());</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;+++ Dumping: %s: &quot;</span>, <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>-&gt;GetName());</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>-&gt;ExportInfo(<span class="stringliteral">&quot;+++ Summary:&quot;</span>, 1)-&gt;GetName());</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> == 1) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;+++ Files:&quot;</span>);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nf = 0;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <a class="code" href="classTIter.html">TIter</a> nxfi(<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>-&gt;GetList());</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <a class="code" href="classTFileInfo.html">TFileInfo</a> *fi = 0;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="keywordflow">while</span> ((fi = (<a class="code" href="classTFileInfo.html">TFileInfo</a> *)nxfi())) {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;         <span class="keywordflow">if</span> (u == 1)</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;+++ %5d. %s&quot;</span>, ++nf, fi-&gt;GetCurrentUrl()-&gt;GetUrl());</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;+++ %5d. %s&quot;</span>, ++nf, fi-&gt;GetCurrentUrl()-&gt;GetFile());</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;   }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <a class="code" href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a>(<span class="stringliteral">&quot;+++&quot;</span>);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;}</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">/// Prints formatted information about the dataset &#39;uri&#39;.</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">/// The type and format of output is driven by &#39;opt&#39;:</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">///   1. opt = &quot;server:srv1[,srv2[,srv3[,...]]]&quot;</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">///            Print info about the subsets of &#39;uri&#39; on servers srv1, srv2, ...</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment">///   2. opt = &quot;servers[:exclude:srv1[,srv2[,srv3[,...]]]]&quot;</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">///            Print info about the subsets of &#39;uri&#39; on all servers, except</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">///            the ones in the exclude list srv1, srv2, ...</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">///   3. opt = &lt;any&gt;</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">///            Print info about all datasets matching &#39;uri&#39;</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">///   If &#39;opt&#39; contains &#39;full:&#39; the list of files in the datasets are also printed.</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">///   In case 3. this is enabled only if &#39;uri&#39; matches a single dataset.</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">///   In case 3, if &#39;opt&#39; contains</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment">///      &#39;full:&#39;      the list of files in the datasets are also printed.</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">///      &#39;forcescan:&#39; the dataset are open to get the information; otherwise the</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">///                   pre-processed information is used.</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">///      &#39;noheader:&#39;  the labelling header is not printed; usefull when to chain</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">///                   several printouts</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">///      &#39;noupdate:&#39;  do not update the cache (which may be slow on very remote</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">///                   servers)</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment">///      &#39;refresh:&#39;   refresh the information (requires appropriate credentials;</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment">///                   typically it can be done only for owned datasets)</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a88cd48b362a4ae33b2a1c4d4ee191367"> 1099</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a88cd48b362a4ae33b2a1c4d4ee191367">TDataSetManager::ShowDataSets</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt)</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;{</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   <a class="code" href="classTFileCollection.html">TFileCollection</a> *<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a> = 0;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   <a class="code" href="classTString.html">TString</a> o(opt);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> popt = 0;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;full:&quot;</span>)) {</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      o.<a class="code" href="classTString.html#a5072f18275913ec22cfa6f7c0c70c557">ReplaceAll</a>(<span class="stringliteral">&quot;full:&quot;</span>,<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      popt = 1;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#a6d92a45f8b4c0c4d2ed7f318a2cb6f95">BeginsWith</a>(<span class="stringliteral">&quot;server:&quot;</span>)) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      o.<a class="code" href="classTString.html#a5072f18275913ec22cfa6f7c0c70c557">ReplaceAll</a>(<span class="stringliteral">&quot;server:&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="classTString.html">TString</a> srv;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> from = 0;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">while</span> ((o.<a class="code" href="classTString.html#a689ddf39f10539c879dcee0c5f4113ec">Tokenize</a>(srv, from, <span class="stringliteral">&quot;,&quot;</span>))) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;         <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a> = <a class="code" href="classTDataSetManager.html#a0e0e0bce6d488fa2c5801d57b27ab0ec">GetDataSet</a>(uri, srv.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;         <a class="code" href="classTDataSetManager.html#a767c0d2afb8b9dc9a2baf26d81acdecb">PrintDataSet</a>(<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>, popt);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;         <span class="keyword">delete</span> <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#a6d92a45f8b4c0c4d2ed7f318a2cb6f95">BeginsWith</a>(<span class="stringliteral">&quot;servers&quot;</span>)) {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      o.<a class="code" href="classTString.html#a5072f18275913ec22cfa6f7c0c70c557">ReplaceAll</a>(<span class="stringliteral">&quot;servers&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#a6d92a45f8b4c0c4d2ed7f318a2cb6f95">BeginsWith</a>(<span class="stringliteral">&quot;:exclude:&quot;</span>))</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;         o.<a class="code" href="classTString.html#a5072f18275913ec22cfa6f7c0c70c557">ReplaceAll</a>(<span class="stringliteral">&quot;:exclude:&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;         o = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="classTMap.html">TMap</a> *dsmap = <a class="code" href="classTDataSetManager.html#ac7f7e5f216b55499e7e72735e3ecaecb">GetSubDataSets</a>(uri, o.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">if</span> (dsmap) {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;         <a class="code" href="classTIter.html">TIter</a> nxk(dsmap);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;         <a class="code" href="classTObject.html">TObject</a> *k = 0;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;         <span class="keywordflow">while</span> ((k = nxk()) &amp;&amp; (<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a> = (<a class="code" href="classTFileCollection.html">TFileCollection</a> *) dsmap-&gt;<a class="code" href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">GetValue</a>(k))) {</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <a class="code" href="classTDataSetManager.html#a767c0d2afb8b9dc9a2baf26d81acdecb">PrintDataSet</a>(<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>, popt);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;         }</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;         <span class="keyword">delete</span> dsmap;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <a class="code" href="classTString.html">TString</a> u(uri), grp, usr, dsn;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="comment">// Support for &quot;*&quot; or &quot;/*&quot;</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">if</span> (u == <span class="stringliteral">&quot;&quot;</span> || u == <span class="stringliteral">&quot;*&quot;</span> || u == <span class="stringliteral">&quot;/*&quot;</span> || u == <span class="stringliteral">&quot;/*/&quot;</span> || u == <span class="stringliteral">&quot;/*/*&quot;</span>) u = <span class="stringliteral">&quot;/*/*/&quot;</span>;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classTDataSetManager.html#aa34c4b879b279b4936c617e648158245">ParseUri</a>(u.Data(), &amp;grp, &amp;usr, &amp;dsn, 0, <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>, <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>))</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;ShowDataSets&quot;</span>, <span class="stringliteral">&quot;problems parsing URI &#39;%s&#39;&quot;</span>, uri);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="comment">// Scan the existing datasets and print the content</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a> xopt = (<a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a>)(<a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa6c2faa1bc7c965094321baad6587a603">TDataSetManager::kPrint</a>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;forcescan:&quot;</span>)) xopt |= (<a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a>)(<a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa72b59a281c15e5c67ab7956a6195f263">TDataSetManager::kForceScan</a>);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;noheader:&quot;</span>)) xopt |= (<a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a>)(<a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aafb8503dada7cd854f4a48e9abef9085e">TDataSetManager::kNoHeaderPrint</a>);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;noupdate:&quot;</span>)) xopt |= (<a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a>)(<a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa8f73fe8ea1293b110b3ff53d1792a4a9">TDataSetManager::kNoCacheUpdate</a>);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">if</span> (o.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;refresh:&quot;</span>)) xopt |= (<a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a>)(<a class="code" href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa0c0f78ee6245f57d27176c674830a81c">TDataSetManager::kRefreshLs</a>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">if</span> (!u.IsNull() &amp;&amp; !u.Contains(<span class="stringliteral">&quot;*&quot;</span>) &amp;&amp; !grp.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>() &amp;&amp; !usr.IsNull() &amp;&amp; !dsn.IsNull()) {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a792bb89fe89df1b03560475b889c5cab">ExistsDataSet</a>(uri)) {</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="comment">// Single dataset</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="keywordflow">if</span> (popt == 0) {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;               <span class="comment">// Quick listing</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;               <a class="code" href="classTDataSetManager.html#a7734688d52bb3ce5a304ceabc493c55c">GetDataSets</a>(u.Data(), xopt);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a> = <a class="code" href="classTDataSetManager.html#a0e0e0bce6d488fa2c5801d57b27ab0ec">GetDataSet</a>(uri))) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;               <span class="comment">// Full print option</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;               <a class="code" href="classTDataSetManager.html#a767c0d2afb8b9dc9a2baf26d81acdecb">PrintDataSet</a>(<a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>, 10 + popt);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;               <span class="keyword">delete</span> <a class="code" href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;         }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;         <span class="comment">// Try all the directories</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;         <a class="code" href="classTRegexp.html">TRegexp</a> reg(grp, <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>), reu(usr, <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;         <span class="keywordflow">if</span> (u.Index(reg) == <a class="code" href="RtypesCore_8h.html#a2c5c48964d999d2c8252186e7ea2b022">kNPOS</a>) grp = <span class="stringliteral">&quot;*&quot;</span>;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         <span class="keywordflow">if</span> (u.Index(reu) == <a class="code" href="RtypesCore_8h.html#a2c5c48964d999d2c8252186e7ea2b022">kNPOS</a>) usr = <span class="stringliteral">&quot;*&quot;</span>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;         <span class="comment">// Rebuild the uri</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;         u.<a class="code" href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">Form</a>(<span class="stringliteral">&quot;/%s/%s/%s&quot;</span>, grp.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>(), usr.Data(), dsn.Data());</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      }</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <a class="code" href="classTDataSetManager.html#a7734688d52bb3ce5a304ceabc493c55c">GetDataSets</a>(u.Data(), xopt);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   }</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;}</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="comment">/// Go through the files in the specified dataset, selecting files according to</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">/// &#39;fopt&#39; and doing on these files the actions described by &#39;sopt&#39;.</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">/// If required, the information in &#39;dataset&#39; is updated.</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment">/// The int fopt controls which files have to be processed (or added to the list</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment">/// if ropt is 1 - see below); &#39;fopt&#39; is defined in term of csopt and fsopt:</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="comment">///                    fopt = sign(fsopt) * csopt * 100 + fsopt</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="comment">/// where &#39;fsopt&#39; controls the actual selection</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="comment">///    -1              all files in the dataset</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment">///     0              process only files marked as &#39;non-staged&#39;</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">///   &gt;=1              as 0 but files that are marked &#39;staged&#39; are open</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">///   &gt;=2              as 1 but files that are marked &#39;staged&#39; are touched</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">///    10              process only files marked as &#39;staged&#39;; files marked as &#39;non-staged&#39;</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">///                    are ignored</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">/// and &#39;csopt&#39; controls if an actual check on the staged status (via TFileStager) is done</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">///     0              check that the file is staged using TFileStager</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">///     1              do not hard check the staged status</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">/// (example: use fopt = -101 to check the staged status of all the files, or fopt = 110</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">///  to re-check the stage status of all the files marked as staged)</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">/// If &#39;dbg&#39; is true, some information about the ongoing operations is reguraly</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">/// printed; this can be useful when processing very large datasets, an operation</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">/// which can take a very long time.</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">/// The int &#39;sopt&#39; controls what is done on the selected files (this is effective only</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">/// if ropt is 0 or 2 - see below):</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">///    -1              no action (fopt = 2 and sopt = -1 touches all staged files)</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">///     0              do the full process: open the files and fill the meta-information</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment">///                    in the TFileInfo object, including the end-point URL</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment">///     1              only locate the files, by updating the end-point URL (uses TFileStager::Locate</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment">///                    which is must faster of an TFile::Open)</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment">///     2              issue a stage request on the files</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">/// The int &#39;ropt&#39; controls which actions are performed:</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment">///     0              do the full process: get list of files to process and process them</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="comment">///     1              get the list of files to be scanned and return it in flist</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">///     2              process the files in flist (according to sopt)</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">/// When defined flist is under the responsability the caller.</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment">/// If avgsz &gt; 0 it is used for the final update of the dataset global counters.</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">/// If &#39;mss&#39; is defined use it to initialize the stager (instead of the Url in the</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment">/// TFileInfo objects)</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">/// If maxfiles &gt; 0, select for processing a maximum of &#39;filesmax&#39; files (but if fopt is 1 or 2</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment">/// all files marked as &#39;staged&#39; are still open or touched)</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">/// Return code</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">///     1 dataset was not changed</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">///     2 dataset was changed</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment">/// The number of touched, opened and disappeared files are returned in the respective</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">/// variables, if these are defined.</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01225"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a822f5701059069ac960379ac6605ab62"> 1225</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#a14dc43158b4c80b1438f0ac5e1f25f53">TDataSetManager::ScanDataSet</a>(<a class="code" href="classTFileCollection.html">TFileCollection</a> *dataset,</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> fopt, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> sopt, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> ropt, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> dbg,</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *touched, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *opened, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *disappeared,</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                   <a class="code" href="classTList.html">TList</a> *flist, <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> avgsz, <span class="keyword">const</span> <span class="keywordtype">char</span> *mss,</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                                   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> maxfiles, <span class="keyword">const</span> <span class="keywordtype">char</span> *stageopts)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;{</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <span class="comment">// Max number of files</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="keywordflow">if</span> (maxfiles &gt; -1 &amp;&amp; dbg)</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanDataSet&quot;</span>, <span class="stringliteral">&quot;processing a maximum of %d files&quot;</span>, maxfiles);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <span class="comment">// File selection, Reopen and Touch options</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> checkstg = (fopt &gt;= 100 || fopt &lt; -1) ? <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a> : <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   <span class="comment">// File processing options</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> noaction   = (sopt == -1) ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <span class="comment">//Bool_t fullproc   = (sopt == 0)  ? kTRUE : kFALSE;</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> locateonly = (sopt == 1)  ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> stageonly  = (sopt == 2)  ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <span class="comment">// Run options</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> doall       = (ropt == 0) ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> getlistonly = (ropt == 1) ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> scanlist    = (ropt == 2) ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <span class="keywordflow">if</span> (scanlist &amp;&amp; !flist) {</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::ScanDataSet&quot;</span>, <span class="stringliteral">&quot;input list is mandatory for option &#39;scan file list&#39;&quot;</span>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   }</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> ftouched = 0;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> fopened = 0;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> fdisappeared = 0;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> bchanged_ds = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   <a class="code" href="classTList.html">TList</a> *newStagedFiles = 0;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   <a class="code" href="classTFileInfo.html">TFileInfo</a> *fileInfo = 0;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <a class="code" href="classTFileStager.html">TFileStager</a> *stager = 0;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> createStager = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <span class="keywordflow">if</span> (doall || getlistonly) {</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <span class="comment">// Point to the list</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      newStagedFiles = (!doall &amp;&amp; getlistonly &amp;&amp; flist) ? flist : <span class="keyword">new</span> <a class="code" href="classTList.html">TList</a>;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">if</span> (newStagedFiles != flist) newStagedFiles-&gt;<a class="code" href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">SetOwner</a>(<a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      stager = (mss &amp;&amp; strlen(mss) &gt; 0) ? <a class="code" href="classTFileStager.html#ab64b697b077008815f6835ff0fc806da">TFileStager::Open</a>(mss) : 0;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      createStager = (stager) ? <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a> : <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> bchanged_fi = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> btouched = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> bdisappeared = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="comment">// Check which files have been staged, this can be replaced by a bulk command,</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="comment">// once it exists in the xrdclient</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <a class="code" href="classTIter.html">TIter</a> iter(dataset-&gt;<a class="code" href="classTFileCollection.html#a84ff70aee38b2fd8adedf2c993f1375a">GetList</a>());</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="keywordflow">while</span> ((fileInfo = (<a class="code" href="classTFileInfo.html">TFileInfo</a> *) iter())) {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;         <span class="comment">// For real time monitoring</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;         <a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a97d43f76acdd99277cf44fdb35e23601">DispatchOneEvent</a>(<a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;         bchanged_fi = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;         btouched = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;         bdisappeared = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;         <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> newlystaged = <a class="code" href="classTDataSetManager.html#a0cfb90af340713b71a1924a14d1a231e">CheckStagedStatus</a>(fileInfo, fopt, maxfiles, newStagedFiles-&gt;<a class="code" href="classTCollection.html#a8cf45b1d364586aea70541d53950e606">GetEntries</a>(),</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                                                stager, createStager, dbg, bchanged_fi, btouched,</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                                                bdisappeared);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;         <span class="keywordflow">if</span> (bchanged_fi) bchanged_ds = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;         <span class="keywordflow">if</span> (btouched) ftouched++;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;         <span class="keywordflow">if</span> (bdisappeared) fdisappeared++;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;         <span class="comment">// Notify</span></div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;         <span class="keywordflow">if</span> (dbg &amp;&amp; (ftouched+fdisappeared) % 100 == 0)</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            ::<a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanDataSet&quot;</span>, <span class="stringliteral">&quot;opening %d: file: %s&quot;</span>,</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                   ftouched + fdisappeared, fileInfo-&gt;<a class="code" href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">GetCurrentUrl</a>()-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;         <span class="comment">// Register the newly staged file</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;         <span class="keywordflow">if</span> (!noaction &amp;&amp; newlystaged) newStagedFiles-&gt;<a class="code" href="classTList.html#a1b90ccfbde1729266b585194fa45df14">Add</a>(fileInfo);</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      }</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <a class="code" href="RConfig_8hxx.html#ad85ff86df420c560e9e8f1d80b510905">SafeDelete</a>(stager);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="comment">// If required to only get the list we are done</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">if</span> (getlistonly) {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;         <span class="keywordflow">if</span> (dbg &amp;&amp; newStagedFiles-&gt;<a class="code" href="classTCollection.html#a8cf45b1d364586aea70541d53950e606">GetEntries</a>() &gt; 0)</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            ::<a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanDataSet&quot;</span>, <span class="stringliteral">&quot; %d files appear to be newly staged&quot;</span>,</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                                                   newStagedFiles-&gt;<a class="code" href="classTCollection.html#a8cf45b1d364586aea70541d53950e606">GetEntries</a>());</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;         <span class="keywordflow">if</span> (!flist) <a class="code" href="RConfig_8hxx.html#ad85ff86df420c560e9e8f1d80b510905">SafeDelete</a>(newStagedFiles);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;         <span class="keywordflow">return</span> ((bchanged_ds) ? 2 : 1);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   }</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;   <span class="keywordflow">if</span> (!noaction &amp;&amp; (doall || scanlist)) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="comment">// Point to the list</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      newStagedFiles = (!doall &amp;&amp; scanlist &amp;&amp; flist) ? flist : newStagedFiles;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <span class="keywordflow">if</span> (newStagedFiles != flist) newStagedFiles-&gt;<a class="code" href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">SetOwner</a>(<a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="comment">// loop over now staged files</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keywordflow">if</span> (dbg &amp;&amp; newStagedFiles-&gt;<a class="code" href="classTCollection.html#a8cf45b1d364586aea70541d53950e606">GetEntries</a>() &gt; 0)</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;         ::<a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanDataSet&quot;</span>, <span class="stringliteral">&quot;opening %d files that appear to be newly staged&quot;</span>,</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                                newStagedFiles-&gt;<a class="code" href="classTCollection.html#a8cf45b1d364586aea70541d53950e606">GetEntries</a>());</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="comment">// If staging files, prepare the stager</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <span class="keywordflow">if</span> (locateonly || stageonly) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;         stager = (mss &amp;&amp; strlen(mss) &gt; 0) ? <a class="code" href="classTFileStager.html#ab64b697b077008815f6835ff0fc806da">TFileStager::Open</a>(mss) : 0;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;         createStager = (stager) ? <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a> : <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      }</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="comment">// Notify each &#39;fqnot&#39; files (min 1, max 100)</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> fqnot = (newStagedFiles-&gt;<a class="code" href="classTCollection.html#af0ca154693eeb1e9d9a0ff3a8d43e466">GetSize</a>() &gt; 10) ? newStagedFiles-&gt;<a class="code" href="classTCollection.html#af0ca154693eeb1e9d9a0ff3a8d43e466">GetSize</a>() / 10 : 1;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <span class="keywordflow">if</span> (fqnot &gt; 100) fqnot = 100;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> count = 0;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> bchanged_fi = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> bopened = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="classTIter.html">TIter</a> iter(newStagedFiles);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="keywordflow">while</span> ((fileInfo = (<a class="code" href="classTFileInfo.html">TFileInfo</a> *) iter())) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;         <span class="keywordflow">if</span> (dbg &amp;&amp; (count%fqnot == 0))</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanDataSet&quot;</span>, <span class="stringliteral">&quot;processing %d.&#39;new&#39; file: %s&quot;</span>,</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                                                   count, fileInfo-&gt;<a class="code" href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">GetCurrentUrl</a>()-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;         count++;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;         <span class="comment">// For real time monitoring</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;         <a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a97d43f76acdd99277cf44fdb35e23601">DispatchOneEvent</a>(<a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;         bchanged_fi = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;         bopened = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;         <a class="code" href="classTDataSetManager.html#a296883aa081ba6a80e903724e472847f">ProcessFile</a>(fileInfo, sopt, checkstg, doall, stager, createStager,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                      stageopts, dbg, bchanged_fi, bopened);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;         bchanged_ds |= bchanged_fi;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;         <span class="keywordflow">if</span> (bopened) fopened++;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      }</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="keywordflow">if</span> (newStagedFiles != flist) <a class="code" href="RConfig_8hxx.html#ad85ff86df420c560e9e8f1d80b510905">SafeDelete</a>(newStagedFiles);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      dataset-&gt;<a class="code" href="classTFileCollection.html#a17e27fdbc0021c41e6574b10c11a1450">RemoveDuplicates</a>();</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      dataset-&gt;<a class="code" href="classTFileCollection.html#a22d814ea179aacdc35f2864314adb137">Update</a>(avgsz);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;   }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> result = (bchanged_ds) ? 2 : 1;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;   <span class="keywordflow">if</span> (result &gt; 0 &amp;&amp; dbg)</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanDataSet&quot;</span>, <span class="stringliteral">&quot;%d files &#39;new&#39;; %d files touched;&quot;</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                                             <span class="stringliteral">&quot; %d files disappeared&quot;</span>, fopened, ftouched, fdisappeared);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;   <span class="comment">// Fill outputs, if required</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   <span class="keywordflow">if</span> (touched) *touched = ftouched;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;   <span class="keywordflow">if</span> (opened) *opened = fopened;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   <span class="keywordflow">if</span> (disappeared) *disappeared = fdisappeared;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;   <span class="comment">// For real time monitoring</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;   <a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#a97d43f76acdd99277cf44fdb35e23601">DispatchOneEvent</a>(<a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;}</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment">/// Check stage status of the file described by &quot;fileInfo&quot;.</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">/// fopt is same as &quot;fopt&quot; in TDataSetManager::ScanDataSet, which is repeated below:</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">/// The int fopt controls which files have to be processed (or added to the list</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">/// if ropt is 1 - see below); &#39;fopt&#39; is defined in term of csopt and fsopt:</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">///                    fopt = sign(fsopt) * csopt * 100 + fsopt</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">/// where &#39;fsopt&#39; controls the actual selection</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">///    -1              all files in the dataset</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">///     0              process only files marked as &#39;non-staged&#39;</span></div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment">///   &gt;=1              as 0 but files that are marked &#39;staged&#39; are open</span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="comment">///   &gt;=2              as 1 but files that are marked &#39;staged&#39; are touched</span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment">///    10              process only files marked as &#39;staged&#39;; files marked as &#39;non-staged&#39;</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">///                    are ignored</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">/// and &#39;csopt&#39; controls if an actual check on the staged status (via TFileStager) is done</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">///     0              check that the file is staged using TFileStager</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">///     1              do not hard check the staged status</span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">/// (example: use fopt = -101 to check the staged status of all the files, or fopt = 110</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">///  to re-check the stage status of all the files marked as staged)</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">/// If &#39;dbg&#39; is true, some information about the ongoing operations is reguraly</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">/// printed; this can be useful when processing very large datasets, an operation</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment">/// which can take a very long time.</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">/// If maxfiles &gt; 0, select for processing a maximum of &#39;filesmax&#39; files (but if fopt is 1 or 2</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">/// all files marked as &#39;staged&#39; are still open or touched)</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">/// Return code</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">///     kTRUE the file appears newly staged</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">///     kFALSE otherwise</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">/// changed is true if the fileinfo is modified</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">/// touched is true if the file is open and read</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">/// disappeared is true if the file is marked staged but actually not staged</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a0cfb90af340713b71a1924a14d1a231e"> 1415</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTDataSetManager.html#a0cfb90af340713b71a1924a14d1a231e">TDataSetManager::CheckStagedStatus</a>(<a class="code" href="classTFileInfo.html">TFileInfo</a> *fileInfo, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> fopt, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> maxfiles,</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                                          <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> newstagedfiles, <a class="code" href="classTFileStager.html">TFileStager</a>* stager,</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                                          <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> createStager, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> dbg, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a>&amp; changed,</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                                          <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a>&amp; touched, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a>&amp; disappeared)</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;{</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="comment">// File selection, Reopen and Touch options</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> allf     = (fopt == -1)               ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> checkstg = (fopt &gt;= 100 || fopt &lt; -1) ? <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a> : <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   <span class="keywordflow">if</span> (fopt &gt;= 0) fopt %= 100;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> nonstgf  = (fopt &gt;= 0 &amp;&amp; fopt &lt; 10)   ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> reopen   = (fopt &gt;= 1 &amp;&amp; fopt &lt; 10)   ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> touch    = (fopt &gt;= 2 &amp;&amp; fopt &lt; 10)   ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> stgf     = (fopt == 10)               ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;   changed = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;   touched = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;   disappeared = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   <span class="comment">// Check which files have been staged, this can be replaced by a bulk command,</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;   <span class="comment">// once it exists in the xrdclient</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <span class="keywordflow">if</span> (!allf) {</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      fileInfo-&gt;<a class="code" href="classTFileInfo.html#acf082dad491e981c80e2c6705d8f35bc">ResetUrl</a>();</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordflow">if</span> (!fileInfo-&gt;<a class="code" href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">GetCurrentUrl</a>()) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::CheckStagedStatus&quot;</span>, <span class="stringliteral">&quot;GetCurrentUrl() returned 0 for %s&quot;</span>,</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                                                fileInfo-&gt;<a class="code" href="classTFileInfo.html#a94135a4a03118ab67e80e5d1e05bfff7">GetFirstUrl</a>()-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <span class="keywordflow">if</span> (nonstgf &amp;&amp; fileInfo-&gt;<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>)) {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;         <span class="comment">// Skip files flagged as corrupted</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;         <span class="keywordflow">if</span> (fileInfo-&gt;<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838bae8ff1a627e7a2b8f21db56e02a8fa1b2">TFileInfo::kCorrupted</a>)) <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;         <span class="comment">// Skip if we are not asked to re-open the staged files</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;         <span class="keywordflow">if</span> (!reopen) <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;         <span class="comment">// Set the URL removing the anchor (e.g. #AliESDs.root) because IsStaged()</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;         <span class="comment">// and TFile::Open() with filetype=raw do not accept anchors</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;         <a class="code" href="classTUrl.html">TUrl</a> *curl = fileInfo-&gt;<a class="code" href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">GetCurrentUrl</a>();</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *furl = curl-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>();</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;         <a class="code" href="classTString.html">TString</a> urlmod;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a6b93d31f16a2f72a5cbc928193d36fce">TDataSetManager::CheckDataSetSrvMaps</a>(curl, urlmod) &amp;&amp; !(urlmod.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()))</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            furl = urlmod.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>();</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;         <a class="code" href="classTUrl.html">TUrl</a> url(furl);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;         url.<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;         <span class="comment">// Check if file is still available, if touch is set actually read from the file</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;         <a class="code" href="classTString.html">TString</a> uopt(url.<a class="code" href="classTUrl.html#ad99fa0697d16b137338259fb3eab4e65">GetOptions</a>());</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;         uopt += <span class="stringliteral">&quot;filetype=raw&amp;mxredir=2&quot;</span>;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;         url.<a class="code" href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">SetOptions</a>(uopt.Data());</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;         <a class="code" href="classTFile.html">TFile</a> *<a class="code" href="namespacefile.html">file</a> = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="namespacefile.html">file</a>) {</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <span class="keywordflow">if</span> (touch) {</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;               <span class="comment">// Actually access the file</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;               <span class="keywordtype">char</span> tmpChar = 0;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="namespacefile.html">file</a>-&gt;ReadBuffer(&amp;tmpChar, 1))</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                  ::<a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;TDataSetManager::CheckStagedStatus&quot;</span>, <span class="stringliteral">&quot;problems reading 1 byte from open file&quot;</span>);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;               <span class="comment">// Count</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;               touched = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            }</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <a class="code" href="namespacefile.html">file</a>-&gt;Close();</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            <span class="keyword">delete</span> <a class="code" href="namespacefile.html">file</a>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            <span class="comment">// File could not be opened, reset staged bit</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keywordflow">if</span> (dbg) <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::CheckStagedStatus&quot;</span>, <span class="stringliteral">&quot;file %s disappeared&quot;</span>, url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            fileInfo-&gt;<a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            disappeared = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            changed = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <span class="comment">// Remove invalid URL, if other one left...</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <span class="keywordflow">if</span> (fileInfo-&gt;<a class="code" href="classTFileInfo.html#aab4895c00ee18081bd592a8fd4209961">GetNUrls</a>() &gt; 1)</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;               fileInfo-&gt;<a class="code" href="classTFileInfo.html#a556905556f1025702bf87b02ecddddff">RemoveUrl</a>(curl-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;         }</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;         <span class="comment">// Go to next</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stgf &amp;&amp; !(fileInfo-&gt;<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>))) {</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;         <span class="comment">// All staged files are processed: skip non staged</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      }</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;   }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;   <span class="comment">// Only open maximum number of &#39;new&#39; files</span></div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   <span class="keywordflow">if</span> (maxfiles &gt; 0 &amp;&amp; newstagedfiles &gt;= maxfiles)</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <span class="comment">// Hard check of the staged status, if required</span></div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   <span class="keywordflow">if</span> (checkstg) {</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="comment">// Set the URL removing the anchor (e.g. #AliESDs.root) because IsStaged()</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="comment">// and TFile::Open() with filetype=raw do not accept anchors</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <a class="code" href="classTUrl.html">TUrl</a> *curl = fileInfo-&gt;<a class="code" href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">GetCurrentUrl</a>();</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *furl = curl-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>();</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <a class="code" href="classTString.html">TString</a> urlmod;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> mapped = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a6b93d31f16a2f72a5cbc928193d36fce">TDataSetManager::CheckDataSetSrvMaps</a>(curl, urlmod) &amp;&amp; !(urlmod.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>())) {</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;         furl = urlmod.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>();</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;         mapped = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      }</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <a class="code" href="classTUrl.html">TUrl</a> url(furl);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      url.<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="comment">// Get the stager (either the global one or from the URL)</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      stager = createStager ? <a class="code" href="classTFileStager.html#ab64b697b077008815f6835ff0fc806da">TFileStager::Open</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>()) : stager;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> result = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keywordflow">if</span> (stager) {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;         result = stager-&gt;<a class="code" href="classTFileStager.html#a633f5c7621bf49b8346d5b2effcdd8e8">IsStaged</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::CheckStagedStatus&quot;</span>, <span class="stringliteral">&quot;IsStaged: %s: %d&quot;</span>, url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), result);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;         <span class="keywordflow">if</span> (createStager)</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            <a class="code" href="RConfig_8hxx.html#ad85ff86df420c560e9e8f1d80b510905">SafeDelete</a>(stager);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;         <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">::Warning</a>(<span class="stringliteral">&quot;TDataSetManager::CheckStagedStatus&quot;</span>,</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                  <span class="stringliteral">&quot;could not get stager instance for &#39;%s&#39;&quot;</span>, url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="comment">// Go to next in case of failure</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keywordflow">if</span> (!result) {</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;         <span class="keywordflow">if</span> (fileInfo-&gt;<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>)) {</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            <span class="comment">// Reset the bit</span></div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            fileInfo-&gt;<a class="code" href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">ResetBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            changed = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;         }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;         <span class="keywordflow">if</span> (!(fileInfo-&gt;<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>))) {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <span class="comment">// Set the bit</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            fileInfo-&gt;<a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            changed = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;         }</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      }</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="comment">// If the url was re-mapped add the new url in front of the list</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="keywordflow">if</span> (mapped) {</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;         url.<a class="code" href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">SetOptions</a>(curl-&gt;<a class="code" href="classTUrl.html#ad99fa0697d16b137338259fb3eab4e65">GetOptions</a>());</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;         url.<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(curl-&gt;<a class="code" href="classTUrl.html#acb049b67ef52d25429fe223a22f265ef">GetAnchor</a>());</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;         fileInfo-&gt;<a class="code" href="classTFileInfo.html#a42c3729a957737a3ba2867d1733624b2">AddUrl</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      }</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;   }</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">/// Locate, stage, or fully validate file &quot;fileInfo&quot;.</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01561"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a296883aa081ba6a80e903724e472847f"> 1561</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a296883aa081ba6a80e903724e472847f">TDataSetManager::ProcessFile</a>(<a class="code" href="classTFileInfo.html">TFileInfo</a> *fileInfo, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> sopt, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> checkstg, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> doall,</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                  <a class="code" href="classTFileStager.html">TFileStager</a>* stager,  <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> createStager, <span class="keyword">const</span> <span class="keywordtype">char</span> *stageopts,</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                                  <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> dbg, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a>&amp; changed, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a>&amp; opened)</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;{</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="comment">// File processing options</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   <span class="comment">//Bool_t noaction   = (sopt == -1) ? kTRUE : kFALSE;</span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> fullproc   = (sopt == 0)  ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> locateonly = (sopt == 1)  ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> stageonly  = (sopt == 2)  ? <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a> : <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   changed = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;   opened = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> rc = -1;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;   <span class="comment">// Set the URL removing the anchor (e.g. #AliESDs.root) because IsStaged()</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="comment">// and TFile::Open() with filetype=raw do not accept anchors</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;   <a class="code" href="classTUrl.html">TUrl</a> *curl = fileInfo-&gt;<a class="code" href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">GetCurrentUrl</a>();</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *furl = curl-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>();</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <a class="code" href="classTString.html">TString</a> urlmod;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;   <span class="comment">//Bool_t mapped = kFALSE;</span></div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a6b93d31f16a2f72a5cbc928193d36fce">TDataSetManager::CheckDataSetSrvMaps</a>(curl, urlmod) &amp;&amp; !(urlmod.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>())) {</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      furl = urlmod.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>();</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <span class="comment">//mapped = kTRUE;</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   }</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;   <a class="code" href="classTUrl.html">TUrl</a> url(furl);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   url.<a class="code" href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">SetOptions</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;   url.<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   <span class="keywordflow">if</span> (createStager){</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="keywordflow">if</span> (!stager || (stager &amp;&amp; !stager-&gt;<a class="code" href="classTFileStager.html#a310cc34c3291f0da4d385974ebdf601b">Matches</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>()))) {</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;         <a class="code" href="RConfig_8hxx.html#ad85ff86df420c560e9e8f1d80b510905">SafeDelete</a>(stager);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;         <span class="keywordflow">if</span> (!(stager = <a class="code" href="classTFileStager.html#ab64b697b077008815f6835ff0fc806da">TFileStager::Open</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>())) || !(stager-&gt;<a class="code" href="classTFileStager.html#a43a11bfe7bb69417fa8ea4348b139591">IsValid</a>())) {</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::ProcessFile&quot;</span>,</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                     <span class="stringliteral">&quot;could not get valid stager instance for &#39;%s&#39;&quot;</span>, url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;         }</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   <span class="comment">// Locate the file, if just requested so</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   <span class="keywordflow">if</span> (locateonly) {</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <a class="code" href="classTString.html">TString</a> eurl;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <span class="keywordflow">if</span> (stager &amp;&amp; stager-&gt;<a class="code" href="classTFileStager.html#aef09156e6c6fa5d835f78c3935e1aaab">Locate</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), eurl) == 0) {</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;         <a class="code" href="classTString.html">TString</a> opts(curl-&gt;<a class="code" href="classTUrl.html#ad99fa0697d16b137338259fb3eab4e65">GetOptions</a>());</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;         <a class="code" href="classTString.html">TString</a> anch(curl-&gt;<a class="code" href="classTUrl.html#acb049b67ef52d25429fe223a22f265ef">GetAnchor</a>());</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;         <span class="comment">// Get the effective end-point Url</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;         curl-&gt;<a class="code" href="classTUrl.html#a5954c417af1ae4752f34971f5675e390">SetUrl</a>(eurl);</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;         <span class="comment">// Restore original options and anchor, if any</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;         curl-&gt;<a class="code" href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">SetOptions</a>(opts);</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;         curl-&gt;<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(anch);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;         <span class="comment">// Flag and count</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;         changed = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;         opened = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;         <span class="comment">// Failure</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::ProcessFile&quot;</span>, <span class="stringliteral">&quot;could not locate %s&quot;</span>, url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      }</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stageonly) {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <a class="code" href="classTString.html">TString</a> eurl;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="keywordflow">if</span> (stager &amp;&amp; !(stager-&gt;<a class="code" href="classTFileStager.html#a633f5c7621bf49b8346d5b2effcdd8e8">IsStaged</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>()))) {</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;         <span class="keywordflow">if</span> (!(stager-&gt;<a class="code" href="classTFileStager.html#a9870af916f18e378f98f1f11ae5ebcf0">Stage</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), stageopts))) {</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="comment">// Failure</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::ProcessFile&quot;</span>,</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                     <span class="stringliteral">&quot;problems issuing stage request for %s&quot;</span>, url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;         }</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fullproc) {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <a class="code" href="classTString.html">TString</a> eurl;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="comment">// Full file validation</span></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      rc = -2;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> doscan = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <span class="keywordflow">if</span> (checkstg) {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;         doscan = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;         <span class="keywordflow">if</span> ((doall &amp;&amp; fileInfo-&gt;<a class="code" href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TestBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>)) ||</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;             (stager &amp;&amp; stager-&gt;<a class="code" href="classTFileStager.html#a633f5c7621bf49b8346d5b2effcdd8e8">IsStaged</a>(url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>()))) doscan = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="keywordflow">if</span> (doscan) {</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;         <span class="keywordflow">if</span> ((rc = <a class="code" href="classTDataSetManager.html#a46727ea26e7c731af9e9849a8336647f">TDataSetManager::ScanFile</a>(fileInfo, dbg)) &lt; -1) <span class="keywordflow">return</span>;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;         changed = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stager) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;         <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">::Warning</a>(<span class="stringliteral">&quot;TDataSetManager::ProcessFile&quot;</span>,</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                   <span class="stringliteral">&quot;required file &#39;%s&#39; does not look as being online (staged)&quot;</span>, url.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      }</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <span class="keywordflow">if</span> (rc &lt; 0) <span class="keywordflow">return</span>;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="comment">// Count</span></div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      opened = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment">/// Open the file described by &#39;fileinfo&#39; to extract the relevant meta-information.</span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">/// Return 0 if OK, -2 if the file cannot be open, -1 if it is corrupted</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01655"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a46727ea26e7c731af9e9849a8336647f"> 1655</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#a46727ea26e7c731af9e9849a8336647f">TDataSetManager::ScanFile</a>(<a class="code" href="classTFileInfo.html">TFileInfo</a> *fileinfo, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> dbg)</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;{</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> rc = -2;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   <span class="comment">// We need an input</span></div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;   <span class="keywordflow">if</span> (!fileinfo) {</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::ScanFile&quot;</span>, <span class="stringliteral">&quot;undefined input (!)&quot;</span>);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   <a class="code" href="classTUrl.html">TUrl</a> *url = fileinfo-&gt;<a class="code" href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">GetCurrentUrl</a>();</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   <a class="code" href="classTFile.html">TFile</a> *<a class="code" href="namespacefile.html">file</a> = 0;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> anchor = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;   <span class="comment">// Get timeout settings (default none)</span></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> timeout = <a class="code" href="TEnv_8h.html#a11202e6eff8457ae349087e34c0549c9">gEnv</a>-&gt;<a class="code" href="classTEnv.html#a1311d2dfe5c00b40e9f4a4fdf046f0e3">GetValue</a>(<span class="stringliteral">&quot;DataSet.ScanFile.OpenTimeout&quot;</span>, -1);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <a class="code" href="classTString.html">TString</a> fileopt;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="keywordflow">if</span> (timeout &gt; 0) fileopt.<a class="code" href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">Form</a>(<span class="stringliteral">&quot;TIMEOUT=%d&quot;</span>, timeout);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="comment">// To determine the size we have to open the file without the anchor</span></div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <span class="comment">// (otherwise we get the size of the contained file - in case of a zip archive)</span></div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <span class="comment">// We open in raw mode which makes sure that the opening succeeds, even if</span></div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   <span class="comment">// the file is corrupted</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *furl = url-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>();</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <a class="code" href="classTString.html">TString</a> urlmod;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a6b93d31f16a2f72a5cbc928193d36fce">TDataSetManager::CheckDataSetSrvMaps</a>(url, urlmod) &amp;&amp; !(urlmod.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()))</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      furl = urlmod.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>();</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   <span class="keywordflow">if</span> (strlen(url-&gt;<a class="code" href="classTUrl.html#acb049b67ef52d25429fe223a22f265ef">GetAnchor</a>()) &gt; 0) {</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      anchor = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="comment">// We need a raw open firts to get the real size of the file</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <a class="code" href="classTUrl.html">TUrl</a> urlNoAnchor(furl);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      urlNoAnchor.<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <a class="code" href="classTString.html">TString</a> unaopts = urlNoAnchor.<a class="code" href="classTUrl.html#ad99fa0697d16b137338259fb3eab4e65">GetOptions</a>();</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      <span class="keywordflow">if</span> (!unaopts.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()) {</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;         unaopts += <span class="stringliteral">&quot;&amp;filetype=raw&quot;</span>;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;         unaopts = <span class="stringliteral">&quot;filetype=raw&quot;</span>;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      }</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      urlNoAnchor.<a class="code" href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">SetOptions</a>(unaopts);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="comment">// Wait max 5 secs per file</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="namespacefile.html">file</a> = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>(urlNoAnchor.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), fileopt))) <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <span class="comment">// Save some relevant info</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacefile.html">file</a>-&gt;GetSize() &gt; 0) fileinfo-&gt;<a class="code" href="classTFileInfo.html#afd56c9a468518d684efa587c0a145d68">SetSize</a>(<a class="code" href="namespacefile.html">file</a>-&gt;GetSize());</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      fileinfo-&gt;<a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      fileinfo-&gt;<a class="code" href="classTFileInfo.html#ada7d6de758d664bc898443ee36faa564">SetUUID</a>(<a class="code" href="namespacefile.html">file</a>-&gt;GetUUID().AsString());</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="comment">// Add url of the disk server in front of the list</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacefile.html">file</a>-&gt;GetEndpointUrl()) {</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;         <span class="comment">// add endpoint url if it is not a local file</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;         <a class="code" href="classTUrl.html">TUrl</a> eurl(*(<a class="code" href="namespacefile.html">file</a>-&gt;GetEndpointUrl()));</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;         <span class="keywordflow">if</span> (strcmp(eurl.<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>(), <span class="stringliteral">&quot;file&quot;</span>) ||</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            !strcmp(eurl.<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>(), url-&gt;<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>())) {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            eurl.<a class="code" href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">SetOptions</a>(url-&gt;<a class="code" href="classTUrl.html#ad99fa0697d16b137338259fb3eab4e65">GetOptions</a>());</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            eurl.<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(url-&gt;<a class="code" href="classTUrl.html#acb049b67ef52d25429fe223a22f265ef">GetAnchor</a>());</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            <span class="comment">// Fix the hostname</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <span class="keywordflow">if</span> (!strcmp(eurl.<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), <span class="stringliteral">&quot;localhost&quot;</span>) || !strcmp(eurl.<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), <span class="stringliteral">&quot;127.0.0.1&quot;</span>) ||</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;               !strcmp(eurl.<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), <span class="stringliteral">&quot;localhost.localdomain&quot;</span>)) {</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;               eurl.<a class="code" href="classTUrl.html#ad078a1ae33a8f6fe07be47983fff5e30">SetHost</a>(<a class="code" href="classTUrl.html">TUrl</a>(<a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#aab4a8ac24bc42a135aa6584be2cb415c">HostName</a>()).GetHostFQDN());</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            }</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <span class="comment">// Add only if different</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            <span class="keywordflow">if</span> (strcmp(eurl.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), url-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>()))</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;               fileinfo-&gt;<a class="code" href="classTFileInfo.html#a42c3729a957737a3ba2867d1733624b2">AddUrl</a>(eurl.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0) <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanFile&quot;</span>, <span class="stringliteral">&quot;added URL %s&quot;</span>, eurl.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;         }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;         <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">::Warning</a>(<span class="stringliteral">&quot;TDataSetManager::ScanFile&quot;</span>, <span class="stringliteral">&quot;end-point URL undefined for file %s&quot;</span>, <a class="code" href="namespacefile.html">file</a>-&gt;GetName());</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      }</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <a class="code" href="namespacefile.html">file</a>-&gt;Close();</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keyword">delete</span> <a class="code" href="namespacefile.html">file</a>;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   }</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;   <span class="comment">// OK, set the relevant flags</span></div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   rc = -1;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   <span class="comment">// Disable warnings when reading a tree without loading the corresponding library</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> oldLevel = <a class="code" href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a>;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;   <a class="code" href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a> = <a class="code" href="TError_8h.html#a28396131242d75810a2eb5988f9ff2ab">kError</a>+1;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;   <span class="comment">// Wait max 5 secs per file</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="namespacefile.html">file</a> = <a class="code" href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a>(url-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), fileopt))) {</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="comment">// If the file could be opened before, but fails now it is corrupt...</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <span class="keywordflow">if</span> (dbg) <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanFile&quot;</span>, <span class="stringliteral">&quot;marking %s as corrupt&quot;</span>, url-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      fileinfo-&gt;<a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838bae8ff1a627e7a2b8f21db56e02a8fa1b2">TFileInfo::kCorrupted</a>);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="comment">// Set back old warning level</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <a class="code" href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a> = oldLevel;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!anchor) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="comment">// Do the relevant settings</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacefile.html">file</a>-&gt;GetSize() &gt; 0) fileinfo-&gt;<a class="code" href="classTFileInfo.html#afd56c9a468518d684efa587c0a145d68">SetSize</a>(<a class="code" href="namespacefile.html">file</a>-&gt;GetSize());</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      fileinfo-&gt;<a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a>);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="comment">// Add url of the disk server in front of the list if it is not a local file</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      <a class="code" href="classTUrl.html">TUrl</a> eurl(*(<a class="code" href="namespacefile.html">file</a>-&gt;GetEndpointUrl()));</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <span class="keywordflow">if</span> (strcmp(eurl.<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>(), <span class="stringliteral">&quot;file&quot;</span>) ||</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;         !strcmp(eurl.<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>(), url-&gt;<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>())) {</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;         eurl.<a class="code" href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">SetOptions</a>(url-&gt;<a class="code" href="classTUrl.html#ad99fa0697d16b137338259fb3eab4e65">GetOptions</a>());</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;         eurl.<a class="code" href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">SetAnchor</a>(url-&gt;<a class="code" href="classTUrl.html#acb049b67ef52d25429fe223a22f265ef">GetAnchor</a>());</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;         <span class="comment">// Fix the hostname</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;         <span class="keywordflow">if</span> (!strcmp(eurl.<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), <span class="stringliteral">&quot;localhost&quot;</span>) || !strcmp(eurl.<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), <span class="stringliteral">&quot;127.0.0.1&quot;</span>) ||</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;             !strcmp(eurl.<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), <span class="stringliteral">&quot;localhost.localdomain&quot;</span>)) {</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;             eurl.<a class="code" href="classTUrl.html#ad078a1ae33a8f6fe07be47983fff5e30">SetHost</a>(<a class="code" href="classTUrl.html">TUrl</a>(<a class="code" href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a>-&gt;<a class="code" href="classTSystem.html#aab4a8ac24bc42a135aa6584be2cb415c">HostName</a>()).GetHostFQDN());</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;         }</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;         <span class="comment">// Add only if different</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;         <span class="keywordflow">if</span> (strcmp(eurl.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), url-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>()))</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            fileinfo-&gt;<a class="code" href="classTFileInfo.html#a42c3729a957737a3ba2867d1733624b2">AddUrl</a>(eurl.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>(), <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0) <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::ScanFile&quot;</span>, <span class="stringliteral">&quot;added URL %s&quot;</span>, eurl.<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>());</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      }</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      fileinfo-&gt;<a class="code" href="classTFileInfo.html#ada7d6de758d664bc898443ee36faa564">SetUUID</a>(<a class="code" href="namespacefile.html">file</a>-&gt;GetUUID().AsString());</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;   }</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;   rc = 0;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;   <span class="comment">// Loop over all entries and create/update corresponding metadata.</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;   <span class="comment">// TODO If we cannot read some of the trees, is the file corrupted as well?</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;   <span class="keywordflow">if</span> ((rc = <a class="code" href="classTDataSetManager.html#a6442e48e24566b5a31b1c9edfdd80fe1">TDataSetManager::FillMetaData</a>(fileinfo, <a class="code" href="namespacefile.html">file</a>, <span class="stringliteral">&quot;/&quot;</span>)) != 0) {</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::ScanFile&quot;</span>,</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;              <span class="stringliteral">&quot;problems processing the directory tree in looking for metainfo&quot;</span>);</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      fileinfo-&gt;<a class="code" href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">SetBit</a>(<a class="code" href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838bae8ff1a627e7a2b8f21db56e02a8fa1b2">TFileInfo::kCorrupted</a>);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      rc = -1;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;   }</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;   <span class="comment">// Set back old warning level</span></div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;   <a class="code" href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a> = oldLevel;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;   <a class="code" href="namespacefile.html">file</a>-&gt;Close();</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;   <span class="keyword">delete</span> <a class="code" href="namespacefile.html">file</a>;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;   <span class="comment">// Done</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;   <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="comment">/// Navigate the directory &#39;d&#39; (and its subdirectories) looking for TTree objects.</span></div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="comment">/// Fill in the relevant metadata information in &#39;fi&#39;. The name of the TFileInfoMeta</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment">/// metadata entry will be &quot;/dir1/dir2/.../tree_name&quot;.</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="comment">/// Return 0 on success, -1 if any problem happens (object found in keys cannot be read,</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="comment">/// for example)</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01802"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a6442e48e24566b5a31b1c9edfdd80fe1"> 1802</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTDataSetManager.html#a6442e48e24566b5a31b1c9edfdd80fe1">TDataSetManager::FillMetaData</a>(<a class="code" href="classTFileInfo.html">TFileInfo</a> *fi, <a class="code" href="classTDirectory.html">TDirectory</a> *<a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *rdir)</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;{</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   <span class="comment">// Check inputs</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;   <span class="keywordflow">if</span> (!fi || !<a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a> || !rdir) {</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::FillMetaData&quot;</span>,</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;              <span class="stringliteral">&quot;some inputs are invalid (fi:%p,d:%p,r:%s)&quot;</span>, fi, <a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a>, rdir);</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;   }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a>-&gt;GetListOfKeys()) {</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <a class="code" href="classTIter.html">TIter</a> nxk(<a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a>-&gt;GetListOfKeys());</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      <a class="code" href="classTKey.html">TKey</a> *k = 0;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <span class="keywordflow">while</span> ((k = dynamic_cast&lt;TKey *&gt; (nxk()))) {</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="classTClass.html#a4a5443bb08096e49cb6b1bce1d07139d">TClass::GetClass</a>(k-&gt;GetClassName())-&gt;<a class="code" href="classTObject.html#ab80cf94f9f66badac741633f944ae02a">InheritsFrom</a>(<a class="code" href="Class_8C.html#adcfdef0a91f6e5dcab5b9c14cf964be5">TDirectory::Class</a>())) {</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            <span class="comment">// Get the directory</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            <a class="code" href="classTDirectory.html">TDirectory</a> *sd = (<a class="code" href="classTDirectory.html">TDirectory</a> *) <a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a>-&gt;Get(k-&gt;GetName());</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="keywordflow">if</span> (!sd) {</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;               <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::FillMetaData&quot;</span>, <span class="stringliteral">&quot;cannot get sub-directory &#39;%s&#39;&quot;</span>, k-&gt;GetName());</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            }</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classTDataSetManager.html#a6442e48e24566b5a31b1c9edfdd80fe1">TDataSetManager::FillMetaData</a>(fi, sd, <a class="code" href="classTString.html#ac34bbb89627e20624a416dfbb7a3db70">TString::Format</a>(<span class="stringliteral">&quot;%s%s/&quot;</span>, rdir, k-&gt;GetName())) != 0) {</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;               <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::FillMetaData&quot;</span>, <span class="stringliteral">&quot;problems processing sub-directory &#39;%s&#39;&quot;</span>, k-&gt;GetName());</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            }</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            <span class="comment">// We process only trees</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classTClass.html#a4a5443bb08096e49cb6b1bce1d07139d">TClass::GetClass</a>(k-&gt;GetClassName())-&gt;<a class="code" href="classTObject.html#ab80cf94f9f66badac741633f944ae02a">InheritsFrom</a>(<a class="code" href="Class_8C.html#adcfdef0a91f6e5dcab5b9c14cf964be5">TTree::Class</a>())) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            <a class="code" href="classTString.html">TString</a> ks;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            ks.<a class="code" href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">Form</a>(<span class="stringliteral">&quot;%s%s&quot;</span>, rdir, k-&gt;GetName());</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <a class="code" href="classTFileInfoMeta.html">TFileInfoMeta</a> *md = fi-&gt;<a class="code" href="classTFileInfo.html#ad8ce329ee3449da0705a2b0ae0ea5b71">GetMetaData</a>(ks);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <span class="keywordflow">if</span> (!md) {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;               <span class="comment">// Create it</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;               md = <span class="keyword">new</span> <a class="code" href="classTFileInfoMeta.html">TFileInfoMeta</a>(ks, k-&gt;GetClassName());</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;               fi-&gt;<a class="code" href="classTFileInfo.html#a4f1e03727d59d04f6af21e176c01e9dd">AddMetaData</a>(md);</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                  <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">::Info</a>(<span class="stringliteral">&quot;TDataSetManager::FillMetaData&quot;</span>, <span class="stringliteral">&quot;created meta data for tree %s&quot;</span>, ks.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            }</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <span class="comment">// Fill values</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            <a class="code" href="classTTree.html">TTree</a> *t = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTTree.html">TTree</a> *<span class="keyword">&gt;</span> (<a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a>-&gt;Get(k-&gt;GetName()));</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            <span class="keywordflow">if</span> (t) {</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;               <span class="keywordflow">if</span> (t-&gt;<a class="code" href="classTTree.html#a6d2d812b687b34a8185c955727fb9575">GetEntries</a>() &gt;= 0) {</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                  md-&gt;<a class="code" href="classTFileInfoMeta.html#ae3b9fb4b599bbcf3d1b3a461369b01e8">SetEntries</a>(t-&gt;<a class="code" href="classTTree.html#a6d2d812b687b34a8185c955727fb9575">GetEntries</a>());</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                  <span class="keywordflow">if</span> (t-&gt;<a class="code" href="classTTree.html#a7cd54f9e3663ae1d9d9229fd5c239009">GetTotBytes</a>() &gt;= 0)</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                     md-&gt;<a class="code" href="classTFileInfoMeta.html#ac0ff8b9bbcf286ca5f0178e8308e4b9c">SetTotBytes</a>(t-&gt;<a class="code" href="classTTree.html#a7cd54f9e3663ae1d9d9229fd5c239009">GetTotBytes</a>());</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                  <span class="keywordflow">if</span> (t-&gt;<a class="code" href="classTTree.html#a786375a91e28a871d4d6da9e313ceeb0">GetZipBytes</a>() &gt;= 0)</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                     md-&gt;<a class="code" href="classTFileInfoMeta.html#ade11de7770ed088dc9f1b06053be4f75">SetZipBytes</a>(t-&gt;<a class="code" href="classTTree.html#a786375a91e28a871d4d6da9e313ceeb0">GetZipBytes</a>());</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;               }</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;               <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">::Error</a>(<span class="stringliteral">&quot;TDataSetManager::FillMetaData&quot;</span>, <span class="stringliteral">&quot;could not get tree &#39;%s&#39;&quot;</span>, k-&gt;GetName());</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            }</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;         }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      }</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;   }</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   <span class="comment">// Done</span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;}</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="comment">/// Create a server mapping list from the content of &#39;srvmaps&#39;</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment">/// Return the list (owned by the caller) or 0 if no valid info could be found)</span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01868"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a3ae51bf774e3b820c3cf09687bc008d4"> 1868</a></span>&#160;<a class="code" href="classTList.html">TList</a> *<a class="code" href="classTDataSetManager.html#a3ae51bf774e3b820c3cf09687bc008d4">TDataSetManager::ParseDataSetSrvMaps</a>(<span class="keyword">const</span> <a class="code" href="classTString.html">TString</a> &amp;srvmaps)</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;{</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;   <a class="code" href="classTList.html">TList</a> *srvmapslist = 0;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;   <span class="keywordflow">if</span> (srvmaps.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()) {</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">::Warning</a>(<span class="stringliteral">&quot;TDataSetManager::ParseDataSetSrvMaps&quot;</span>,</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                <span class="stringliteral">&quot;called with an empty string! - nothing to do&quot;</span>);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="keywordflow">return</span> srvmapslist;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;   }</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;   <a class="code" href="classTString.html">TString</a> srvmap, sf, st;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> from = 0, from1 = 0;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;   <span class="keywordflow">while</span> (srvmaps.<a class="code" href="classTString.html#a689ddf39f10539c879dcee0c5f4113ec">Tokenize</a>(srvmap, from, <span class="stringliteral">&quot; &quot;</span>)) {</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      sf = <span class="stringliteral">&quot;&quot;</span>; st = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <span class="keywordflow">if</span> (srvmap.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;|&quot;</span>)) {</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;         from1 = 0;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;         <span class="keywordflow">if</span> (srvmap.<a class="code" href="classTString.html#a689ddf39f10539c879dcee0c5f4113ec">Tokenize</a>(sf, from1, <span class="stringliteral">&quot;|&quot;</span>))</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="keywordflow">if</span> (srvmap.<a class="code" href="classTString.html#a689ddf39f10539c879dcee0c5f4113ec">Tokenize</a>(st, from1, <span class="stringliteral">&quot;|&quot;</span>)) { }</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;         st = srvmap;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      }</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <span class="keywordflow">if</span> (st.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()) {</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;         <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">::Warning</a>(<span class="stringliteral">&quot;TDataSetManager::ParseDataSetSrvMaps&quot;</span>,</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                   <span class="stringliteral">&quot;parsing DataSet.SrvMaps: target must be defined&quot;</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                   <span class="stringliteral">&quot; (token: %s) - ignoring&quot;</span>, srvmap.<a class="code" href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">Data</a>());</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(st.<a class="code" href="classTString.html#a2b2e907b9681d08cec32c853171c06a1">EndsWith</a>(<span class="stringliteral">&quot;/&quot;</span>))) {</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;         st += <span class="stringliteral">&quot;/&quot;</span>;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      }</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <span class="comment">// TUrl if wildcards or TObjString</span></div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <a class="code" href="classTString.html">TString</a> sp;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <a class="code" href="classTUrl.html">TUrl</a> *u = 0;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <span class="keywordflow">if</span> (!(sf.<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>()) &amp;&amp; sf.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(<span class="stringliteral">&quot;*&quot;</span>)) {</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;         u = <span class="keyword">new</span> <a class="code" href="classTUrl.html">TUrl</a>(sf);</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;         <span class="keywordflow">if</span> (!(sf.<a class="code" href="classTString.html#a6d92a45f8b4c0c4d2ed7f318a2cb6f95">BeginsWith</a>(u-&gt;<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>()))) u-&gt;<a class="code" href="classTUrl.html#a647f82f245b6ae279db929a8a7d882c5">SetProtocol</a>(<span class="stringliteral">&quot;root&quot;</span>);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;         sp.<a class="code" href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">Form</a>(<span class="stringliteral">&quot;:%d&quot;</span>, u-&gt;<a class="code" href="classTUrl.html#adf7e1a48e9fb6ef3d704623bb48a2e34">GetPort</a>());</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;         <span class="keywordflow">if</span> (!(sf.<a class="code" href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">Contains</a>(sp))) u-&gt;<a class="code" href="classTUrl.html#adf7cfdf719592f26c98fa4a4fa7ed7dc">SetPort</a>(1094);</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="classTString.html">TString</a>(u-&gt;<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>()).Contains(<span class="stringliteral">&quot;*&quot;</span>)) <a class="code" href="RConfig_8hxx.html#ad85ff86df420c560e9e8f1d80b510905">SafeDelete</a>(u);</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      }</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <span class="keywordflow">if</span> (!srvmapslist) srvmapslist = <span class="keyword">new</span> <a class="code" href="classTList.html">TList</a>;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      <span class="keywordflow">if</span> (u) {</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;         srvmapslist-&gt;<a class="code" href="classTList.html#a1b90ccfbde1729266b585194fa45df14">Add</a>(<span class="keyword">new</span> <a class="code" href="classTPair.html">TPair</a>(u, <span class="keyword">new</span> <a class="code" href="classTObjString.html">TObjString</a>(st)));</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;         srvmapslist-&gt;<a class="code" href="classTList.html#a1b90ccfbde1729266b585194fa45df14">Add</a>(<span class="keyword">new</span> <a class="code" href="classTPair.html">TPair</a>(<span class="keyword">new</span> <a class="code" href="classTObjString.html">TObjString</a>(sf), <span class="keyword">new</span> <a class="code" href="classTObjString.html">TObjString</a>(st)));</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      }</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;   }</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;   <span class="comment">// Done</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;   <span class="keywordflow">if</span> (srvmapslist) srvmapslist-&gt;<a class="code" href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">SetOwner</a>(<a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;   <span class="keywordflow">return</span> srvmapslist;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;}</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="comment">/// Static getter for server mapping list</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01920"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a1c971d2816ab6268bff78ffe0bce4791"> 1920</a></span>&#160;<a class="code" href="classTList.html">TList</a> *<a class="code" href="classTDataSetManager.html#a1c971d2816ab6268bff78ffe0bce4791">TDataSetManager::GetDataSetSrvMaps</a>()</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;{</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classTDataSetManager.html#aa4ffba2f0bb928bb2414df44b18ab72a">fgDataSetSrvMaps</a>;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;}</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">/// Check if the dataset server mappings apply to the url defined by &#39;furl&#39;.</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">/// Use srvmaplist if defined, else use the default list.</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">/// If yes, resolve the mapping into file1 and return kTRUE.</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment">/// Otherwise return kFALSE.</span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a6b93d31f16a2f72a5cbc928193d36fce"> 1931</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTDataSetManager.html#a6b93d31f16a2f72a5cbc928193d36fce">TDataSetManager::CheckDataSetSrvMaps</a>(<a class="code" href="classTUrl.html">TUrl</a> *furl, <a class="code" href="classTString.html">TString</a> &amp;file1, <a class="code" href="classTList.html">TList</a> *srvmaplist)</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;{</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> replaced = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;   <span class="keywordflow">if</span> (!furl) <span class="keywordflow">return</span> replaced;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacefile.html">file</a> = furl-&gt;<a class="code" href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">GetUrl</a>();</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;   <a class="code" href="classTList.html">TList</a> *mlist = (srvmaplist) ? srvmaplist : <a class="code" href="classTDataSetManager.html#aa4ffba2f0bb928bb2414df44b18ab72a">fgDataSetSrvMaps</a>;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;   <span class="keywordflow">if</span> (mlist &amp;&amp; mlist-&gt;<a class="code" href="classTCollection.html#af0ca154693eeb1e9d9a0ff3a8d43e466">GetSize</a>() &gt; 0) {</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      <a class="code" href="classTIter.html">TIter</a> nxm(mlist);</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      <a class="code" href="classTPair.html">TPair</a> *pr = 0;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <span class="keywordflow">while</span> ((pr = (<a class="code" href="classTPair.html">TPair</a> *) nxm())) {</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;         <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> replace = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;         <span class="comment">// If TUrl apply reg exp on host</span></div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;         <a class="code" href="classTUrl.html">TUrl</a> *u = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTUrl.html">TUrl</a> *<span class="keyword">&gt;</span>(pr-&gt;<a class="code" href="classTPair.html#a074e432ed87cae74b60398f315e66aa7">Key</a>());</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;         <span class="keywordflow">if</span> (u) {</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            <span class="keywordflow">if</span> (!strcmp(u-&gt;<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>(), furl-&gt;<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>())) {</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;               <a class="code" href="RtypesCore_8h.html#a649fe0f43fc2d393d99c5d39848f96b9">Ssiz_t</a> len;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;               <span class="keywordflow">if</span> (!strcmp(u-&gt;<a class="code" href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">GetProtocol</a>(), <span class="stringliteral">&quot;file&quot;</span>)) {</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                  <a class="code" href="classTRegexp.html">TRegexp</a> re(u-&gt;<a class="code" href="classTUrl.html#a3536608b7dfa9957f6148ec5856c5df4">GetFileAndOptions</a>(), <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                  <span class="keywordflow">if</span> (re.Index(furl-&gt;<a class="code" href="classTUrl.html#a3536608b7dfa9957f6148ec5856c5df4">GetFileAndOptions</a>(), &amp;len) == 0) replace = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                  <span class="keywordflow">if</span> (u-&gt;<a class="code" href="classTUrl.html#adf7e1a48e9fb6ef3d704623bb48a2e34">GetPort</a>() == furl-&gt;<a class="code" href="classTUrl.html#adf7e1a48e9fb6ef3d704623bb48a2e34">GetPort</a>()) {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                     <a class="code" href="classTRegexp.html">TRegexp</a> re(u-&gt;<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                     <span class="keywordflow">if</span> (re.Index(furl-&gt;<a class="code" href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">GetHost</a>(), &amp;len) == 0) replace = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                  }</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;               }</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            }</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <a class="code" href="classTObjString.html">TObjString</a> *os = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTObjString.html">TObjString</a> *<span class="keyword">&gt;</span>(pr-&gt;<a class="code" href="classTPair.html#a074e432ed87cae74b60398f315e66aa7">Key</a>());</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            <span class="keywordflow">if</span> (os) {</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;               <span class="keywordflow">if</span> (os-&gt;<a class="code" href="classTObjString.html#a7e864e8291203db6bca6d15e600e7d2d">GetString</a>().<a class="code" href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">IsNull</a>() ||</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                   !strncmp(<a class="code" href="namespacefile.html">file</a>, os-&gt;<a class="code" href="classTObjString.html#a4004b639f59f97e02ba47dc05468cc82">GetName</a>(), os-&gt;<a class="code" href="classTObjString.html#a7e864e8291203db6bca6d15e600e7d2d">GetString</a>().<a class="code" href="classTString.html#a04e631ef510bdd4071c37b54fde0c1a7">Length</a>())) replace = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            }</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;         }</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;         <span class="keywordflow">if</span> (replace) {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            <a class="code" href="classTObjString.html">TObjString</a> *ost = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTObjString.html">TObjString</a> *<span class="keyword">&gt;</span>(pr-&gt;<a class="code" href="classTPair.html#a3ad62ba44b70bb58fca699440e5b5537">Value</a>());</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            <span class="keywordflow">if</span> (ost) {</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;               file1.<a class="code" href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">Form</a>(<span class="stringliteral">&quot;%s%s&quot;</span>, ost-&gt;<a class="code" href="classTObjString.html#a4004b639f59f97e02ba47dc05468cc82">GetName</a>(), furl-&gt;<a class="code" href="classTUrl.html#a3536608b7dfa9957f6148ec5856c5df4">GetFileAndOptions</a>());</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;               replaced = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            }</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;         }</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      }</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;   }</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;   <span class="comment">// Done</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;   <span class="keywordflow">return</span> replaced;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;}</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="comment">/// Update scan counters</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01982"></a><span class="lineno"><a class="line" href="classTDataSetManager.html#a7780344d9adcf082e7286a139f143758"> 1982</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTDataSetManager.html#a7780344d9adcf082e7286a139f143758">TDataSetManager::SetScanCounters</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> t, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> o, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a>)</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;{</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;   <a class="code" href="classTDataSetManager.html#aa8bf0b3c21290df26b2d483d53c9cbd9">fNTouchedFiles</a> = (t &gt; -1) ? t : <a class="code" href="classTDataSetManager.html#aa8bf0b3c21290df26b2d483d53c9cbd9">fNTouchedFiles</a>;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;   <a class="code" href="classTDataSetManager.html#a5a62ede9707c7f624aa7675848874b5f">fNOpenedFiles</a> = (o &gt; -1) ? o : <a class="code" href="classTDataSetManager.html#a5a62ede9707c7f624aa7675848874b5f">fNOpenedFiles</a>;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   <a class="code" href="classTDataSetManager.html#a774e02fec0a8c7b7c00b7e6b29bdf43f">fNDisappearedFiles</a> = (<a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a> &gt; -1) ? <a class="code" href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a> : <a class="code" href="classTDataSetManager.html#a774e02fec0a8c7b7c00b7e6b29bdf43f">fNDisappearedFiles</a>;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;}</div><div class="ttc" id="TFileInfo_8h_html"><div class="ttname"><a href="TFileInfo_8h.html">TFileInfo.h</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a6b93d31f16a2f72a5cbc928193d36fce"><div class="ttname"><a href="classTDataSetManager.html#a6b93d31f16a2f72a5cbc928193d36fce">TDataSetManager::CheckDataSetSrvMaps</a></div><div class="ttdeci">static Bool_t CheckDataSetSrvMaps(TUrl *furl, TString &amp;fn, TList *srvmaplist=0)</div><div class="ttdoc">Check if the dataset server mappings apply to the url defined by &amp;#39;furl&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01931">TDataSetManager.cxx:1931</a></div></div>
<div class="ttc" id="classTDataSetManager_html_aa8bf0b3c21290df26b2d483d53c9cbd9"><div class="ttname"><a href="classTDataSetManager.html#aa8bf0b3c21290df26b2d483d53c9cbd9">TDataSetManager::fNTouchedFiles</a></div><div class="ttdeci">Int_t fNTouchedFiles</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00058">TDataSetManager.h:58</a></div></div>
<div class="ttc" id="classTFileStager_html_a633f5c7621bf49b8346d5b2effcdd8e8"><div class="ttname"><a href="classTFileStager.html#a633f5c7621bf49b8346d5b2effcdd8e8">TFileStager::IsStaged</a></div><div class="ttdeci">virtual Bool_t IsStaged(const char *)</div><div class="ttdoc">Just check if the file exists locally. </div><div class="ttdef"><b>Definition:</b> <a href="TFileStager_8cxx_source.html#l00126">TFileStager.cxx:126</a></div></div>
<div class="ttc" id="classTSystem_html_a849c28ea0dd3b3aa3310a4d447c7b21a"><div class="ttname"><a href="classTSystem.html#a849c28ea0dd3b3aa3310a4d447c7b21a">TSystem::AccessPathName</a></div><div class="ttdeci">virtual Bool_t AccessPathName(const char *path, EAccessMode mode=kFileExists)</div><div class="ttdoc">Returns FALSE if one can access a file using the specified access mode. </div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8cxx_source.html#l01278">TSystem.cxx:1278</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a27e2720edf771932acacfacf43a90f98a08e9be55cea5e38a9cc64a2b06dbcd07"><div class="ttname"><a href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a08e9be55cea5e38a9cc64a2b06dbcd07">TDataSetManager::kTrustInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00088">TDataSetManager.h:88</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a5f9c4a52eb6d26ee4d6b9b98db3a8407"><div class="ttname"><a href="classTDataSetManager.html#a5f9c4a52eb6d26ee4d6b9b98db3a8407">TDataSetManager::fCommonUser</a></div><div class="ttdeci">TString fCommonUser</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00047">TDataSetManager.h:47</a></div></div>
<div class="ttc" id="classTObject_html_afc345b772a999b230e011b316d8ae328"><div class="ttname"><a href="classTObject.html#afc345b772a999b230e011b316d8ae328">TObject::Info</a></div><div class="ttdeci">virtual void Info(const char *method, const char *msgfmt,...) const</div><div class="ttdoc">Issue info message. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00854">TObject.cxx:854</a></div></div>
<div class="ttc" id="classTUrl_html_adf7cfdf719592f26c98fa4a4fa7ed7dc"><div class="ttname"><a href="classTUrl.html#adf7cfdf719592f26c98fa4a4fa7ed7dc">TUrl::SetPort</a></div><div class="ttdeci">void SetPort(Int_t port)</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00091">TUrl.h:91</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ac2eda5a3c480b42ffeea38b1bf8c83dd"><div class="ttname"><a href="classTDataSetManager.html#ac2eda5a3c480b42ffeea38b1bf8c83dd">TDataSetManager::ClearCache</a></div><div class="ttdeci">virtual Int_t ClearCache(const char *uri)</div><div class="ttdoc">Clear cached information matching uri. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00787">TDataSetManager.cxx:787</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_adaf6e69e06203ab5ae4994d1e7590647"><div class="ttname"><a href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a></div><div class="ttdeci">long long Long64_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00069">RtypesCore.h:69</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aae2b79a0ea1f076799c076a03aa32de2e"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aae2b79a0ea1f076799c076a03aa32de2e">TDataSetManager::kTouch</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00099">TDataSetManager.h:99</a></div></div>
<div class="ttc" id="classTFileInfo_html_ada7d6de758d664bc898443ee36faa564"><div class="ttname"><a href="classTFileInfo.html#ada7d6de758d664bc898443ee36faa564">TFileInfo::SetUUID</a></div><div class="ttdeci">void SetUUID(const char *uuid)</div><div class="ttdoc">Set the UUID to the value associated to the string &amp;#39;uuid&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8cxx_source.html#l00237">TFileInfo.cxx:237</a></div></div>
<div class="ttc" id="TError_8h_html_ad79dd6699eb25a20c4f95d4f7a0b6407"><div class="ttname"><a href="TError_8h.html#ad79dd6699eb25a20c4f95d4f7a0b6407">gErrorIgnoreLevel</a></div><div class="ttdeci">R__EXTERN Int_t gErrorIgnoreLevel</div><div class="ttdef"><b>Definition:</b> <a href="TError_8h_source.html#l00105">TError.h:105</a></div></div>
<div class="ttc" id="classTDataSetManager_html_aa4ffba2f0bb928bb2414df44b18ab72a"><div class="ttname"><a href="classTDataSetManager.html#aa4ffba2f0bb928bb2414df44b18ab72a">TDataSetManager::fgDataSetSrvMaps</a></div><div class="ttdeci">static TList * fgDataSetSrvMaps</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00067">TDataSetManager.h:67</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa72b59a281c15e5c67ab7956a6195f263"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa72b59a281c15e5c67ab7956a6195f263">TDataSetManager::kForceScan</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00096">TDataSetManager.h:96</a></div></div>
<div class="ttc" id="classTUrl_html_a647f82f245b6ae279db929a8a7d882c5"><div class="ttname"><a href="classTUrl.html#a647f82f245b6ae279db929a8a7d882c5">TUrl::SetProtocol</a></div><div class="ttdeci">void SetProtocol(const char *proto, Bool_t setDefaultPort=kFALSE)</div><div class="ttdoc">Set protocol and, optionally, change the port accordingly. </div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8cxx_source.html#l00518">TUrl.cxx:518</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ac3bee0eb3c5ed5f0b6e476bb51f9808a"><div class="ttname"><a href="classTDataSetManager.html#ac3bee0eb3c5ed5f0b6e476bb51f9808a">TDataSetManager::ParseInitOpts</a></div><div class="ttdeci">virtual void ParseInitOpts(const char *opts)</div><div class="ttdoc">Parse the opts string and set the init bits accordingly Available options: Cq: set kCheckQuota Ar: se...</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00150">TDataSetManager.cxx:150</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a8a443a7bf8fa7c42982d8cb9769429f5"><div class="ttname"><a href="classTDataSetManager.html#a8a443a7bf8fa7c42982d8cb9769429f5">TDataSetManager::fGroupConfigFile</a></div><div class="ttdeci">TString fGroupConfigFile</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00062">TDataSetManager.h:62</a></div></div>
<div class="ttc" id="entrylistblock__figure1_8C_html_a4fa05b1f00fcde100685cc887554b93b"><div class="ttname"><a href="entrylistblock__figure1_8C.html#a4fa05b1f00fcde100685cc887554b93b">line</a></div><div class="ttdeci">TLine * line</div><div class="ttdef"><b>Definition:</b> <a href="entrylistblock__figure1_8C_source.html#l00235">entrylistblock_figure1.C:235</a></div></div>
<div class="ttc" id="classTObjString_html"><div class="ttname"><a href="classTObjString.html">TObjString</a></div><div class="ttdoc">Collectable string class. </div><div class="ttdef"><b>Definition:</b> <a href="TObjString_8h_source.html#l00028">TObjString.h:28</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_aeea98adf47c4604318761944f6780133"><div class="ttname"><a href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a></div><div class="ttdeci">float Float_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00053">RtypesCore.h:53</a></div></div>
<div class="ttc" id="TPRegexp_8h_html"><div class="ttname"><a href="TPRegexp_8h.html">TPRegexp.h</a></div></div>
<div class="ttc" id="classTFileCollection_html_aa80a3544322f0f8229bbb63adb804f66"><div class="ttname"><a href="classTFileCollection.html#aa80a3544322f0f8229bbb63adb804f66">TFileCollection::GetTotalSize</a></div><div class="ttdeci">Long64_t GetTotalSize() const</div><div class="ttdef"><b>Definition:</b> <a href="TFileCollection_8h_source.html#l00085">TFileCollection.h:85</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a2c5c48964d999d2c8252186e7ea2b022"><div class="ttname"><a href="RtypesCore_8h.html#a2c5c48964d999d2c8252186e7ea2b022">kNPOS</a></div><div class="ttdeci">const Ssiz_t kNPOS</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00111">RtypesCore.h:111</a></div></div>
<div class="ttc" id="classTUrl_html"><div class="ttname"><a href="classTUrl.html">TUrl</a></div><div class="ttdoc">This class represents a WWW compatible URL. </div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00035">TUrl.h:35</a></div></div>
<div class="ttc" id="classTString_html_a5072f18275913ec22cfa6f7c0c70c557"><div class="ttname"><a href="classTString.html#a5072f18275913ec22cfa6f7c0c70c557">TString::ReplaceAll</a></div><div class="ttdeci">TString &amp; ReplaceAll(const TString &amp;s1, const TString &amp;s2)</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00687">TString.h:687</a></div></div>
<div class="ttc" id="classTFileInfo_html_a556905556f1025702bf87b02ecddddff"><div class="ttname"><a href="classTFileInfo.html#a556905556f1025702bf87b02ecddddff">TFileInfo::RemoveUrl</a></div><div class="ttdeci">Bool_t RemoveUrl(const char *url)</div><div class="ttdoc">Remove an URL. Returns kTRUE if successful, kFALSE otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8cxx_source.html#l00320">TFileInfo.cxx:320</a></div></div>
<div class="ttc" id="classTSystem_html_a81a90c1f786d60ac48a95ab47ad23f3a"><div class="ttname"><a href="classTSystem.html#a81a90c1f786d60ac48a95ab47ad23f3a">TSystem::GetPathInfo</a></div><div class="ttdeci">int GetPathInfo(const char *path, Long_t *id, Long_t *size, Long_t *flags, Long_t *modtime)</div><div class="ttdoc">Get info about a file: id, size, flags, modification time. </div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8cxx_source.html#l01380">TSystem.cxx:1380</a></div></div>
<div class="ttc" id="classTFileInfo_html_ad79f2f307922e0b4e840414e554b5255"><div class="ttname"><a href="classTFileInfo.html#ad79f2f307922e0b4e840414e554b5255">TFileInfo::GetCurrentUrl</a></div><div class="ttdeci">TUrl * GetCurrentUrl() const</div><div class="ttdoc">Return the current url. </div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8cxx_source.html#l00248">TFileInfo.cxx:248</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa246d792e53b664eabddec2b113262468"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa246d792e53b664eabddec2b113262468">TDataSetManager::kStagedFiles</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00104">TDataSetManager.h:104</a></div></div>
<div class="ttc" id="classTPRegexp_html"><div class="ttname"><a href="classTPRegexp.html">TPRegexp</a></div><div class="ttdef"><b>Definition:</b> <a href="TPRegexp_8h_source.html#l00036">TPRegexp.h:36</a></div></div>
<div class="ttc" id="classTUrl_html_a43c41459e39452f1dd29547d1cb4598b"><div class="ttname"><a href="classTUrl.html#a43c41459e39452f1dd29547d1cb4598b">TUrl::GetProtocol</a></div><div class="ttdeci">const char * GetProtocol() const</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00067">TUrl.h:67</a></div></div>
<div class="ttc" id="classTCollection_html_aa8ef8d5ff9b79c1efe27205e894c99d6"><div class="ttname"><a href="classTCollection.html#aa8ef8d5ff9b79c1efe27205e894c99d6">TCollection::SetOwner</a></div><div class="ttdeci">virtual void SetOwner(Bool_t enable=kTRUE)</div><div class="ttdoc">Set whether this collection is the owner (enable==true) of its content. </div><div class="ttdef"><b>Definition:</b> <a href="TCollection_8cxx_source.html#l00744">TCollection.cxx:744</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa8f73fe8ea1293b110b3ff53d1792a4a9"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa8f73fe8ea1293b110b3ff53d1792a4a9">TDataSetManager::kNoCacheUpdate</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00103">TDataSetManager.h:103</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a97aa4473a37b7ebd34be6a67c50c8d54"><div class="ttname"><a href="classTDataSetManager.html#a97aa4473a37b7ebd34be6a67c50c8d54">TDataSetManager::RemoveDataSet</a></div><div class="ttdeci">virtual Bool_t RemoveDataSet(const char *uri)</div><div class="ttdoc">Removes the indicated dataset. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00431">TDataSetManager.cxx:431</a></div></div>
<div class="ttc" id="TTree_8h_html"><div class="ttname"><a href="TTree_8h.html">TTree.h</a></div></div>
<div class="ttc" id="classTUrl_html_a5954c417af1ae4752f34971f5675e390"><div class="ttname"><a href="classTUrl.html#a5954c417af1ae4752f34971f5675e390">TUrl::SetUrl</a></div><div class="ttdeci">void SetUrl(const char *url, Bool_t defaultIsFile=kFALSE)</div><div class="ttdoc">Parse url character string and split in its different subcomponents. </div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8cxx_source.html#l00108">TUrl.cxx:108</a></div></div>
<div class="ttc" id="classTFileInfoMeta_html_ae3b9fb4b599bbcf3d1b3a461369b01e8"><div class="ttname"><a href="classTFileInfoMeta.html#ae3b9fb4b599bbcf3d1b3a461369b01e8">TFileInfoMeta::SetEntries</a></div><div class="ttdeci">void SetEntries(Long64_t entries)</div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00146">TFileInfo.h:146</a></div></div>
<div class="ttc" id="classTFile_html"><div class="ttname"><a href="classTFile.html">TFile</a></div><div class="ttdoc">A ROOT file is a suite of consecutive data records (TKey instances) with a well defined format...</div><div class="ttdef"><b>Definition:</b> <a href="TFile_8h_source.html#l00048">TFile.h:48</a></div></div>
<div class="ttc" id="classTCollection_html_a8cf45b1d364586aea70541d53950e606"><div class="ttname"><a href="classTCollection.html#a8cf45b1d364586aea70541d53950e606">TCollection::GetEntries</a></div><div class="ttdeci">virtual Int_t GetEntries() const</div><div class="ttdef"><b>Definition:</b> <a href="TCollection_8h_source.html#l00177">TCollection.h:177</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a0e0e0bce6d488fa2c5801d57b27ab0ec"><div class="ttname"><a href="classTDataSetManager.html#a0e0e0bce6d488fa2c5801d57b27ab0ec">TDataSetManager::GetDataSet</a></div><div class="ttdeci">virtual TFileCollection * GetDataSet(const char *uri, const char *server=0)</div><div class="ttdoc">Utility function used in various methods for user dataset upload. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00422">TDataSetManager.cxx:422</a></div></div>
<div class="ttc" id="classTRegexp_html"><div class="ttname"><a href="classTRegexp.html">TRegexp</a></div><div class="ttdoc">Regular expression class. </div><div class="ttdef"><b>Definition:</b> <a href="TRegexp_8h_source.html#l00031">TRegexp.h:31</a></div></div>
<div class="ttc" id="classTUrl_html_a3536608b7dfa9957f6148ec5856c5df4"><div class="ttname"><a href="classTUrl.html#a3536608b7dfa9957f6148ec5856c5df4">TUrl::GetFileAndOptions</a></div><div class="ttdeci">const char * GetFileAndOptions() const</div><div class="ttdoc">Return the file and its options (the string specified behind the ?). </div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8cxx_source.html#l00499">TUrl.cxx:499</a></div></div>
<div class="ttc" id="classTMap_html_a3b5deac1c2345ce1a466134730c8d942"><div class="ttname"><a href="classTMap.html#a3b5deac1c2345ce1a466134730c8d942">TMap::Add</a></div><div class="ttdeci">void Add(TObject *obj)</div><div class="ttdoc">This function may not be used (but we need to provide it since it is a pure virtual in TCollection)...</div><div class="ttdef"><b>Definition:</b> <a href="TMap_8cxx_source.html#l00053">TMap.cxx:53</a></div></div>
<div class="ttc" id="classTString_html_afc98ee43fb8f288ab97b0accb4aaff3c"><div class="ttname"><a href="classTString.html#afc98ee43fb8f288ab97b0accb4aaff3c">TString::Index</a></div><div class="ttdeci">Ssiz_t Index(const char *pat, Ssiz_t i=0, ECaseCompare cmp=kExact) const</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00634">TString.h:634</a></div></div>
<div class="ttc" id="classTObject_html_a38faf62b72bcca7178255935b7ff9ef0"><div class="ttname"><a href="classTObject.html#a38faf62b72bcca7178255935b7ff9ef0">TObject::TestBit</a></div><div class="ttdeci">R__ALWAYS_INLINE Bool_t TestBit(UInt_t f) const</div><div class="ttdef"><b>Definition:</b> <a href="TObject_8h_source.html#l00172">TObject.h:172</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a7780344d9adcf082e7286a139f143758"><div class="ttname"><a href="classTDataSetManager.html#a7780344d9adcf082e7286a139f143758">TDataSetManager::SetScanCounters</a></div><div class="ttdeci">void SetScanCounters(Int_t t=-1, Int_t o=-1, Int_t d=-1)</div><div class="ttdoc">Update scan counters. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01982">TDataSetManager.cxx:1982</a></div></div>
<div class="ttc" id="classTDataSetManager_html_af73a23bb9f7f5b38b6f483cead3faf29"><div class="ttname"><a href="classTDataSetManager.html#af73a23bb9f7f5b38b6f483cead3faf29">TDataSetManager::~TDataSetManager</a></div><div class="ttdeci">virtual ~TDataSetManager()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00128">TDataSetManager.cxx:128</a></div></div>
<div class="ttc" id="TFile_8h_html"><div class="ttname"><a href="TFile_8h.html">TFile.h</a></div></div>
<div class="ttc" id="classTParameter_html_ab254cd0945bc8542b4e5eb1950c2cd31"><div class="ttname"><a href="classTParameter.html#ab254cd0945bc8542b4e5eb1950c2cd31">TParameter::SetVal</a></div><div class="ttdeci">void SetVal(const AParamType &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="TParameter_8h_source.html#l00071">TParameter.h:71</a></div></div>
<div class="ttc" id="classTString_html"><div class="ttname"><a href="classTString.html">TString</a></div><div class="ttdoc">Basic string class. </div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00131">TString.h:131</a></div></div>
<div class="ttc" id="classTDataSetManager_html_af00f942eb319dda124e92458980711fc"><div class="ttname"><a href="classTDataSetManager.html#af00f942eb319dda124e92458980711fc">TDataSetManager::ToBytes</a></div><div class="ttdeci">static Long64_t ToBytes(const char *size=0)</div><div class="ttdoc">Static utility function to gt the number of bytes from a string representation in the form &quot;&lt;digit&gt;&lt;s...</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00388">TDataSetManager.cxx:388</a></div></div>
<div class="ttc" id="RSha256_8hxx_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="RSha256_8hxx.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div><div class="ttdef"><b>Definition:</b> <a href="RSha256_8hxx_source.html#l00104">RSha256.hxx:104</a></div></div>
<div class="ttc" id="classTFileStager_html"><div class="ttname"><a href="classTFileStager.html">TFileStager</a></div><div class="ttdef"><b>Definition:</b> <a href="TFileStager_8h_source.html#l00036">TFileStager.h:36</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a3885b911a54b47a4e61671f45dd45d0b"><div class="ttname"><a href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a></div><div class="ttdeci">int Int_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00041">RtypesCore.h:41</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_aa101f564ac7b845ca31aec2fbc00ce97"><div class="ttname"><a href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a></div><div class="ttdeci">bool Bool_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00059">RtypesCore.h:59</a></div></div>
<div class="ttc" id="structFileStat__t_html"><div class="ttname"><a href="structFileStat__t.html">FileStat_t</a></div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8h_source.html#l00125">TSystem.h:125</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aafb8503dada7cd854f4a48e9abef9085e"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aafb8503dada7cd854f4a48e9abef9085e">TDataSetManager::kNoHeaderPrint</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00097">TDataSetManager.h:97</a></div></div>
<div class="ttc" id="classTUrl_html_ad99fa0697d16b137338259fb3eab4e65"><div class="ttname"><a href="classTUrl.html#ad99fa0697d16b137338259fb3eab4e65">TUrl::GetOptions</a></div><div class="ttdeci">const char * GetOptions() const</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00074">TUrl.h:74</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a88cd48b362a4ae33b2a1c4d4ee191367"><div class="ttname"><a href="classTDataSetManager.html#a88cd48b362a4ae33b2a1c4d4ee191367">TDataSetManager::ShowDataSets</a></div><div class="ttdeci">virtual void ShowDataSets(const char *uri=&quot;*&quot;, const char *opt=&quot;&quot;)</div><div class="ttdoc">Prints formatted information about the dataset &amp;#39;uri&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01099">TDataSetManager.cxx:1099</a></div></div>
<div class="ttc" id="classTUri_html"><div class="ttname"><a href="classTUri.html">TUri</a></div><div class="ttdoc">This class represents a RFC 3986 compatible URI. </div><div class="ttdef"><b>Definition:</b> <a href="TUri_8h_source.html#l00035">TUri.h:35</a></div></div>
<div class="ttc" id="THashList_8h_html"><div class="ttname"><a href="THashList_8h.html">THashList.h</a></div></div>
<div class="ttc" id="structFileStat__t_html_ad2413e9a7789462f7f78ae63a3f27ee3"><div class="ttname"><a href="structFileStat__t.html#ad2413e9a7789462f7f78ae63a3f27ee3">FileStat_t::fMtime</a></div><div class="ttdeci">Long_t fMtime</div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8h_source.html#l00132">TSystem.h:132</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa3143d5fa6107534722f23db7885bfbfe"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa3143d5fa6107534722f23db7885bfbfe">TDataSetManager::kLocateOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00101">TDataSetManager.h:101</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a4a8113790f4bc4fe919ff5ae773be4c0"><div class="ttname"><a href="classTDataSetManager.html#a4a8113790f4bc4fe919ff5ae773be4c0">TDataSetManager::CreateUri</a></div><div class="ttdeci">static TString CreateUri(const char *dsGroup=0, const char *dsUser=0, const char *dsName=0, const char *dsTree=0)</div><div class="ttdoc">Creates URI for the dataset manger in the form &amp;#39;[[/dsGroup/]dsUser/]dsName[#dsObjPath]&amp;#39;, The optional dsObjPath can be in the form [subdir/]objname]&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00806">TDataSetManager.cxx:806</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ae6950312ab50914836c7e576049b93df"><div class="ttname"><a href="classTDataSetManager.html#ae6950312ab50914836c7e576049b93df">TDataSetManager::GetGroupQuotaMap</a></div><div class="ttdeci">virtual TMap * GetGroupQuotaMap()</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00117">TDataSetManager.h:117</a></div></div>
<div class="ttc" id="classTFileInfo_html_a42c3729a957737a3ba2867d1733624b2"><div class="ttname"><a href="classTFileInfo.html#a42c3729a957737a3ba2867d1733624b2">TFileInfo::AddUrl</a></div><div class="ttdeci">Bool_t AddUrl(const char *url, Bool_t infront=kFALSE)</div><div class="ttdoc">Add a new URL. </div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8cxx_source.html#l00295">TFileInfo.cxx:295</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a89da4fe25094d16da0dd27a70607b629"><div class="ttname"><a href="classTDataSetManager.html#a89da4fe25094d16da0dd27a70607b629">TDataSetManager::fUser</a></div><div class="ttdeci">TString fUser</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00046">TDataSetManager.h:46</a></div></div>
<div class="ttc" id="classTFileInfo_html_a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959"><div class="ttname"><a href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838ba1fc336100b41ed1c89ef1ec78a2b2959">TFileInfo::kStaged</a></div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00057">TFileInfo.h:57</a></div></div>
<div class="ttc" id="TObjArray_8h_html"><div class="ttname"><a href="TObjArray_8h.html">TObjArray.h</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a296883aa081ba6a80e903724e472847f"><div class="ttname"><a href="classTDataSetManager.html#a296883aa081ba6a80e903724e472847f">TDataSetManager::ProcessFile</a></div><div class="ttdeci">static void ProcessFile(TFileInfo *fileInfo, Int_t sopt, Bool_t checkstg, Bool_t doall, TFileStager *stager, Bool_t createStager, const char *stageopts, Bool_t dbg, Bool_t &amp;changed, Bool_t &amp;opened)</div><div class="ttdoc">Locate, stage, or fully validate file &quot;fileInfo&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01561">TDataSetManager.cxx:1561</a></div></div>
<div class="ttc" id="classTVirtualMonitoringWriter_html"><div class="ttname"><a href="classTVirtualMonitoringWriter.html">TVirtualMonitoringWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="TVirtualMonitoring_8h_source.html#l00030">TVirtualMonitoring.h:30</a></div></div>
<div class="ttc" id="classTObject_html_ab76acb51fb3577fb3c9438f8387949c6"><div class="ttname"><a href="classTObject.html#ab76acb51fb3577fb3c9438f8387949c6">TObject::SetBit</a></div><div class="ttdeci">void SetBit(UInt_t f, Bool_t set)</div><div class="ttdoc">Set or unset the user status bits as specified in f. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00694">TObject.cxx:694</a></div></div>
<div class="ttc" id="classTUrl_html_a19d3e3d35ccc0db7e5bdeab2d2edd1d1"><div class="ttname"><a href="classTUrl.html#a19d3e3d35ccc0db7e5bdeab2d2edd1d1">TUrl::GetUrl</a></div><div class="ttdeci">const char * GetUrl(Bool_t withDeflt=kFALSE) const</div><div class="ttdoc">Return full URL. </div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8cxx_source.html#l00385">TUrl.cxx:385</a></div></div>
<div class="ttc" id="classTUri_html_a64164489cc182540e2c66544245d846b"><div class="ttname"><a href="classTUri.html#a64164489cc182540e2c66544245d846b">TUri::GetPath</a></div><div class="ttdeci">const TString GetPath() const</div><div class="ttdef"><b>Definition:</b> <a href="TUri_8h_source.html#l00087">TUri.h:87</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a27e2720edf771932acacfacf43a90f98a4cadd1520e4d642f335b82962c51e604"><div class="ttname"><a href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a4cadd1520e4d642f335b82962c51e604">TDataSetManager::kUseCache</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00090">TDataSetManager.h:90</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aaebc7d08ccb56868bad8b0ef255ef91c7"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aaebc7d08ccb56868bad8b0ef255ef91c7">TDataSetManager::kNoAction</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00101">TDataSetManager.h:101</a></div></div>
<div class="ttc" id="classTDataSetManager_html_adf39f6aa6e9da5ed9ec0d4af4e5dda36"><div class="ttname"><a href="classTDataSetManager.html#adf39f6aa6e9da5ed9ec0d4af4e5dda36">TDataSetManager::MonitorUsedSpace</a></div><div class="ttdeci">virtual void MonitorUsedSpace(TVirtualMonitoringWriter *monitoring)</div><div class="ttdoc">Log info to the monitoring server. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00674">TDataSetManager.cxx:674</a></div></div>
<div class="ttc" id="civetweb_8c_html_a4d1e08e68d8456f97fbfe21f3e3c85bd"><div class="ttname"><a href="civetweb_8c.html#a4d1e08e68d8456f97fbfe21f3e3c85bd">fc</a></div><div class="ttdeci">static struct mg_connection * fc(struct mg_context *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="civetweb_8c_source.html#l03728">civetweb.c:3728</a></div></div>
<div class="ttc" id="classTUrl_html_a4379ce44dc923f34516bd1dd1b1ffe28"><div class="ttname"><a href="classTUrl.html#a4379ce44dc923f34516bd1dd1b1ffe28">TUrl::GetHost</a></div><div class="ttdeci">const char * GetHost() const</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00070">TUrl.h:70</a></div></div>
<div class="ttc" id="classTFileCollection_html_a22d814ea179aacdc35f2864314adb137"><div class="ttname"><a href="classTFileCollection.html#a22d814ea179aacdc35f2864314adb137">TFileCollection::Update</a></div><div class="ttdeci">Int_t Update(Long64_t avgsize=-1)</div><div class="ttdoc">Update accumulated information about the elements of the collection (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="TFileCollection_8cxx_source.html#l00308">TFileCollection.cxx:308</a></div></div>
<div class="ttc" id="classTUri_html_acc44cb2a421e2917264d8d335d0c3806"><div class="ttname"><a href="classTUri.html#acc44cb2a421e2917264d8d335d0c3806">TUri::SetUri</a></div><div class="ttdeci">Bool_t SetUri(const TString &amp;uri)</div></div>
<div class="ttc" id="classTDataSetManager_html_a15ac652225614bfcb90331928815232a"><div class="ttname"><a href="classTDataSetManager.html#a15ac652225614bfcb90331928815232a">TDataSetManager::fUserUsed</a></div><div class="ttdeci">TMap fUserUsed</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00054">TDataSetManager.h:54</a></div></div>
<div class="ttc" id="structUserGroup__t_html"><div class="ttname"><a href="structUserGroup__t.html">UserGroup_t</a></div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8h_source.html#l00139">TSystem.h:139</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ad08386d1e929068bcd1e051b4c51d70a"><div class="ttname"><a href="classTDataSetManager.html#ad08386d1e929068bcd1e051b4c51d70a">TDataSetManager::TDataSetManager</a></div><div class="ttdeci">TDataSetManager(const TDataSetManager &amp;)</div></div>
<div class="ttc" id="classTString_html_ac34bbb89627e20624a416dfbb7a3db70"><div class="ttname"><a href="classTString.html#ac34bbb89627e20624a416dfbb7a3db70">TString::Format</a></div><div class="ttdeci">static TString Format(const char *fmt,...)</div><div class="ttdoc">Static method which formats a string using a printf style format descriptor and return a TString...</div><div class="ttdef"><b>Definition:</b> <a href="TString_8cxx_source.html#l02311">TString.cxx:2311</a></div></div>
<div class="ttc" id="classTFileInfo_html_a4f1e03727d59d04f6af21e176c01e9dd"><div class="ttname"><a href="classTFileInfo.html#a4f1e03727d59d04f6af21e176c01e9dd">TFileInfo::AddMetaData</a></div><div class="ttdeci">Bool_t AddMetaData(TObject *meta)</div><div class="ttdoc">Add&amp;#39;s a meta data object to the file info object. </div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8cxx_source.html#l00384">TFileInfo.cxx:384</a></div></div>
<div class="ttc" id="Class_8C_html_adcfdef0a91f6e5dcab5b9c14cf964be5"><div class="ttname"><a href="Class_8C.html#adcfdef0a91f6e5dcab5b9c14cf964be5">Class</a></div><div class="ttdeci">void Class()</div><div class="ttdef"><b>Definition:</b> <a href="Class_8C_source.html#l00029">Class.C:29</a></div></div>
<div class="ttc" id="classTIter_html"><div class="ttname"><a href="classTIter.html">TIter</a></div><div class="ttdef"><b>Definition:</b> <a href="TCollection_8h_source.html#l00233">TCollection.h:233</a></div></div>
<div class="ttc" id="classTFileInfo_html_aab4895c00ee18081bd592a8fd4209961"><div class="ttname"><a href="classTFileInfo.html#aab4895c00ee18081bd592a8fd4209961">TFileInfo::GetNUrls</a></div><div class="ttdeci">Int_t GetNUrls() const</div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00074">TFileInfo.h:74</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a92b591dfa3de22c9b3189d3ef422cef5"><div class="ttname"><a href="classTDataSetManager.html#a92b591dfa3de22c9b3189d3ef422cef5">TDataSetManager::ShowQuota</a></div><div class="ttdeci">virtual void ShowQuota(const char *opt)</div><div class="ttdoc">Display quota information. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00586">TDataSetManager.cxx:586</a></div></div>
<div class="ttc" id="classTFileInfo_html_a94135a4a03118ab67e80e5d1e05bfff7"><div class="ttname"><a href="classTFileInfo.html#a94135a4a03118ab67e80e5d1e05bfff7">TFileInfo::GetFirstUrl</a></div><div class="ttdeci">TUrl * GetFirstUrl() const</div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00071">TFileInfo.h:71</a></div></div>
<div class="ttc" id="classTFileInfo_html_afd56c9a468518d684efa587c0a145d68"><div class="ttname"><a href="classTFileInfo.html#afd56c9a468518d684efa587c0a145d68">TFileInfo::SetSize</a></div><div class="ttdeci">void SetSize(Long64_t size)</div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00085">TFileInfo.h:85</a></div></div>
<div class="ttc" id="classTDataSetManager_html"><div class="ttname"><a href="classTDataSetManager.html">TDataSetManager</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00038">TDataSetManager.h:38</a></div></div>
<div class="ttc" id="classTDataSetManager_html_aedfc3c09ece19b4e18a38edf931f7055"><div class="ttname"><a href="classTDataSetManager.html#aedfc3c09ece19b4e18a38edf931f7055">TDataSetManager::RegisterDataSet</a></div><div class="ttdeci">virtual Int_t RegisterDataSet(const char *uri, TFileCollection *dataSet, const char *opt)</div><div class="ttdoc">Register a dataset, perfoming quota checkings, if needed. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00762">TDataSetManager.cxx:762</a></div></div>
<div class="ttc" id="TSystem_8h_html"><div class="ttname"><a href="TSystem_8h.html">TSystem.h</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a1a4ee3f40be0e15da0374dd7e4534ab7"><div class="ttname"><a href="classTDataSetManager.html#a1a4ee3f40be0e15da0374dd7e4534ab7">TDataSetManager::fMTimeGroupConfig</a></div><div class="ttdeci">Long_t fMTimeGroupConfig</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00063">TDataSetManager.h:63</a></div></div>
<div class="ttc" id="classTMap_html_a00d66358bc77f9e3c7838b3908b773dc"><div class="ttname"><a href="classTMap.html#a00d66358bc77f9e3c7838b3908b773dc">TMap::DeleteAll</a></div><div class="ttdeci">void DeleteAll()</div><div class="ttdoc">Remove all (key,value) pairs from the map AND delete the keys AND values when they are allocated on t...</div><div class="ttdef"><b>Definition:</b> <a href="TMap_8cxx_source.html#l00167">TMap.cxx:167</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ab449efff2c106698f803ccddce70c87e"><div class="ttname"><a href="classTDataSetManager.html#ab449efff2c106698f803ccddce70c87e">TDataSetManager::GetGroupQuota</a></div><div class="ttdeci">virtual Long64_t GetGroupQuota(const char *group)</div><div class="ttdoc">returns the quota a group is allowed to have </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00735">TDataSetManager.cxx:735</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a1c971d2816ab6268bff78ffe0bce4791"><div class="ttname"><a href="classTDataSetManager.html#a1c971d2816ab6268bff78ffe0bce4791">TDataSetManager::GetDataSetSrvMaps</a></div><div class="ttdeci">static TList * GetDataSetSrvMaps()</div><div class="ttdoc">Static getter for server mapping list. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01920">TDataSetManager.cxx:1920</a></div></div>
<div class="ttc" id="classTSystem_html_a4ae57a039e0d61296c386e89d6e4dce8"><div class="ttname"><a href="classTSystem.html#a4ae57a039e0d61296c386e89d6e4dce8">TSystem::Getenv</a></div><div class="ttdeci">virtual const char * Getenv(const char *env)</div><div class="ttdoc">Get environment variable. </div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8cxx_source.html#l01644">TSystem.cxx:1644</a></div></div>
<div class="ttc" id="classTString_html_a2b2e907b9681d08cec32c853171c06a1"><div class="ttname"><a href="classTString.html#a2b2e907b9681d08cec32c853171c06a1">TString::EndsWith</a></div><div class="ttdeci">Bool_t EndsWith(const char *pat, ECaseCompare cmp=kExact) const</div><div class="ttdoc">Return true if string ends with the specified string. </div><div class="ttdef"><b>Definition:</b> <a href="TString_8cxx_source.html#l02177">TString.cxx:2177</a></div></div>
<div class="ttc" id="classTSystem_html_af2028da5e7644a078cc7fb1160c1024c"><div class="ttname"><a href="classTSystem.html#af2028da5e7644a078cc7fb1160c1024c">TSystem::GetUserInfo</a></div><div class="ttdeci">virtual UserGroup_t * GetUserInfo(Int_t uid)</div><div class="ttdoc">Returns all user info in the UserGroup_t structure. </div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8cxx_source.html#l01580">TSystem.cxx:1580</a></div></div>
<div class="ttc" id="classTUrl_html_acb049b67ef52d25429fe223a22f265ef"><div class="ttname"><a href="classTUrl.html#acb049b67ef52d25429fe223a22f265ef">TUrl::GetAnchor</a></div><div class="ttdeci">const char * GetAnchor() const</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00073">TUrl.h:73</a></div></div>
<div class="ttc" id="namespaceTGeant4Unit_html_a5d450e80998065902b102dca2a69066a"><div class="ttname"><a href="namespaceTGeant4Unit.html#a5d450e80998065902b102dca2a69066a">TGeant4Unit::s</a></div><div class="ttdeci">static constexpr double s</div><div class="ttdef"><b>Definition:</b> <a href="TGeant4SystemOfUnits_8h_source.html#l00162">TGeant4SystemOfUnits.h:162</a></div></div>
<div class="ttc" id="classTKey_html"><div class="ttname"><a href="classTKey.html">TKey</a></div><div class="ttdoc"> Book space in a file, create I/O buffers, to fill them, (un)compress them. </div><div class="ttdef"><b>Definition:</b> <a href="TKey_8h_source.html#l00024">TKey.h:24</a></div></div>
<div class="ttc" id="classTUri_html_a6a29386ee138458937f99dac280e5025"><div class="ttname"><a href="classTUri.html#a6a29386ee138458937f99dac280e5025">TUri::GetFragment</a></div><div class="ttdeci">const TString GetFragment() const</div><div class="ttdef"><b>Definition:</b> <a href="TUri_8h_source.html#l00089">TUri.h:89</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a0cfb90af340713b71a1924a14d1a231e"><div class="ttname"><a href="classTDataSetManager.html#a0cfb90af340713b71a1924a14d1a231e">TDataSetManager::CheckStagedStatus</a></div><div class="ttdeci">static Bool_t CheckStagedStatus(TFileInfo *fileInfo, Int_t fopt, Int_t maxfiles, Int_t newstagedfiles, TFileStager *stager, Bool_t createStager, Bool_t dbg, Bool_t &amp;changed, Bool_t &amp;touched, Bool_t &amp;disappeared)</div><div class="ttdoc">Check stage status of the file described by &quot;fileInfo&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01415">TDataSetManager.cxx:1415</a></div></div>
<div class="ttc" id="classTPair_html_a3ad62ba44b70bb58fca699440e5b5537"><div class="ttname"><a href="classTPair.html#a3ad62ba44b70bb58fca699440e5b5537">TPair::Value</a></div><div class="ttdeci">TObject * Value() const</div><div class="ttdef"><b>Definition:</b> <a href="TMap_8h_source.html#l00121">TMap.h:121</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a13aaa2dad0d6b558d5261a99655a01f1"><div class="ttname"><a href="classTDataSetManager.html#a13aaa2dad0d6b558d5261a99655a01f1">TDataSetManager::fGroupQuota</a></div><div class="ttdeci">TMap fGroupQuota</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00052">TDataSetManager.h:52</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ad15852aa4c5d076f370d502ed1c21127"><div class="ttname"><a href="classTDataSetManager.html#ad15852aa4c5d076f370d502ed1c21127">TDataSetManager::fCommonGroup</a></div><div class="ttdeci">TString fCommonGroup</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00048">TDataSetManager.h:48</a></div></div>
<div class="ttc" id="TVirtualMonitoring_8h_html"><div class="ttname"><a href="TVirtualMonitoring_8h.html">TVirtualMonitoring.h</a></div></div>
<div class="ttc" id="TMD5_8h_html"><div class="ttname"><a href="TMD5_8h.html">TMD5.h</a></div></div>
<div class="ttc" id="classTList_html"><div class="ttname"><a href="classTList.html">TList</a></div><div class="ttdoc">A doubly linked list. </div><div class="ttdef"><b>Definition:</b> <a href="TList_8h_source.html#l00044">TList.h:44</a></div></div>
<div class="ttc" id="classTFileInfo_html_ad8ce329ee3449da0705a2b0ae0ea5b71"><div class="ttname"><a href="classTFileInfo.html#ad8ce329ee3449da0705a2b0ae0ea5b71">TFileInfo::GetMetaData</a></div><div class="ttdeci">TFileInfoMeta * GetMetaData(const char *meta=0) const</div><div class="ttdoc">Get meta data object with specified name. </div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8cxx_source.html#l00424">TFileInfo.cxx:424</a></div></div>
<div class="ttc" id="classTObjString_html_a4004b639f59f97e02ba47dc05468cc82"><div class="ttname"><a href="classTObjString.html#a4004b639f59f97e02ba47dc05468cc82">TObjString::GetName</a></div><div class="ttdeci">const char * GetName() const</div><div class="ttdoc">Returns name of object. </div><div class="ttdef"><b>Definition:</b> <a href="TObjString_8h_source.html#l00038">TObjString.h:38</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a6a6d412131329f6cb31a44f5a3af40dd"><div class="ttname"><a href="classTDataSetManager.html#a6a6d412131329f6cb31a44f5a3af40dd">TDataSetManager::PrintUsedSpace</a></div><div class="ttdeci">void PrintUsedSpace()</div><div class="ttdoc">Prints the quota. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00639">TDataSetManager.cxx:639</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a1dbe29f120e256986922352295997bf9"><div class="ttname"><a href="classTDataSetManager.html#a1dbe29f120e256986922352295997bf9">TDataSetManager::UpdateUsedSpace</a></div><div class="ttdeci">virtual void UpdateUsedSpace()</div><div class="ttdoc">updates the used space maps </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00753">TDataSetManager.cxx:753</a></div></div>
<div class="ttc" id="classTParameter_html"><div class="ttname"><a href="classTParameter.html">TParameter&lt; Long64_t &gt;</a></div></div>
<div class="ttc" id="classTObjString_html_a7e864e8291203db6bca6d15e600e7d2d"><div class="ttname"><a href="classTObjString.html#a7e864e8291203db6bca6d15e600e7d2d">TObjString::GetString</a></div><div class="ttdeci">const TString &amp; GetString() const</div><div class="ttdef"><b>Definition:</b> <a href="TObjString_8h_source.html#l00046">TObjString.h:46</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ac7f7e5f216b55499e7e72735e3ecaecb"><div class="ttname"><a href="classTDataSetManager.html#ac7f7e5f216b55499e7e72735e3ecaecb">TDataSetManager::GetSubDataSets</a></div><div class="ttdeci">virtual TMap * GetSubDataSets(const char *uri, const char *excludeservers)</div><div class="ttdoc">Partition dataset &amp;#39;ds&amp;#39; accordingly to the servers. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01007">TDataSetManager.cxx:1007</a></div></div>
<div class="ttc" id="classTFileInfoMeta_html"><div class="ttname"><a href="classTFileInfoMeta.html">TFileInfoMeta</a></div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00107">TFileInfo.h:107</a></div></div>
<div class="ttc" id="TObjString_8h_html"><div class="ttname"><a href="TObjString_8h.html">TObjString.h</a></div></div>
<div class="ttc" id="structUserGroup__t_html_a88e91a97f4f89643973b41466774daf1"><div class="ttname"><a href="structUserGroup__t.html#a88e91a97f4f89643973b41466774daf1">UserGroup_t::fUser</a></div><div class="ttdeci">TString fUser</div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8h_source.html#l00142">TSystem.h:142</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa6c650459ed668efc4023115a2dd1e2a8"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa6c650459ed668efc4023115a2dd1e2a8">TDataSetManager::kNoStagedCheck</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00104">TDataSetManager.h:104</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a6442e48e24566b5a31b1c9edfdd80fe1"><div class="ttname"><a href="classTDataSetManager.html#a6442e48e24566b5a31b1c9edfdd80fe1">TDataSetManager::FillMetaData</a></div><div class="ttdeci">static Int_t FillMetaData(TFileInfo *fi, TDirectory *d, const char *rdir=&quot;/&quot;)</div><div class="ttdoc">Navigate the directory &amp;#39;d&amp;#39; (and its subdirectories) looking for TTree objects. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01802">TDataSetManager.cxx:1802</a></div></div>
<div class="ttc" id="TKey_8h_html"><div class="ttname"><a href="TKey_8h.html">TKey.h</a></div></div>
<div class="ttc" id="TSystem_8h_html_ab7182c9ab5a9236e2bc1ed8b3fcb045f"><div class="ttname"><a href="TSystem_8h.html#ab7182c9ab5a9236e2bc1ed8b3fcb045f">gSystem</a></div><div class="ttdeci">R__EXTERN TSystem * gSystem</div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8h_source.html#l00560">TSystem.h:560</a></div></div>
<div class="ttc" id="namespaceTGeant4Unit_html_a9b9c22ca28407dfecdc404f99df537bb"><div class="ttname"><a href="namespaceTGeant4Unit.html#a9b9c22ca28407dfecdc404f99df537bb">TGeant4Unit::pc</a></div><div class="ttdeci">static constexpr double pc</div><div class="ttdef"><b>Definition:</b> <a href="TGeant4SystemOfUnits_8h_source.html#l00130">TGeant4SystemOfUnits.h:130</a></div></div>
<div class="ttc" id="classTFileCollection_html_a17e27fdbc0021c41e6574b10c11a1450"><div class="ttname"><a href="classTFileCollection.html#a17e27fdbc0021c41e6574b10c11a1450">TFileCollection::RemoveDuplicates</a></div><div class="ttdeci">Int_t RemoveDuplicates()</div><div class="ttdoc">Remove duplicates based on the UUID, typically after a verification. </div><div class="ttdef"><b>Definition:</b> <a href="TFileCollection_8cxx_source.html#l00223">TFileCollection.cxx:223</a></div></div>
<div class="ttc" id="classTString_html_a608c74769c43e96a4a5873972cfe1099a2b700218af731845621b17355f14b99d"><div class="ttname"><a href="classTString.html#a608c74769c43e96a4a5873972cfe1099a2b700218af731845621b17355f14b99d">TString::kIgnoreCase</a></div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00263">TString.h:263</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa6c2faa1bc7c965094321baad6587a603"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa6c2faa1bc7c965094321baad6587a603">TDataSetManager::kPrint</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00095">TDataSetManager.h:95</a></div></div>
<div class="ttc" id="classTPair_html_a074e432ed87cae74b60398f315e66aa7"><div class="ttname"><a href="classTPair.html#a074e432ed87cae74b60398f315e66aa7">TPair::Key</a></div><div class="ttdeci">TObject * Key() const</div><div class="ttdef"><b>Definition:</b> <a href="TMap_8h_source.html#l00120">TMap.h:120</a></div></div>
<div class="ttc" id="classTFileCollection_html_a84ff70aee38b2fd8adedf2c993f1375a"><div class="ttname"><a href="classTFileCollection.html#a84ff70aee38b2fd8adedf2c993f1375a">TFileCollection::GetList</a></div><div class="ttdeci">THashList * GetList()</div><div class="ttdef"><b>Definition:</b> <a href="TFileCollection_8h_source.html#l00070">TFileCollection.h:70</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a17fe7c79e6973c4d03484789ca3d3f59"><div class="ttname"><a href="classTDataSetManager.html#a17fe7c79e6973c4d03484789ca3d3f59">TDataSetManager::ReadGroupConfig</a></div><div class="ttdeci">Bool_t ReadGroupConfig(const char *cf=0)</div><div class="ttdoc">Read group config file &amp;#39;cf&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00207">TDataSetManager.cxx:207</a></div></div>
<div class="ttc" id="classTDataSetManager_html_ab4d990f74fcb1eb3e0f8195b65bafdf4"><div class="ttname"><a href="classTDataSetManager.html#ab4d990f74fcb1eb3e0f8195b65bafdf4">TDataSetManager::GetUserUsedMap</a></div><div class="ttdeci">virtual TMap * GetUserUsedMap()</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00071">TDataSetManager.h:71</a></div></div>
<div class="ttc" id="TError_8h_html"><div class="ttname"><a href="TError_8h.html">TError.h</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a792bb89fe89df1b03560475b889c5cab"><div class="ttname"><a href="classTDataSetManager.html#a792bb89fe89df1b03560475b889c5cab">TDataSetManager::ExistsDataSet</a></div><div class="ttdeci">virtual Bool_t ExistsDataSet(const char *uri)</div><div class="ttdoc">Checks if the indicated dataset exits. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00440">TDataSetManager.cxx:440</a></div></div>
<div class="ttc" id="classTObject_html_ab80cf94f9f66badac741633f944ae02a"><div class="ttname"><a href="classTObject.html#ab80cf94f9f66badac741633f944ae02a">TObject::InheritsFrom</a></div><div class="ttdeci">virtual Bool_t InheritsFrom(const char *classname) const</div><div class="ttdoc">Returns kTRUE if object inherits from class &quot;classname&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00443">TObject.cxx:443</a></div></div>
<div class="ttc" id="classTDataSetManager_html_aa34c4b879b279b4936c617e648158245"><div class="ttname"><a href="classTDataSetManager.html#aa34c4b879b279b4936c617e648158245">TDataSetManager::ParseUri</a></div><div class="ttdeci">Bool_t ParseUri(const char *uri, TString *dsGroup=0, TString *dsUser=0, TString *dsName=0, TString *dsTree=0, Bool_t onlyCurrent=kFALSE, Bool_t wildcards=kFALSE)</div><div class="ttdoc">Parses a (relative) URI that describes a DataSet on the cluster. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00843">TDataSetManager.cxx:843</a></div></div>
<div class="ttc" id="classTString_html_a6d92a45f8b4c0c4d2ed7f318a2cb6f95"><div class="ttname"><a href="classTString.html#a6d92a45f8b4c0c4d2ed7f318a2cb6f95">TString::BeginsWith</a></div><div class="ttdeci">Bool_t BeginsWith(const char *s, ECaseCompare cmp=kExact) const</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00610">TString.h:610</a></div></div>
<div class="ttc" id="classTIter_html_a822e366a9124ec07cca91dd052426f28"><div class="ttname"><a href="classTIter.html#a822e366a9124ec07cca91dd052426f28">TIter::Next</a></div><div class="ttdeci">TObject * Next()</div><div class="ttdef"><b>Definition:</b> <a href="TCollection_8h_source.html#l00249">TCollection.h:249</a></div></div>
<div class="ttc" id="classTDataSetManager_html_af8c8cfea86495245d7d38451fd0b6cb0"><div class="ttname"><a href="classTDataSetManager.html#af8c8cfea86495245d7d38451fd0b6cb0">TDataSetManager::ShowCache</a></div><div class="ttdeci">virtual Int_t ShowCache(const char *uri)</div><div class="ttdoc">Show cached information matching uri. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00796">TDataSetManager.cxx:796</a></div></div>
<div class="ttc" id="TUrl_8h_html"><div class="ttname"><a href="TUrl_8h.html">TUrl.h</a></div></div>
<div class="ttc" id="classTUri_html_a9d20fd00135384e98eab29e0345dbceb"><div class="ttname"><a href="classTUri.html#a9d20fd00135384e98eab29e0345dbceb">TUri::HasQuery</a></div><div class="ttdeci">Bool_t HasQuery() const</div><div class="ttdef"><b>Definition:</b> <a href="TUri_8h_source.html#l00098">TUri.h:98</a></div></div>
<div class="ttc" id="classTString_html_aeb44d6183d8b1f1b7090dbd3c93f5e39"><div class="ttname"><a href="classTString.html#aeb44d6183d8b1f1b7090dbd3c93f5e39">TString::Form</a></div><div class="ttdeci">void Form(const char *fmt,...)</div><div class="ttdoc">Formats a string using a printf style format descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="TString_8cxx_source.html#l02289">TString.cxx:2289</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a7c1bc4939263cb6c0f48e434d77ac258"><div class="ttname"><a href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a></div><div class="ttdeci">unsigned int UInt_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00042">RtypesCore.h:42</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a14dc43158b4c80b1438f0ac5e1f25f53"><div class="ttname"><a href="classTDataSetManager.html#a14dc43158b4c80b1438f0ac5e1f25f53">TDataSetManager::ScanDataSet</a></div><div class="ttdeci">Int_t ScanDataSet(const char *uri, const char *opt)</div><div class="ttdoc">Scans the dataset indicated by &amp;#39;uri&amp;#39; following the &amp;#39;opts&amp;#39; directives. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00498">TDataSetManager.cxx:498</a></div></div>
<div class="ttc" id="classTObject_html_abe1fb206304cfa1b8d1e77a4a4fd0120"><div class="ttname"><a href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">TObject::Error</a></div><div class="ttdeci">virtual void Error(const char *method, const char *msgfmt,...) const</div><div class="ttdoc">Issue error message. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00880">TObject.cxx:880</a></div></div>
<div class="ttc" id="TString_8h_html_acf18c5b91421ac53e91bd96ebc07dea7"><div class="ttname"><a href="TString_8h.html#acf18c5b91421ac53e91bd96ebc07dea7">Form</a></div><div class="ttdeci">char * Form(const char *fmt,...)</div></div>
<div class="ttc" id="classTString_html_a04e631ef510bdd4071c37b54fde0c1a7"><div class="ttname"><a href="classTString.html#a04e631ef510bdd4071c37b54fde0c1a7">TString::Length</a></div><div class="ttdeci">Ssiz_t Length() const</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00405">TString.h:405</a></div></div>
<div class="ttc" id="classTVirtualMonitoringWriter_html_a9ac9ac3f0739a2573d56965b24cf7e49"><div class="ttname"><a href="classTVirtualMonitoringWriter.html#a9ac9ac3f0739a2573d56965b24cf7e49">TVirtualMonitoringWriter::SendParameters</a></div><div class="ttdeci">virtual Bool_t SendParameters(TList *, const char *=0)</div><div class="ttdef"><b>Definition:</b> <a href="TVirtualMonitoring_8h_source.html#l00057">TVirtualMonitoring.h:57</a></div></div>
<div class="ttc" id="classTDataSetManager_html_aaab372f0ebb7f8a00795f3f8b83c2e54"><div class="ttname"><a href="classTDataSetManager.html#aaab372f0ebb7f8a00795f3f8b83c2e54">TDataSetManager::fAvgFileSize</a></div><div class="ttdeci">Long64_t fAvgFileSize</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00056">TDataSetManager.h:56</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a27e2720edf771932acacfacf43a90f98ae9298ff8a74966d0ea1d7de4df010b5b"><div class="ttname"><a href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98ae9298ff8a74966d0ea1d7de4df010b5b">TDataSetManager::kCheckQuota</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00085">TDataSetManager.h:85</a></div></div>
<div class="ttc" id="classTObjString_html_afa99fe15f85cea62df571cbf0cc7d971"><div class="ttname"><a href="classTObjString.html#afa99fe15f85cea62df571cbf0cc7d971">TObjString::String</a></div><div class="ttdeci">TString &amp; String()</div><div class="ttdef"><b>Definition:</b> <a href="TObjString_8h_source.html#l00048">TObjString.h:48</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa853fb871ee50e031a3c8a8384399bce7"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa853fb871ee50e031a3c8a8384399bce7">TDataSetManager::kReopen</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00099">TDataSetManager.h:99</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a46727ea26e7c731af9e9849a8336647f"><div class="ttname"><a href="classTDataSetManager.html#a46727ea26e7c731af9e9849a8336647f">TDataSetManager::ScanFile</a></div><div class="ttdeci">static Int_t ScanFile(TFileInfo *fileinfo, Bool_t notify)</div><div class="ttdoc">Open the file described by &amp;#39;fileinfo&amp;#39; to extract the relevant meta-information. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01655">TDataSetManager.cxx:1655</a></div></div>
<div class="ttc" id="Riostream_8h_html"><div class="ttname"><a href="Riostream_8h.html">Riostream.h</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a7e568baf910535e8ffd438acb843434d"><div class="ttname"><a href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a></div><div class="ttdeci">const Bool_t kFALSE</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00088">RtypesCore.h:88</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a6e9c5b4ec9ad8bc45e5c814cf777678c"><div class="ttname"><a href="classTDataSetManager.html#a6e9c5b4ec9ad8bc45e5c814cf777678c">TDataSetManager::GetQuota</a></div><div class="ttdeci">void GetQuota(const char *group, const char *user, const char *dsName, TFileCollection *dataset)</div><div class="ttdoc">Gets quota information from this dataset. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00551">TDataSetManager.cxx:551</a></div></div>
<div class="ttc" id="classTFileStager_html_a9870af916f18e378f98f1f11ae5ebcf0"><div class="ttname"><a href="classTFileStager.html#a9870af916f18e378f98f1f11ae5ebcf0">TFileStager::Stage</a></div><div class="ttdeci">virtual Bool_t Stage(const char *, Option_t *=0)</div><div class="ttdef"><b>Definition:</b> <a href="TFileStager_8h_source.html#l00047">TFileStager.h:47</a></div></div>
<div class="ttc" id="RConfig_8hxx_html_ad85ff86df420c560e9e8f1d80b510905"><div class="ttname"><a href="RConfig_8hxx.html#ad85ff86df420c560e9e8f1d80b510905">SafeDelete</a></div><div class="ttdeci">#define SafeDelete(p)</div><div class="ttdef"><b>Definition:</b> <a href="RConfig_8hxx_source.html#l00543">RConfig.hxx:543</a></div></div>
<div class="ttc" id="classTUrl_html_ad078a1ae33a8f6fe07be47983fff5e30"><div class="ttname"><a href="classTUrl.html#ad078a1ae33a8f6fe07be47983fff5e30">TUrl::SetHost</a></div><div class="ttdeci">void SetHost(const char *host)</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00087">TUrl.h:87</a></div></div>
<div class="ttc" id="classTString_html_ab13a8694c4221435f86b85ae452ed376"><div class="ttname"><a href="classTString.html#ab13a8694c4221435f86b85ae452ed376">TString::Remove</a></div><div class="ttdeci">TString &amp; Remove(Ssiz_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00668">TString.h:668</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a84701346fdad56d1d91e06fcbc1b87dc"><div class="ttname"><a href="RtypesCore_8h.html#a84701346fdad56d1d91e06fcbc1b87dc">Long_t</a></div><div class="ttdeci">long Long_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00050">RtypesCore.h:50</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a649fe0f43fc2d393d99c5d39848f96b9"><div class="ttname"><a href="RtypesCore_8h.html#a649fe0f43fc2d393d99c5d39848f96b9">Ssiz_t</a></div><div class="ttdeci">int Ssiz_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00063">RtypesCore.h:63</a></div></div>
<div class="ttc" id="structgroup_html"><div class="ttname"><a href="structgroup.html">group</a></div><div class="ttdef"><b>Definition:</b> <a href="TWinNTSystem_8h_source.html#l00059">TWinNTSystem.h:59</a></div></div>
<div class="ttc" id="RSha256_8hxx_html_a23b5b0a85bf5762c93a855f40c0343ce"><div class="ttname"><a href="RSha256_8hxx.html#a23b5b0a85bf5762c93a855f40c0343ce">d</a></div><div class="ttdeci">#define d(i)</div><div class="ttdef"><b>Definition:</b> <a href="RSha256_8hxx_source.html#l00102">RSha256.hxx:102</a></div></div>
<div class="ttc" id="classTPair_html"><div class="ttname"><a href="classTPair.html">TPair</a></div><div class="ttdoc">Class used by TMap to store (key,value) pairs. </div><div class="ttdef"><b>Definition:</b> <a href="TMap_8h_source.html#l00102">TMap.h:102</a></div></div>
<div class="ttc" id="TDataSetManager_8cxx_html_aaca2b93d9c2e0cfc96b5e914b1bde4ec"><div class="ttname"><a href="TDataSetManager_8cxx.html#aaca2b93d9c2e0cfc96b5e914b1bde4ec">DSM_ONE_GB</a></div><div class="ttdeci">#define DSM_ONE_GB</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00047">TDataSetManager.cxx:47</a></div></div>
<div class="ttc" id="classTUrl_html_a2e9c8ee6f16df3e4fb0622c31479d08b"><div class="ttname"><a href="classTUrl.html#a2e9c8ee6f16df3e4fb0622c31479d08b">TUrl::SetAnchor</a></div><div class="ttdeci">void SetAnchor(const char *anchor)</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00089">TUrl.h:89</a></div></div>
<div class="ttc" id="classTString_html_a689ddf39f10539c879dcee0c5f4113ec"><div class="ttname"><a href="classTString.html#a689ddf39f10539c879dcee0c5f4113ec">TString::Tokenize</a></div><div class="ttdeci">TObjArray * Tokenize(const TString &amp;delim) const</div><div class="ttdoc">This function is used to isolate sequential tokens in a TString. </div><div class="ttdef"><b>Definition:</b> <a href="TString_8cxx_source.html#l02197">TString.cxx:2197</a></div></div>
<div class="ttc" id="Rtypes_8h_html_a3f9bf160bbbb44209e95556960836b96"><div class="ttname"><a href="Rtypes_8h.html#a3f9bf160bbbb44209e95556960836b96">ClassImp</a></div><div class="ttdeci">#define ClassImp(name)</div><div class="ttdef"><b>Definition:</b> <a href="Rtypes_8h_source.html#l00365">Rtypes.h:365</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a27e2720edf771932acacfacf43a90f98a0cc65440a5fb30b8b318cd1410692aab"><div class="ttname"><a href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a0cc65440a5fb30b8b318cd1410692aab">TDataSetManager::kIsSandbox</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00089">TDataSetManager.h:89</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a09c3091bddf5907bf31780ce754555fe"><div class="ttname"><a href="classTDataSetManager.html#a09c3091bddf5907bf31780ce754555fe">TDataSetManager::fgCommonDataSetTag</a></div><div class="ttdeci">static TString fgCommonDataSetTag</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00065">TDataSetManager.h:65</a></div></div>
<div class="ttc" id="classTSystem_html_aab4a8ac24bc42a135aa6584be2cb415c"><div class="ttname"><a href="classTSystem.html#aab4a8ac24bc42a135aa6584be2cb415c">TSystem::HostName</a></div><div class="ttdeci">virtual const char * HostName()</div><div class="ttdoc">Return the system&amp;#39;s host name. </div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8cxx_source.html#l00312">TSystem.cxx:312</a></div></div>
<div class="ttc" id="TString_8h_html_a9f6318c6fe972e019d46777b7026dce2"><div class="ttname"><a href="TString_8h.html#a9f6318c6fe972e019d46777b7026dce2">Printf</a></div><div class="ttdeci">void Printf(const char *fmt,...)</div></div>
<div class="ttc" id="classTClass_html_a4a5443bb08096e49cb6b1bce1d07139d"><div class="ttname"><a href="classTClass.html#a4a5443bb08096e49cb6b1bce1d07139d">TClass::GetClass</a></div><div class="ttdeci">static TClass * GetClass(const char *name, Bool_t load=kTRUE, Bool_t silent=kFALSE)</div></div>
<div class="ttc" id="classTDirectory_html"><div class="ttname"><a href="classTDirectory.html">TDirectory</a></div><div class="ttdoc">Describe directory structure in memory. </div><div class="ttdef"><b>Definition:</b> <a href="TDirectory_8h_source.html#l00034">TDirectory.h:34</a></div></div>
<div class="ttc" id="classTMap_html"><div class="ttname"><a href="classTMap.html">TMap</a></div><div class="ttdoc">TMap implements an associative array of (key,value) pairs using a THashTable for efficient retrieval ...</div><div class="ttdef"><b>Definition:</b> <a href="TMap_8h_source.html#l00040">TMap.h:40</a></div></div>
<div class="ttc" id="TGX11_8cxx_html_ac765329451135abec74c45e1897abf26"><div class="ttname"><a href="TGX11_8cxx.html#ac765329451135abec74c45e1897abf26">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="TGX11_8cxx_source.html#l00120">TGX11.cxx:120</a></div></div>
<div class="ttc" id="TRegexp_8h_html"><div class="ttname"><a href="TRegexp_8h.html">TRegexp.h</a></div></div>
<div class="ttc" id="TEnv_8h_html_a11202e6eff8457ae349087e34c0549c9"><div class="ttname"><a href="TEnv_8h.html#a11202e6eff8457ae349087e34c0549c9">gEnv</a></div><div class="ttdeci">R__EXTERN TEnv * gEnv</div><div class="ttdef"><b>Definition:</b> <a href="TEnv_8h_source.html#l00171">TEnv.h:171</a></div></div>
<div class="ttc" id="TSystem_8h_html_a5ea512734402935ca6e68723f6398862a55bd40b14de9b4c0e5d0a5b5ad6fb537"><div class="ttname"><a href="TSystem_8h.html#a5ea512734402935ca6e68723f6398862a55bd40b14de9b4c0e5d0a5b5ad6fb537">kReadPermission</a></div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8h_source.html#l00048">TSystem.h:48</a></div></div>
<div class="ttc" id="classTString_html_aefd4aa6797ae0fd7e63345def5c0be92"><div class="ttname"><a href="classTString.html#aefd4aa6797ae0fd7e63345def5c0be92">TString::Contains</a></div><div class="ttdeci">Bool_t Contains(const char *pat, ECaseCompare cmp=kExact) const</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00619">TString.h:619</a></div></div>
<div class="ttc" id="classTFileStager_html_ab64b697b077008815f6835ff0fc806da"><div class="ttname"><a href="classTFileStager.html#ab64b697b077008815f6835ff0fc806da">TFileStager::Open</a></div><div class="ttdeci">static TFileStager * Open(const char *stager)</div><div class="ttdoc">Open a stager, after having loaded the relevant plug-in. </div><div class="ttdef"><b>Definition:</b> <a href="TFileStager_8cxx_source.html#l00102">TFileStager.cxx:102</a></div></div>
<div class="ttc" id="classTSystem_html_a97d43f76acdd99277cf44fdb35e23601"><div class="ttname"><a href="classTSystem.html#a97d43f76acdd99277cf44fdb35e23601">TSystem::DispatchOneEvent</a></div><div class="ttdeci">virtual void DispatchOneEvent(Bool_t pendingOnly=kFALSE)</div><div class="ttdoc">Dispatch a single event. </div><div class="ttdef"><b>Definition:</b> <a href="TSystem_8cxx_source.html#l00438">TSystem.cxx:438</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a774e02fec0a8c7b7c00b7e6b29bdf43f"><div class="ttname"><a href="classTDataSetManager.html#a774e02fec0a8c7b7c00b7e6b29bdf43f">TDataSetManager::fNDisappearedFiles</a></div><div class="ttdeci">Int_t fNDisappearedFiles</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00060">TDataSetManager.h:60</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a959d48a381a5613f3a111182eb8d1463"><div class="ttname"><a href="classTDataSetManager.html#a959d48a381a5613f3a111182eb8d1463">TDataSetManager::NotifyUpdate</a></div><div class="ttdeci">virtual Int_t NotifyUpdate(const char *group=0, const char *user=0, const char *dspath=0, Long_t mtime=0, const char *checksum=0)</div><div class="ttdoc">Save into the &lt;datasetdir&gt;/dataset.list file the name of the last updated or created or modified data...</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00774">TDataSetManager.cxx:774</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a27e2720edf771932acacfacf43a90f98abbc8b66c3267a6f711835d3fe0081af7"><div class="ttname"><a href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98abbc8b66c3267a6f711835d3fe0081af7">TDataSetManager::kAllowVerify</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00087">TDataSetManager.h:87</a></div></div>
<div class="ttc" id="classTString_html_a1c6df9c54f961185b784a2221c8d6d9d"><div class="ttname"><a href="classTString.html#a1c6df9c54f961185b784a2221c8d6d9d">TString::CompareTo</a></div><div class="ttdeci">int CompareTo(const char *cs, ECaseCompare cmp=kExact) const</div><div class="ttdoc">Compare a string to char *cs2. </div><div class="ttdef"><b>Definition:</b> <a href="TString_8cxx_source.html#l00418">TString.cxx:418</a></div></div>
<div class="ttc" id="namespaceTGeant4Unit_html_a48d40fcb2fb55c31807f8b1bee0200a8"><div class="ttname"><a href="namespaceTGeant4Unit.html#a48d40fcb2fb55c31807f8b1bee0200a8">TGeant4Unit::nm</a></div><div class="ttdeci">static constexpr double nm</div><div class="ttdef"><b>Definition:</b> <a href="TGeant4SystemOfUnits_8h_source.html#l00105">TGeant4SystemOfUnits.h:105</a></div></div>
<div class="ttc" id="classTFileInfo_html_acf082dad491e981c80e2c6705d8f35bc"><div class="ttname"><a href="classTFileInfo.html#acf082dad491e981c80e2c6705d8f35bc">TFileInfo::ResetUrl</a></div><div class="ttdeci">void ResetUrl()</div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00068">TFileInfo.h:68</a></div></div>
<div class="ttc" id="TParameter_8h_html"><div class="ttname"><a href="TParameter_8h.html">TParameter.h</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a5a62ede9707c7f624aa7675848874b5f"><div class="ttname"><a href="classTDataSetManager.html#a5a62ede9707c7f624aa7675848874b5f">TDataSetManager::fNOpenedFiles</a></div><div class="ttdeci">Int_t fNOpenedFiles</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00059">TDataSetManager.h:59</a></div></div>
<div class="ttc" id="classTUrl_html_adf7e1a48e9fb6ef3d704623bb48a2e34"><div class="ttname"><a href="classTUrl.html#adf7e1a48e9fb6ef3d704623bb48a2e34">TUrl::GetPort</a></div><div class="ttdeci">Int_t GetPort() const</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00081">TUrl.h:81</a></div></div>
<div class="ttc" id="classTTree_html_a6d2d812b687b34a8185c955727fb9575"><div class="ttname"><a href="classTTree.html#a6d2d812b687b34a8185c955727fb9575">TTree::GetEntries</a></div><div class="ttdeci">virtual Long64_t GetEntries() const</div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00402">TTree.h:402</a></div></div>
<div class="ttc" id="classTString_html_a85b40d2d4ea6be7b6d3881145bb178b8"><div class="ttname"><a href="classTString.html#a85b40d2d4ea6be7b6d3881145bb178b8">TString::IsNull</a></div><div class="ttdeci">Bool_t IsNull() const</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00402">TString.h:402</a></div></div>
<div class="ttc" id="classTPMERegexp_html_a842084c32dbf33561f089ebbf865b3a8"><div class="ttname"><a href="classTPMERegexp.html#a842084c32dbf33561f089ebbf865b3a8">TPMERegexp::Match</a></div><div class="ttdeci">Int_t Match(const TString &amp;s, UInt_t start=0)</div><div class="ttdoc">Runs a match on s against the regex &amp;#39;this&amp;#39; was created with. </div><div class="ttdef"><b>Definition:</b> <a href="TPRegexp_8cxx_source.html#l00708">TPRegexp.cxx:708</a></div></div>
<div class="ttc" id="classTFile_html_aec5f3fae0774aabfc615ebb4b00fe5e0"><div class="ttname"><a href="classTFile.html#aec5f3fae0774aabfc615ebb4b00fe5e0">TFile::Open</a></div><div class="ttdeci">static TFile * Open(const char *name, Option_t *option=&quot;&quot;, const char *ftitle=&quot;&quot;, Int_t compress=ROOT::RCompressionSetting::EDefaults::kUseGeneralPurpose, Int_t netopt=0)</div><div class="ttdoc">Create / open a file. </div><div class="ttdef"><b>Definition:</b> <a href="TFile_8cxx_source.html#l03973">TFile.cxx:3973</a></div></div>
<div class="ttc" id="classTObject_html"><div class="ttname"><a href="classTObject.html">TObject</a></div><div class="ttdoc">Mother of all ROOT objects. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8h_source.html#l00037">TObject.h:37</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a27e2720edf771932acacfacf43a90f98a1b961782d4d69c38cf8856fef83f400e"><div class="ttname"><a href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a1b961782d4d69c38cf8856fef83f400e">TDataSetManager::kDoNotUseCache</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00091">TDataSetManager.h:91</a></div></div>
<div class="ttc" id="TFileStager_8h_html"><div class="ttname"><a href="TFileStager_8h.html">TFileStager.h</a></div></div>
<div class="ttc" id="classTFileInfoMeta_html_ac0ff8b9bbcf286ca5f0178e8308e4b9c"><div class="ttname"><a href="classTFileInfoMeta.html#ac0ff8b9bbcf286ca5f0178e8308e4b9c">TFileInfoMeta::SetTotBytes</a></div><div class="ttdeci">void SetTotBytes(Long64_t tot)</div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00149">TFileInfo.h:149</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aaa8cd54c0c33a0b611c9add41762d6c0a"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aaa8cd54c0c33a0b611c9add41762d6c0a">TDataSetManager::kDebug</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00095">TDataSetManager.h:95</a></div></div>
<div class="ttc" id="classTTree_html_a7cd54f9e3663ae1d9d9229fd5c239009"><div class="ttname"><a href="classTTree.html#a7cd54f9e3663ae1d9d9229fd5c239009">TTree::GetTotBytes</a></div><div class="ttdeci">virtual Long64_t GetTotBytes() const</div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00455">TTree.h:455</a></div></div>
<div class="ttc" id="classTUri_html_a2c01cf081b8542b739e05f206d6301cf"><div class="ttname"><a href="classTUri.html#a2c01cf081b8542b739e05f206d6301cf">TUri::Transform</a></div><div class="ttdeci">static TUri Transform(const TUri &amp;reference, const TUri &amp;base)</div></div>
<div class="ttc" id="classTList_html_a1b90ccfbde1729266b585194fa45df14"><div class="ttname"><a href="classTList.html#a1b90ccfbde1729266b585194fa45df14">TList::Add</a></div><div class="ttdeci">virtual void Add(TObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="TList_8h_source.html#l00087">TList.h:87</a></div></div>
<div class="ttc" id="classTPMERegexp_html"><div class="ttname"><a href="classTPMERegexp.html">TPMERegexp</a></div><div class="ttdoc">Wrapper for PCRE library (Perl Compatible Regular Expressions). </div><div class="ttdef"><b>Definition:</b> <a href="TPRegexp_8h_source.html#l00097">TPRegexp.h:97</a></div></div>
<div class="ttc" id="classTFileCollection_html"><div class="ttname"><a href="classTFileCollection.html">TFileCollection</a></div><div class="ttdoc">Class that contains a list of TFileInfo&amp;#39;s and accumulated meta data information about its entries...</div><div class="ttdef"><b>Definition:</b> <a href="TFileCollection_8h_source.html#l00039">TFileCollection.h:39</a></div></div>
<div class="ttc" id="namespacefile_html"><div class="ttname"><a href="namespacefile.html">file</a></div><div class="ttdef"><b>Definition:</b> <a href="file_8py_source.html#l00001">file.py:1</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a767c0d2afb8b9dc9a2baf26d81acdecb"><div class="ttname"><a href="classTDataSetManager.html#a767c0d2afb8b9dc9a2baf26d81acdecb">TDataSetManager::PrintDataSet</a></div><div class="ttdeci">void PrintDataSet(TFileCollection *fc, Int_t popt=0)</div><div class="ttdoc">Formatted printout of the content of TFileCollection &amp;#39;fc&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01044">TDataSetManager.cxx:1044</a></div></div>
<div class="ttc" id="classTFileInfoMeta_html_ade11de7770ed088dc9f1b06053be4f75"><div class="ttname"><a href="classTFileInfoMeta.html#ade11de7770ed088dc9f1b06053be4f75">TFileInfoMeta::SetZipBytes</a></div><div class="ttdeci">void SetZipBytes(Long64_t zip)</div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00150">TFileInfo.h:150</a></div></div>
<div class="ttc" id="classTTree_html_a786375a91e28a871d4d6da9e313ceeb0"><div class="ttname"><a href="classTTree.html#a786375a91e28a871d4d6da9e313ceeb0">TTree::GetZipBytes</a></div><div class="ttdeci">virtual Long64_t GetZipBytes() const</div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00484">TTree.h:484</a></div></div>
<div class="ttc" id="classTUrl_html_aa41691d05f81e5ea2c64080345954efd"><div class="ttname"><a href="classTUrl.html#aa41691d05f81e5ea2c64080345954efd">TUrl::SetOptions</a></div><div class="ttdeci">void SetOptions(const char *opt)</div><div class="ttdef"><b>Definition:</b> <a href="TUrl_8h_source.html#l00090">TUrl.h:90</a></div></div>
<div class="ttc" id="TError_8h_html_a28396131242d75810a2eb5988f9ff2ab"><div class="ttname"><a href="TError_8h.html#a28396131242d75810a2eb5988f9ff2ab">kError</a></div><div class="ttdeci">const Int_t kError</div><div class="ttdef"><b>Definition:</b> <a href="TError_8h_source.html#l00039">TError.h:39</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a3ae51bf774e3b820c3cf09687bc008d4"><div class="ttname"><a href="classTDataSetManager.html#a3ae51bf774e3b820c3cf09687bc008d4">TDataSetManager::ParseDataSetSrvMaps</a></div><div class="ttdeci">static TList * ParseDataSetSrvMaps(const TString &amp;srvmaps)</div><div class="ttdoc">Create a server mapping list from the content of &amp;#39;srvmaps&amp;#39; Return the list (owned by the caller) or 0...</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l01868">TDataSetManager.cxx:1868</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa0c0f78ee6245f57d27176c674830a81c"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa0c0f78ee6245f57d27176c674830a81c">TDataSetManager::kRefreshLs</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00103">TDataSetManager.h:103</a></div></div>
<div class="ttc" id="classTString_html_a9e926aa63f05797c06262d6045bd48ea"><div class="ttname"><a href="classTString.html#a9e926aa63f05797c06262d6045bd48ea">TString::CountChar</a></div><div class="ttdeci">Int_t CountChar(Int_t c) const</div><div class="ttdoc">Return number of times character c occurs in the string. </div><div class="ttdef"><b>Definition:</b> <a href="TString_8cxx_source.html#l00476">TString.cxx:476</a></div></div>
<div class="ttc" id="Rtypes_8h_html_ad611664b9a0b9de80e76e795779839be"><div class="ttname"><a href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a></div><div class="ttdeci">R__EXTERN Int_t gDebug</div><div class="ttdef"><b>Definition:</b> <a href="Rtypes_8h_source.html#l00091">Rtypes.h:91</a></div></div>
<div class="ttc" id="classTMap_html_acc52a729b6e110bb8dab01248c7a5a06"><div class="ttname"><a href="classTMap.html#acc52a729b6e110bb8dab01248c7a5a06">TMap::GetValue</a></div><div class="ttdeci">TObject * GetValue(const char *keyname) const</div><div class="ttdoc">Returns a pointer to the value associated with keyname as name of the key. </div><div class="ttdef"><b>Definition:</b> <a href="TMap_8cxx_source.html#l00235">TMap.cxx:235</a></div></div>
<div class="ttc" id="TFileCollection_8h_html"><div class="ttname"><a href="TFileCollection_8h.html">TFileCollection.h</a></div></div>
<div class="ttc" id="classTFileStager_html_a310cc34c3291f0da4d385974ebdf601b"><div class="ttname"><a href="classTFileStager.html#a310cc34c3291f0da4d385974ebdf601b">TFileStager::Matches</a></div><div class="ttdeci">virtual Bool_t Matches(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="TFileStager_8h_source.html#l00046">TFileStager.h:46</a></div></div>
<div class="ttc" id="namespacetree_html"><div class="ttname"><a href="namespacetree.html">tree</a></div><div class="ttdef"><b>Definition:</b> <a href="tree_8py_source.html#l00001">tree.py:1</a></div></div>
<div class="ttc" id="TDataSetManager_8h_html"><div class="ttname"><a href="TDataSetManager_8h.html">TDataSetManager.h</a></div></div>
<div class="ttc" id="classTString_html_a4573d335b3b16c9a33f724ba38b07fc6"><div class="ttname"><a href="classTString.html#a4573d335b3b16c9a33f724ba38b07fc6">TString::IsDigit</a></div><div class="ttdeci">Bool_t IsDigit() const</div><div class="ttdoc">Returns true if all characters in string are digits (0-9) or white spaces, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="TString_8cxx_source.html#l01763">TString.cxx:1763</a></div></div>
<div class="ttc" id="classTTree_html"><div class="ttname"><a href="classTTree.html">TTree</a></div><div class="ttdoc">A TTree represents a columnar dataset. </div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00071">TTree.h:71</a></div></div>
<div class="ttc" id="classTParameter_html_ae00337f7b904e72516eec6f986f643e8"><div class="ttname"><a href="classTParameter.html#ae00337f7b904e72516eec6f986f643e8">TParameter::GetVal</a></div><div class="ttdeci">const AParamType &amp; GetVal() const</div><div class="ttdef"><b>Definition:</b> <a href="TParameter_8h_source.html#l00069">TParameter.h:69</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa4f75d9401878226da63c70c7277af2cf"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa4f75d9401878226da63c70c7277af2cf">TDataSetManager::kStageOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00101">TDataSetManager.h:101</a></div></div>
<div class="ttc" id="classTFileInfo_html"><div class="ttname"><a href="classTFileInfo.html">TFileInfo</a></div><div class="ttdoc">Class describing a generic file including meta information. </div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00038">TFileInfo.h:38</a></div></div>
<div class="ttc" id="classTObject_html_aedd58b7272292b17ae9275ac13167d93"><div class="ttname"><a href="classTObject.html#aedd58b7272292b17ae9275ac13167d93">TObject::ResetBit</a></div><div class="ttdeci">void ResetBit(UInt_t f)</div><div class="ttdef"><b>Definition:</b> <a href="TObject_8h_source.html#l00171">TObject.h:171</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a468bf34e05ebeb5121ef2c611e7a277aa85603da42982ae2936f7792b82a6465c"><div class="ttname"><a href="classTDataSetManager.html#a468bf34e05ebeb5121ef2c611e7a277aa85603da42982ae2936f7792b82a6465c">TDataSetManager::kAllFiles</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00104">TDataSetManager.h:104</a></div></div>
<div class="ttc" id="classTUri_html_a6e08889a77f221880e36dd57f5a179f2"><div class="ttname"><a href="classTUri.html#a6e08889a77f221880e36dd57f5a179f2">TUri::GetQuery</a></div><div class="ttdeci">const TString GetQuery() const</div><div class="ttdef"><b>Definition:</b> <a href="TUri_8h_source.html#l00088">TUri.h:88</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a7f4b47a8f8b5b4fba03210a493e34fb3"><div class="ttname"><a href="classTDataSetManager.html#a7f4b47a8f8b5b4fba03210a493e34fb3">TDataSetManager::fGroupUsed</a></div><div class="ttdeci">TMap fGroupUsed</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00053">TDataSetManager.h:53</a></div></div>
<div class="ttc" id="classTFileStager_html_a43a11bfe7bb69417fa8ea4348b139591"><div class="ttname"><a href="classTFileStager.html#a43a11bfe7bb69417fa8ea4348b139591">TFileStager::IsValid</a></div><div class="ttdeci">virtual Bool_t IsValid() const</div><div class="ttdef"><b>Definition:</b> <a href="TFileStager_8h_source.html#l00050">TFileStager.h:50</a></div></div>
<div class="ttc" id="classTFileStager_html_aef09156e6c6fa5d835f78c3935e1aaab"><div class="ttname"><a href="classTFileStager.html#aef09156e6c6fa5d835f78c3935e1aaab">TFileStager::Locate</a></div><div class="ttdeci">virtual Int_t Locate(const char *u, TString &amp;f)</div><div class="ttdoc">Just check if the file exists locally. </div><div class="ttdef"><b>Definition:</b> <a href="TFileStager_8cxx_source.html#l00147">TFileStager.cxx:147</a></div></div>
<div class="ttc" id="classTCollection_html_af0ca154693eeb1e9d9a0ff3a8d43e466"><div class="ttname"><a href="classTCollection.html#af0ca154693eeb1e9d9a0ff3a8d43e466">TCollection::GetSize</a></div><div class="ttdeci">virtual Int_t GetSize() const</div><div class="ttdoc">Return the capacity of the collection, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="TCollection_8h_source.html#l00182">TCollection.h:182</a></div></div>
<div class="ttc" id="classTPRegexp_html_a5dd1c3547ee19ca51a9d3a7fc05f587f"><div class="ttname"><a href="classTPRegexp.html#a5dd1c3547ee19ca51a9d3a7fc05f587f">TPRegexp::Match</a></div><div class="ttdeci">Int_t Match(const TString &amp;s, const TString &amp;mods=&quot;&quot;, Int_t start=0, Int_t nMaxMatch=10, TArrayI *pos=0)</div><div class="ttdoc">The number of matches is returned, this equals the full match + sub-pattern matches. </div><div class="ttdef"><b>Definition:</b> <a href="TPRegexp_8cxx_source.html#l00339">TPRegexp.cxx:339</a></div></div>
<div class="ttc" id="classTEnv_html_a1311d2dfe5c00b40e9f4a4fdf046f0e3"><div class="ttname"><a href="classTEnv.html#a1311d2dfe5c00b40e9f4a4fdf046f0e3">TEnv::GetValue</a></div><div class="ttdeci">virtual Int_t GetValue(const char *name, Int_t dflt) const</div><div class="ttdoc">Returns the integer value for a resource. </div><div class="ttdef"><b>Definition:</b> <a href="TEnv_8cxx_source.html#l00491">TEnv.cxx:491</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a11eee1b9011939ee4d0e0889e7ce38eb"><div class="ttname"><a href="classTDataSetManager.html#a11eee1b9011939ee4d0e0889e7ce38eb">TDataSetManager::GetGroupUsed</a></div><div class="ttdeci">virtual Long64_t GetGroupUsed(const char *group)</div><div class="ttdoc">Returns the used space of that group. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00715">TDataSetManager.cxx:715</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_af2f51d30ccd86e85be3e3e69793a86ef"><div class="ttname"><a href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a></div><div class="ttdeci">const Bool_t kTRUE</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00087">RtypesCore.h:87</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a7734688d52bb3ce5a304ceabc493c55c"><div class="ttname"><a href="classTDataSetManager.html#a7734688d52bb3ce5a304ceabc493c55c">TDataSetManager::GetDataSets</a></div><div class="ttdeci">virtual TMap * GetDataSets(const char *uri, UInt_t=TDataSetManager::kExport)</div><div class="ttdoc">Returns all datasets for the &lt;group&gt; and &lt;user&gt; specified by &lt;uri&gt;. </div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8cxx_source.html#l00465">TDataSetManager.cxx:465</a></div></div>
<div class="ttc" id="classTObject_html_a01834e7d7156bf84c82ff00b34814551"><div class="ttname"><a href="classTObject.html#a01834e7d7156bf84c82ff00b34814551">TObject::AbstractMethod</a></div><div class="ttdeci">void AbstractMethod(const char *method) const</div><div class="ttdoc">Use this method to implement an &quot;abstract&quot; method that you don&amp;#39;t want to leave purely abstract...</div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00922">TObject.cxx:922</a></div></div>
<div class="ttc" id="TEnv_8h_html"><div class="ttname"><a href="TEnv_8h.html">TEnv.h</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a3993c572e641d3e8ae2670fd74f36493"><div class="ttname"><a href="classTDataSetManager.html#a3993c572e641d3e8ae2670fd74f36493">TDataSetManager::fGroup</a></div><div class="ttdeci">TString fGroup</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00045">TDataSetManager.h:45</a></div></div>
<div class="ttc" id="classTFileInfo_html_a2bbfd3136f99e64bceda2aa30515838bae8ff1a627e7a2b8f21db56e02a8fa1b2"><div class="ttname"><a href="classTFileInfo.html#a2bbfd3136f99e64bceda2aa30515838bae8ff1a627e7a2b8f21db56e02a8fa1b2">TFileInfo::kCorrupted</a></div><div class="ttdef"><b>Definition:</b> <a href="TFileInfo_8h_source.html#l00058">TFileInfo.h:58</a></div></div>
<div class="ttc" id="classTObject_html_a75fddd7eef38a13c1374130ec7dc5cf8"><div class="ttname"><a href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">TObject::Warning</a></div><div class="ttdeci">virtual void Warning(const char *method, const char *msgfmt,...) const</div><div class="ttdoc">Issue warning message. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00866">TObject.cxx:866</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a27e2720edf771932acacfacf43a90f98a33db38b3cd88425fc7023edfbce6c8d9"><div class="ttname"><a href="classTDataSetManager.html#a27e2720edf771932acacfacf43a90f98a33db38b3cd88425fc7023edfbce6c8d9">TDataSetManager::kAllowRegister</a></div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00086">TDataSetManager.h:86</a></div></div>
<div class="ttc" id="classTDataSetManager_html_a17901b71beee88ba9775fe4f0e7e6cd8"><div class="ttname"><a href="classTDataSetManager.html#a17901b71beee88ba9775fe4f0e7e6cd8">TDataSetManager::fBase</a></div><div class="ttdeci">TUri fBase</div><div class="ttdef"><b>Definition:</b> <a href="TDataSetManager_8h_source.html#l00050">TDataSetManager.h:50</a></div></div>
<div class="ttc" id="classTString_html_a7e4ada8bf2407b461f3ee58b71c5959f"><div class="ttname"><a href="classTString.html#a7e4ada8bf2407b461f3ee58b71c5959f">TString::Data</a></div><div class="ttdeci">const char * Data() const</div><div class="ttdef"><b>Definition:</b> <a href="TString_8h_source.html#l00364">TString.h:364</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:09:35 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
