<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ROOT: tree/tree/src/TTreeCacheUnzip.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table bgcolor="#346295" cellspacing="0" cellpadding="0">
  <tr>
    <td> <img style="height:90px" alt="Logo" src="rootlogo.gif"/> </td>
    <td valign="middle" style="color: #FFFFFF" nowrap="nowrap"><font size="6">ROOT</font> &#160; 6.18/03 <br> Reference Guide </td>
    <td style="width:100%"> </td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70093cb3a9d1f8840af4e997fde867c3.html">tree</a></li><li class="navelem"><a class="el" href="dir_22fe1d8e7354d33ae26e20620be560f6.html">tree</a></li><li class="navelem"><a class="el" href="dir_748bba8ea9a7800d936fac76f5cc25c1.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">TTreeCacheUnzip.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TTreeCacheUnzip_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Authors: Rene Brun   04/06/2006</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//          Leandro Franco   10/04/2008</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//          Fabrizio Furano (CERN) Aug 2009</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*************************************************************************</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 1995-2018, Rene Brun and Fons Rademakers.               *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * All rights reserved.                                                  *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *                                                                       *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * For the licensing terms see $ROOTSYS/LICENSE.                         *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * For the list of contributors see $ROOTSYS/README/CREDITS.             *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *************************************************************************/</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/** </span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">\class TTreeCacheUnzip</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">\ingroup tree</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">A TTreeCache which exploits parallelized decompression of its own content.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TTreeCacheUnzip_8h.html">TTreeCacheUnzip.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TBranch_8h.html">TBranch.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TChain_8h.html">TChain.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TEnv_8h.html">TEnv.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TEventList_8h.html">TEventList.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TFile_8h.html">TFile.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TMath_8h.html">TMath.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TMutex_8h.html">TMutex.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RMakeUnique_8hxx.html">ROOT/RMakeUnique.hxx</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#ifdef R__USE_IMT</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TThreadExecutor_8hxx.html">ROOT/TThreadExecutor.hxx</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TTaskGroup_8hxx.html">ROOT/TTaskGroup.hxx</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> <a class="code" href="TTreeCacheUnzip_8cxx.html#a2ae43fb3a12053823a206367da9046f0">R__unzip</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *nin, <a class="code" href="RtypesCore_8h.html#a64926e032e221b6f9a7a97ceac657223">UChar_t</a> *bufin, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *lout, <span class="keywordtype">char</span> *bufout, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *nout);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">int</span> <a class="code" href="TTreeCacheUnzip_8cxx.html#a9f7294b7a73406af1a0aefa20afd87d7">R__unzip_header</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *nin, <a class="code" href="RtypesCore_8h.html#a64926e032e221b6f9a7a97ceac657223">UChar_t</a> *bufin, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *lout);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4">TTreeCacheUnzip::EParUnzipMode</a> <a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">TTreeCacheUnzip::fgParallel</a> = <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a9da5711aa294d0da25bbc7a8bf299907">TTreeCacheUnzip::kDisable</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// The unzip cache does not consume memory by itself, it just allocates in advance</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// mem blocks which are then picked as they are by the baskets.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// Hence there is no good reason to limit it too much</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<a class="code" href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a> <a class="code" href="classTTreeCacheUnzip.html#af0c1112d8f6af664a2b6a40d735b4cfd">TTreeCacheUnzip::fgRelBuffSize</a> = .5;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<a class="code" href="Rtypes_8h.html#a3f9bf160bbbb44209e95556960836b96">ClassImp</a>(<a class="code" href="classTTreeCacheUnzip.html">TTreeCacheUnzip</a>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/// Clear all baskets&#39; state arrays.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#a121377c6e6aeffd6c82499a69a3f891b">   51</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a121377c6e6aeffd6c82499a69a3f891b">TTreeCacheUnzip::UnzipState::Clear</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> size) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> i = 0; i &lt; size; i++) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a61fb52c6d0a569ee7bbacfc82826ee14">fUnzipLen</a>.empty()) <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a61fb52c6d0a569ee7bbacfc82826ee14">fUnzipLen</a>[i] = 0;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>) {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[i]) <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[i].reset();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a2fc1ec373a138756280814c9383edbd9">fUnzipStatus</a>) <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a2fc1ec373a138756280814c9383edbd9">fUnzipStatus</a>[i].store(0);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#ae65d790b90703443b64c2afce335ca1f">   63</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#ae65d790b90703443b64c2afce335ca1f">TTreeCacheUnzip::UnzipState::IsUntouched</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index)<span class="keyword"> const </span>{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <span class="keywordflow">return</span> fUnzipStatus[index].load() == <a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a97d5f4fb8600b14a1c89387df0a55ab2">kUntouched</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#a24d4622793ddc0dd6a61dfc81c5e4992">   69</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a24d4622793ddc0dd6a61dfc81c5e4992">TTreeCacheUnzip::UnzipState::IsProgress</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index)<span class="keyword"> const </span>{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <span class="keywordflow">return</span> fUnzipStatus[index].load() == <a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a85bacf63f15d6586a451674c4068164b">kProgress</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#a049863eb4ba310bf0bd292f2f26e2f4f">   75</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a049863eb4ba310bf0bd292f2f26e2f4f">TTreeCacheUnzip::UnzipState::IsFinished</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index)<span class="keyword"> const </span>{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   <span class="keywordflow">return</span> fUnzipStatus[index].load() == <a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a39ac3c395bfa00d4b0b8eb2016930507">kFinished</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/// Check if the basket is unzipped already. We must make sure the length in</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/// fUnzipLen is larger than 0.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#ad5a15a143903fefe0d33914754c0563f">   83</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#ad5a15a143903fefe0d33914754c0563f">TTreeCacheUnzip::UnzipState::IsUnzipped</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index)<span class="keyword"> const </span>{</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="keywordflow">return</span> (fUnzipStatus[index].load() == <a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a39ac3c395bfa00d4b0b8eb2016930507">kFinished</a>) &amp;&amp; (fUnzipChunks[index].get()) &amp;&amp; (fUnzipLen[index] &gt; 0);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/// Reset all baskets&#39; state arrays. This function is only called by main</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/// thread and parallel processing from upper layers should be disabled such</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">/// as IMT in TTree::GetEntry(). Other threads should not call this function </span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">/// since it is not thread-safe.</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#a069523738ce4bf5511d8a9ffaf2d73d7">   93</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a069523738ce4bf5511d8a9ffaf2d73d7">TTreeCacheUnzip::UnzipState::Reset</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> oldSize, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> newSize) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   std::vector&lt;Int_t&gt;       aUnzipLen    = std::vector&lt;Int_t&gt;(newSize, 0);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   std::unique_ptr&lt;char[]&gt; *aUnzipChunks = <span class="keyword">new</span> std::unique_ptr&lt;char[]&gt;[newSize];</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   std::atomic&lt;Byte_t&gt;     *aUnzipStatus = <span class="keyword">new</span> std::atomic&lt;Byte_t&gt;[newSize];</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> i = 0; i &lt; newSize; ++i)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      aUnzipStatus[i].store(0);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> i = 0; i &lt; oldSize; i++) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      aUnzipLen[i]    = fUnzipLen[i];</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      aUnzipChunks[i] = std::move(fUnzipChunks[i]);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      aUnzipStatus[i].store(fUnzipStatus[i].load());</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="keywordflow">if</span> (fUnzipChunks) <span class="keyword">delete</span> [] fUnzipChunks;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">if</span> (fUnzipStatus) <span class="keyword">delete</span> [] fUnzipStatus;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   fUnzipLen    = aUnzipLen;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   fUnzipChunks = aUnzipChunks;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   fUnzipStatus = aUnzipStatus;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/// Set cache as finished. </span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">/// There are three scenarios that a basket is set as finished:</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">///    1. The basket has already been unzipped.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">///    2. The thread is aborted from unzipping process.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">///    3. To avoid other tasks/threads work on this basket,</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">///       main thread marks the basket as finished and designates itself</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">///       to unzip this basket.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">  124</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">TTreeCacheUnzip::UnzipState::SetFinished</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   fUnzipLen[index] = 0;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   fUnzipChunks[index].reset();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   fUnzipStatus[index].store((<a class="code" href="RtypesCore_8h.html#a30a46089c9223349fe30a3ac08e2d8ee">Byte_t</a>)<a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a39ac3c395bfa00d4b0b8eb2016930507">kFinished</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#a95e3d6898949eae37b12151673d6f14a">  132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a95e3d6898949eae37b12151673d6f14a">TTreeCacheUnzip::UnzipState::SetMissed</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   fUnzipChunks[index].reset();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   fUnzipStatus[index].store((<a class="code" href="RtypesCore_8h.html#a30a46089c9223349fe30a3ac08e2d8ee">Byte_t</a>)<a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a39ac3c395bfa00d4b0b8eb2016930507">kFinished</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#a4f5a5cb9b8ce810f0ef0bdc7c27bab24">  139</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a4f5a5cb9b8ce810f0ef0bdc7c27bab24">TTreeCacheUnzip::UnzipState::SetUnzipped</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index, <span class="keywordtype">char</span>* buf, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> len) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="comment">// Update status array at the very end because we need to be synchronous with the main thread.</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   fUnzipLen[index] = len;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   fUnzipChunks[index].reset(buf);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   fUnzipStatus[index].store((<a class="code" href="RtypesCore_8h.html#a30a46089c9223349fe30a3ac08e2d8ee">Byte_t</a>)<a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a39ac3c395bfa00d4b0b8eb2016930507">kFinished</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">/// Start unzipping the basket if it is untouched yet.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structTTreeCacheUnzip_1_1UnzipState.html#a87e902a91baef8918c41c317fd3cded5">  149</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a87e902a91baef8918c41c317fd3cded5">TTreeCacheUnzip::UnzipState::TryUnzipping</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <a class="code" href="RtypesCore_8h.html#a30a46089c9223349fe30a3ac08e2d8ee">Byte_t</a> oldValue = <a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a97d5f4fb8600b14a1c89387df0a55ab2">kUntouched</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <a class="code" href="RtypesCore_8h.html#a30a46089c9223349fe30a3ac08e2d8ee">Byte_t</a> newValue = <a class="code" href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a85bacf63f15d6586a451674c4068164b">kProgress</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keywordflow">return</span> fUnzipStatus[index].compare_exchange_weak(oldValue, newValue, std::memory_order_release, std::memory_order_relaxed);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a53be50723b314577bd653310631e3266">  157</a></span>&#160;<a class="code" href="classTTreeCacheUnzip.html#a53be50723b314577bd653310631e3266">TTreeCacheUnzip::TTreeCacheUnzip</a>() : <a class="code" href="classTTreeCache.html">TTreeCache</a>(),</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#ad8bad3fa3a73c5665b553c6d4b5228ac">fAsyncReading</a>(<a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>),</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a91bad47b7f918512a512d351ba07f406">fEmpty</a>(<a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>),</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a>(0),</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a>(0),</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#ab18cfdecb28e03c2ac61d06ce189f10b">fUnzipGroupSize</a>(0),</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#aa8e74588ce4ce8d034368f0672ce7f00">fUnzipBufferSize</a>(0),</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#ac7087d5f537746e07c8a731ae5e89311">fNFound</a>(0),</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a153d4603d0347623955682204e14f010">fNMissed</a>(0),</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a6e71fe228fc61b0424d4de286e110df2">fNStalls</a>(0),</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a916f05572aba3802bf14ab10b8cea904">fNUnzip</a>(0)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="comment">// Default Constructor.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a0de6204720b6768db07abf03ffc1ea5d">Init</a>();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/// Constructor.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a7786565f0c223c2bcea8b48ad71ce84f">  176</a></span>&#160;<a class="code" href="classTTreeCacheUnzip.html#a53be50723b314577bd653310631e3266">TTreeCacheUnzip::TTreeCacheUnzip</a>(<a class="code" href="classTTree.html">TTree</a> *<a class="code" href="namespacetree.html">tree</a>, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> buffersize) : <a class="code" href="classTTreeCache.html">TTreeCache</a>(<a class="code" href="namespacetree.html">tree</a>,buffersize),</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   fAsyncReading(<a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>),</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   fEmpty(<a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>),</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   fCycle(0),</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   fNseekMax(0),</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   fUnzipGroupSize(0),</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   fUnzipBufferSize(0),</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   fNFound(0),</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   fNMissed(0),</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   fNStalls(0),</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   fNUnzip(0)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a0de6204720b6768db07abf03ffc1ea5d">Init</a>();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">/// Initialization procedure common to all the constructors.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a0de6204720b6768db07abf03ffc1ea5d">  194</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTTreeCacheUnzip.html#a0de6204720b6768db07abf03ffc1ea5d">TTreeCacheUnzip::Init</a>()</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#ifdef R__USE_IMT</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a736a7587c3848ffacb0fd377b214ceb0">fUnzipTaskGroup</a>.reset();</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a8fe3ceac8691bb78b5ae834df8fb8810">fIOMutex</a> = std::make_unique&lt;TMutex&gt;(<a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[16384];</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a028d77f1a5867e81994419a8bfae4e1b">fCompBufferSize</a> = 16384;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#ab18cfdecb28e03c2ac61d06ce189f10b">fUnzipGroupSize</a> = 102400; <span class="comment">// Each task unzips at least 100 KB</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a9da5711aa294d0da25bbc7a8bf299907">kDisable</a>) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a99e24f7650d6d020bf7f725b7c4930c5">fParallel</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a69274c028f4a318d8c893aec49af683d">kEnable</a> || <a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4aeb43e79c0cd32e7d0be769dd99d8d244">kForce</a>) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#aa8e74588ce4ce8d034368f0672ce7f00">fUnzipBufferSize</a> = <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a>(<a class="code" href="classTTreeCacheUnzip.html#af0c1112d8f6af664a2b6a40d735b4cfd">fgRelBuffSize</a> * <a class="code" href="classTFileCacheRead.html#aec6f306d78be3f64e77d7cc7766106a7">GetBufferSize</a>());</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;TTreeCacheUnzip&quot;</span>, <span class="stringliteral">&quot;Enabling Parallel Unzipping&quot;</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a99e24f7650d6d020bf7f725b7c4930c5">fParallel</a> = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <a class="code" href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">Warning</a>(<span class="stringliteral">&quot;TTreeCacheUnzip&quot;</span>, <span class="stringliteral">&quot;Parallel Option unknown&quot;</span>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <span class="comment">// Check if asynchronous reading is supported by this TFile specialization</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="TEnv_8h.html#a11202e6eff8457ae349087e34c0549c9">gEnv</a>-&gt;<a class="code" href="classTEnv.html#a1311d2dfe5c00b40e9f4a4fdf046f0e3">GetValue</a>(<span class="stringliteral">&quot;TFile.AsyncReading&quot;</span>, 1)) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">fFile</a> &amp;&amp; !(<a class="code" href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">fFile</a>-&gt;<a class="code" href="classTFile.html#abbc422bb53830debbfd0f9d955c32ac5">ReadBufferAsync</a>(0, 0)))</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#ad8bad3fa3a73c5665b553c6d4b5228ac">fAsyncReading</a> = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/// Destructor. (in general called by the TFile destructor)</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a637c2e13e518e64a0d73ae6ceba70bbb">  233</a></span>&#160;<a class="code" href="classTTreeCacheUnzip.html#a637c2e13e518e64a0d73ae6ceba70bbb">TTreeCacheUnzip::~TTreeCacheUnzip</a>()</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#af5e1f72069364190e03f98b5b8ff4e8a">ResetCache</a>();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a121377c6e6aeffd6c82499a69a3f891b">Clear</a>(<a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/// Add a branch to the list of branches to be stored in the cache</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/// this function is called by TBranch::GetBasket</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">/// Returns:</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">///  - 0 branch added or already included</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">///  - -1 on error</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#acb0878343ac05d68bc72ecee009570db">  246</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#acb0878343ac05d68bc72ecee009570db">TTreeCacheUnzip::AddBranch</a>(<a class="code" href="classTBranch.html">TBranch</a> *<a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> subbranches <span class="comment">/*= kFALSE*/</span>)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classTTreeCache.html#a023bb84bb5e6dcc73b0fca41eb69b1dc">TTreeCache::AddBranch</a>(<a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>, subbranches);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">/// Add a branch to the list of branches to be stored in the cache</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">/// this function is called by TBranch::GetBasket</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">/// Returns:</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">///  - 0 branch added or already included</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">///  - -1 on error</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a2bc80cc60d7bfbcce8877a55b79f5d0b">  258</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#acb0878343ac05d68bc72ecee009570db">TTreeCacheUnzip::AddBranch</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *branch, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> subbranches <span class="comment">/*= kFALSE*/</span>)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classTTreeCache.html#a023bb84bb5e6dcc73b0fca41eb69b1dc">TTreeCache::AddBranch</a>(branch, subbranches);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a0ac2a12b57d7dc23030acca009678976">  265</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTTreeCacheUnzip.html#a0ac2a12b57d7dc23030acca009678976">TTreeCacheUnzip::FillBuffer</a>()</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCache.html#ae754f89dab5a798875577de20b145c21">fNbranches</a> &lt;= 0) <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="comment">// Fill the cache buffer with the branches in the cache.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <a class="code" href="classTFileCacheRead.html#ac7555b5a7234ee3723d9746626533359">fIsTransferred</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <a class="code" href="classTTree.html">TTree</a> *<a class="code" href="namespacetree.html">tree</a> = ((<a class="code" href="classTBranch.html">TBranch</a>*)<a class="code" href="classTTreeCache.html#af8de70f635442e602c50503f0b078f3d">fBranches</a>-&gt;<a class="code" href="classTObjArray.html#adad86863df1b961853b07e36afb6a0ae">UncheckedAt</a>(0))-&gt;<a class="code" href="classTTreeCache.html#a937f1ea0cae87f4e5a423b0814303d19">GetTree</a>();</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> entry = <a class="code" href="namespacetree.html">tree</a>-&gt;GetReadEntry();</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="comment">// If the entry is in the range we previously prefetched, there is</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="comment">// no point in retrying.   Note that this will also return false</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="comment">// during the training phase (fEntryNext is then set intentional to</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <span class="comment">// the end of the training phase).</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCache.html#aace41c8c93d50f9883b41d0dab4a82ad">fEntryCurrent</a> &lt;= entry  &amp;&amp; entry &lt; <a class="code" href="classTTreeCache.html#a43442eb721b50d952c08eddcd40979b9">fEntryNext</a>) <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="comment">// Triggered by the user, not the learning phase</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keywordflow">if</span> (entry == -1)  entry = 0;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <a class="code" href="classTTree_1_1TClusterIterator.html">TTree::TClusterIterator</a> clusterIter = <a class="code" href="namespacetree.html">tree</a>-&gt;GetClusterIterator(entry);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <a class="code" href="classTTreeCache.html#aace41c8c93d50f9883b41d0dab4a82ad">fEntryCurrent</a> = clusterIter();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <a class="code" href="classTTreeCache.html#a43442eb721b50d952c08eddcd40979b9">fEntryNext</a> = clusterIter.<a class="code" href="classTTree_1_1TClusterIterator.html#a9b0a4ca35a0145fcd2e7356a6f357b10">GetNextEntry</a>();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCache.html#aace41c8c93d50f9883b41d0dab4a82ad">fEntryCurrent</a> &lt; <a class="code" href="classTTreeCache.html#a2df95d4ae2dff474de12a44dc20bcb8c">fEntryMin</a>) <a class="code" href="classTTreeCache.html#aace41c8c93d50f9883b41d0dab4a82ad">fEntryCurrent</a> = <a class="code" href="classTTreeCache.html#a2df95d4ae2dff474de12a44dc20bcb8c">fEntryMin</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCache.html#a9619f6f2075877dae56155281b303855">fEntryMax</a> &lt;= 0) <a class="code" href="classTTreeCache.html#a9619f6f2075877dae56155281b303855">fEntryMax</a> = <a class="code" href="namespacetree.html">tree</a>-&gt;GetEntries();</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCache.html#a43442eb721b50d952c08eddcd40979b9">fEntryNext</a> &gt; <a class="code" href="classTTreeCache.html#a9619f6f2075877dae56155281b303855">fEntryMax</a>) <a class="code" href="classTTreeCache.html#a43442eb721b50d952c08eddcd40979b9">fEntryNext</a> = <a class="code" href="classTTreeCache.html#a9619f6f2075877dae56155281b303855">fEntryMax</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="comment">// Check if owner has a TEventList set. If yes we optimize for this</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="comment">// Special case reading only the baskets containing entries in the</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="comment">// list.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <a class="code" href="classTEventList.html">TEventList</a> *elist = <a class="code" href="classTTreeCache.html#acccf97998732d2e0eb7840877128f827">fTree</a>-&gt;<a class="code" href="classTTree.html#a8721271fee765d253a8170bf41ccc4d5">GetEventList</a>();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> chainOffset = 0;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordflow">if</span> (elist) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classTTreeCache.html#acccf97998732d2e0eb7840877128f827">fTree</a>-&gt;IsA() ==<a class="code" href="Class_8C.html#adcfdef0a91f6e5dcab5b9c14cf964be5">TChain::Class</a>()) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;         <a class="code" href="classTChain.html">TChain</a> *chain = (<a class="code" href="classTChain.html">TChain</a>*)<a class="code" href="classTTreeCache.html#acccf97998732d2e0eb7840877128f827">fTree</a>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;         <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> t = chain-&gt;<a class="code" href="classTChain.html#a41098c767607c2e31c9113df4162fabd">GetTreeNumber</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;         chainOffset = chain-&gt;<a class="code" href="classTChain.html#a7f151bfc3fcddfc83aa19409668c6948">GetTreeOffset</a>()[t];</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="comment">//clear cache buffer</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <a class="code" href="classTFileCacheRead.html#a95c46a8afc18151c7acf236e509daec2">TFileCacheRead::Prefetch</a>(0,0);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="comment">//store baskets</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> i = 0; i &lt; <a class="code" href="classTTreeCache.html#ae754f89dab5a798875577de20b145c21">fNbranches</a>; i++) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="classTBranch.html">TBranch</a> *<a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a> = (<a class="code" href="classTBranch.html">TBranch</a>*)<a class="code" href="classTTreeCache.html#af8de70f635442e602c50503f0b078f3d">fBranches</a>-&gt;<a class="code" href="classTObjArray.html#adad86863df1b961853b07e36afb6a0ae">UncheckedAt</a>(i);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>-&gt;GetDirectory() == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>-&gt;GetDirectory()-&gt;GetFile() != <a class="code" href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">fFile</a>) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nb = <a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>-&gt;GetMaxBaskets();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> *lbaskets   = <a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>-&gt;GetBasketBytes();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> *entries = <a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>-&gt;GetBasketEntry();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span> (!lbaskets || !entries) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="comment">//we have found the branch. We now register all its baskets</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="comment">//from the requested offset to the basket below fEntrymax</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> blistsize = <a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>-&gt;GetListOfBaskets()-&gt;GetSize();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> j=0;j&lt;nb;j++) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         <span class="comment">// This basket has already been read, skip it</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         <span class="keywordflow">if</span> (j&lt;blistsize &amp;&amp; b-&gt;GetListOfBaskets()-&gt;UncheckedAt(j)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;         <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> pos = <a class="code" href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a>-&gt;GetBasketSeek(j);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;         <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> len = lbaskets[j];</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;         <span class="keywordflow">if</span> (pos &lt;= 0 || len &lt;= 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;         <span class="comment">//important: do not try to read fEntryNext, otherwise you jump to the next autoflush</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <span class="keywordflow">if</span> (entries[j] &gt;= <a class="code" href="classTTreeCache.html#a43442eb721b50d952c08eddcd40979b9">fEntryNext</a>) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;         <span class="keywordflow">if</span> (entries[j] &lt; entry &amp;&amp; (j &lt; nb - 1 &amp;&amp; entries[j+1] &lt;= entry)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         <span class="keywordflow">if</span> (elist) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> emax = <a class="code" href="classTTreeCache.html#a9619f6f2075877dae56155281b303855">fEntryMax</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keywordflow">if</span> (j &lt; nb - 1) emax = entries[j+1] - 1;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span> (!elist-&gt;<a class="code" href="classTEventList.html#af104e5bde546572cd8a04e01b4da4a87">ContainsRange</a>(entries[j] + chainOffset, emax + chainOffset)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;         }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;         <a class="code" href="classTTreeCache.html#acc432dd0f6aa4ca1ea7c1f61d54c3cb6">fNReadPref</a>++;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;         <a class="code" href="classTFileCacheRead.html#a95c46a8afc18151c7acf236e509daec2">TFileCacheRead::Prefetch</a>(pos, len);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0) printf(<span class="stringliteral">&quot;Entry: %lld, registering baskets branch %s, fEntryNext=%lld, fNseek=%d, fNtot=%d\n&quot;</span>, entry, ((<a class="code" href="classTBranch.html">TBranch</a>*)<a class="code" href="classTTreeCache.html#af8de70f635442e602c50503f0b078f3d">fBranches</a>-&gt;<a class="code" href="classTObjArray.html#adad86863df1b961853b07e36afb6a0ae">UncheckedAt</a>(i))-&gt;<a class="code" href="classTObject.html#a1d6abd2708ecd7578d7ff03c07037bd1">GetName</a>(), <a class="code" href="classTTreeCache.html#a43442eb721b50d952c08eddcd40979b9">fEntryNext</a>, <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>, <a class="code" href="classTFileCacheRead.html#a8b692b2e06df68d0ee648378549875db">fNtot</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <span class="comment">// Now fix the size of the status arrays</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#af5e1f72069364190e03f98b5b8ff4e8a">ResetCache</a>();</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="classTTreeCache.html#a4df8bea1fc93ec5fdbdd0de11b4b6640">fIsLearning</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">/// Change the underlying buffer size of the cache.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">/// Returns:</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">///  - 0 if the buffer content is still available</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">///  - 1 if some or all of the buffer content has been made unavailable</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">///  - -1 on error</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#ab93cb544d52eb522dea332e1cbbfe4be">  357</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#ab93cb544d52eb522dea332e1cbbfe4be">TTreeCacheUnzip::SetBufferSize</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> buffersize)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> res = <a class="code" href="classTTreeCache.html#a1a82515e3c606135d21017d8bc120d50">TTreeCache::SetBufferSize</a>(buffersize);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#aa8e74588ce4ce8d034368f0672ce7f00">fUnzipBufferSize</a> = <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a>(<a class="code" href="classTTreeCacheUnzip.html#af0c1112d8f6af664a2b6a40d735b4cfd">fgRelBuffSize</a> * <a class="code" href="classTFileCacheRead.html#aec6f306d78be3f64e77d7cc7766106a7">GetBufferSize</a>());</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#af5e1f72069364190e03f98b5b8ff4e8a">ResetCache</a>();</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">/// Set the minimum and maximum entry number to be processed</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">/// this information helps to optimize the number of baskets to read</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">/// when prefetching the branch buffers.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a2f4f22b6f6dad3a47c6858d2b00a6a81">  373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTTreeCacheUnzip.html#a2f4f22b6f6dad3a47c6858d2b00a6a81">TTreeCacheUnzip::SetEntryRange</a>(<a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> emin, <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> emax)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <a class="code" href="classTTreeCache.html#a5e047bf819ea71e557089293881e7fdd">TTreeCache::SetEntryRange</a>(emin, emax);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">/// It&#39;s the same as TTreeCache::StopLearningPhase but we guarantee that</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">/// we start the unzipping just after getting the buffers</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a024383cb2f6108cbb72c16f13d212c29">  382</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTTreeCacheUnzip.html#a024383cb2f6108cbb72c16f13d212c29">TTreeCacheUnzip::StopLearningPhase</a>()</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <a class="code" href="classTTreeCache.html#ae103e2b72ca13d09759177a492df9f40">TTreeCache::StopLearningPhase</a>();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">///update pointer to current Tree and recompute pointers to the branches in the cache</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a6c9cbb0fc0175941f03f109d44c2aa2c">  390</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTTreeCacheUnzip.html#a6c9cbb0fc0175941f03f109d44c2aa2c">TTreeCacheUnzip::UpdateBranches</a>(<a class="code" href="classTTree.html">TTree</a> *<a class="code" href="namespacetree.html">tree</a>)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <a class="code" href="classTTreeCache.html#a0355d0aa0ebcda683c6f2e640f83e8fc">TTreeCache::UpdateBranches</a>(<a class="code" href="namespacetree.html">tree</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span><span class="comment">//                                                                            //</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">// From now on we have the methods concerning the threading part of the cache //</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">//                                                                            //</span><span class="comment"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">/// Static function that returns the parallel option</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">/// (to indicate an additional thread)</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#af976bf4d25d51e13b6ce00a18f207021">  405</a></span>&#160;<a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4">TTreeCacheUnzip::EParUnzipMode</a> <a class="code" href="classTTreeCacheUnzip.html#af976bf4d25d51e13b6ce00a18f207021">TTreeCacheUnzip::GetParallelUnzip</a>()</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">/// Static function that tells wether the multithreading unzipping is activated</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#aad5f1beeba085cea450cd2a6602ab2e0">  413</a></span>&#160;<a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> <a class="code" href="classTTreeCacheUnzip.html#aad5f1beeba085cea450cd2a6602ab2e0">TTreeCacheUnzip::IsParallelUnzip</a>()</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a69274c028f4a318d8c893aec49af683d">kEnable</a> || <a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4aeb43e79c0cd32e7d0be769dd99d8d244">kForce</a>)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">/// Static function that (de)activates multithreading unzipping</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">/// The possible options are:</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">///  - kEnable _Enable_ it, which causes an automatic detection and launches the</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">///    additional thread if the number of cores in the machine is greater than</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">///    one</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">///  - kDisable _Disable_ will not activate the additional thread.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">///  - kForce _Force_ will start the additional thread even if there is only one</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">///    core. the default will be taken as kEnable.</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">/// Returns 0 if there was an error, 1 otherwise.</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a768ab2587ca6bc9e7262c363e9cee010">  434</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#a768ab2587ca6bc9e7262c363e9cee010">TTreeCacheUnzip::SetParallelUnzip</a>(<a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4">TTreeCacheUnzip::EParUnzipMode</a> option)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a69274c028f4a318d8c893aec49af683d">kEnable</a> || <a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4aeb43e79c0cd32e7d0be769dd99d8d244">kForce</a> || <a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> == <a class="code" href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a9da5711aa294d0da25bbc7a8bf299907">kDisable</a>) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">fgParallel</a> = option;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"></span><span class="comment">//                                                                            //</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">// From now on we have the methods concerning the unzipping part of the cache //</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">//                                                                            //</span><span class="comment"></span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/// Read the logical record header from the buffer buf.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">/// That must be the pointer tho the header part not the object by itself and</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">/// must contain data of at least maxbytes</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">/// Returns nread;</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/// In output arguments:</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/// -  nbytes : number of bytes in record</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">///             if negative, this is a deleted record</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">///             if 0, cannot read record, wrong value of argument first</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">/// -  objlen : uncompressed object size</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">/// -  keylen : length of logical record header</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">/// Note that the arguments objlen and keylen are returned only</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">/// if maxbytes &gt;=16</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">/// Note: This was adapted from TFile... so some things dont apply</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a82dcb9d893f19cc87f82e7722df1cb07">  467</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#a82dcb9d893f19cc87f82e7722df1cb07">TTreeCacheUnzip::GetRecordHeader</a>(<span class="keywordtype">char</span> *buf, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> maxbytes, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> &amp;nbytes, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> &amp;objlen, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> &amp;keylen)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <a class="code" href="RtypesCore_8h.html#a5d4ba170dce452c8ab6038b9fff28a6d">Version_t</a> versionkey;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <a class="code" href="RtypesCore_8h.html#ab45b4db521647ab29b906b66cb66ea67">Short_t</a> klen;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <a class="code" href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a> datime;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nb = 0, olen;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nread = maxbytes;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <a class="code" href="Bytes_8h.html#a8329ea223065063b998d4a47467a1b73">frombuf</a>(buf, &amp;nb);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   nbytes = nb;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <span class="keywordflow">if</span> (nb &lt; 0) <span class="keywordflow">return</span> nread;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <span class="comment">//   const Int_t headerSize = Int_t(sizeof(nb) +sizeof(versionkey) +sizeof(olen) +sizeof(datime) +sizeof(klen));</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keyword">const</span> <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> headerSize = 16;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <span class="keywordflow">if</span> (nread &lt; headerSize) <span class="keywordflow">return</span> nread;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <a class="code" href="Bytes_8h.html#a8329ea223065063b998d4a47467a1b73">frombuf</a>(buf, &amp;versionkey);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <a class="code" href="Bytes_8h.html#a8329ea223065063b998d4a47467a1b73">frombuf</a>(buf, &amp;olen);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   <a class="code" href="Bytes_8h.html#a8329ea223065063b998d4a47467a1b73">frombuf</a>(buf, &amp;datime);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <a class="code" href="Bytes_8h.html#a8329ea223065063b998d4a47467a1b73">frombuf</a>(buf, &amp;klen);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">if</span> (!olen) olen = nbytes - klen;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   objlen = olen;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   keylen = klen;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <span class="keywordflow">return</span> nread;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">/// This will delete the list of buffers that are in the unzipping cache</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">/// and will reset certain values in the cache.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">/// This name is ambiguos because the method doesn&#39;t reset the whole cache,</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">/// only the part related to the unzipping</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">/// Note: This method is completely different from TTreeCache::ResetCache(),</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">/// in that method we were cleaning the prefetching buffer while here we</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/// delete the information about the unzipped buffers</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#af5e1f72069364190e03f98b5b8ff4e8a">  499</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTTreeCacheUnzip.html#af5e1f72069364190e03f98b5b8ff4e8a">TTreeCacheUnzip::ResetCache</a>()</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="comment">// Reset all the lists and wipe all the chunks</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a>++;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a121377c6e6aeffd6c82499a69a3f891b">Clear</a>(<a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a> &lt; <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>){</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;         <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;ResetCache&quot;</span>, <span class="stringliteral">&quot;Changing fNseekMax from:%d to:%d&quot;</span>, <a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a>, <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a069523738ce4bf5511d8a9ffaf2d73d7">Reset</a>(<a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a>, <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a> = <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a91bad47b7f918512a512d351ba07f406">fEmpty</a> = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">/// This inflates a basket in the cache.. passing the data to a new</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">/// buffer that will only wait there to be read...</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/// This function is responsible to update corresponding elements in </span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">/// fUnzipStatus, fUnzipChunks and fUnzipLen. Since we use atomic variables</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">/// in fUnzipStatus to exclusively unzip the basket, we must update </span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">/// fUnzipStatus after fUnzipChunks and fUnzipLen and make sure fUnzipChunks</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">/// and fUnzipLen are ready before main thread fetch the data.</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a100699b65ecc2a93dcaf4656f54c7814">  524</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#a100699b65ecc2a93dcaf4656f54c7814">TTreeCacheUnzip::UnzipCache</a>(<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> index)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> myCycle;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   <span class="keyword">const</span> <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> hlen = 128;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> objlen = 0, keylen = 0;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nbytes = 0;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> readbuf = 0;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> rdoffs = 0;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> rdlen = 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <span class="comment">// To synchronize with the &#39;paging&#39;</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   myCycle = <a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   rdoffs = <a class="code" href="classTFileCacheRead.html#aba6e0f960622c01c80a4440058192850">fSeek</a>[index];</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   rdlen = <a class="code" href="classTFileCacheRead.html#a8552f2e95594b064da29797037dff70d">fSeekLen</a>[index];</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> loc = -1;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a> || <a class="code" href="classTTreeCache.html#a4df8bea1fc93ec5fdbdd0de11b4b6640">fIsLearning</a>) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="keywordflow">if</span> ((myCycle != <a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a>) || !<a class="code" href="classTFileCacheRead.html#ac7555b5a7234ee3723d9746626533359">fIsTransferred</a>)  {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">SetFinished</a>(index); <span class="comment">// Set it as not done, main thread will take charge</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="comment">// Prepare a memory buffer of adequate size</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordtype">char</span>* locbuff = 0;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="keywordflow">if</span> (rdlen &gt; 16384) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      locbuff = <span class="keyword">new</span> <span class="keywordtype">char</span>[rdlen];</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rdlen * 3 &lt; 16384) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      locbuff = <span class="keyword">new</span> <span class="keywordtype">char</span>[rdlen * 2];</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      locbuff = <span class="keyword">new</span> <span class="keywordtype">char</span>[16384];</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   readbuf = <a class="code" href="classTTreeCacheUnzip.html#a479c99585dcc0428f670b232a901c8f4">ReadBufferExt</a>(locbuff, rdoffs, rdlen, loc);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <span class="keywordflow">if</span> (readbuf &lt;= 0) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">SetFinished</a>(index); <span class="comment">// Set it as not done, main thread will take charge</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">if</span> (locbuff) <span class="keyword">delete</span> [] locbuff;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a82dcb9d893f19cc87f82e7722df1cb07">GetRecordHeader</a>(locbuff, hlen, nbytes, objlen, keylen);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> len = (objlen &gt; nbytes - keylen) ? keylen + objlen : nbytes;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <span class="comment">// If the single unzipped chunk is really too big, reset it to not processable</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <span class="comment">// I.e. mark it as done but set the pointer to 0</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   <span class="comment">// This block will be unzipped synchronously in the main thread</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   <span class="comment">// TODO: ROOT internally breaks zipped buffers into 16MB blocks, we can probably still unzip in parallel.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="keywordflow">if</span> (len &gt; 4 * <a class="code" href="classTTreeCacheUnzip.html#aa8e74588ce4ce8d034368f0672ce7f00">fUnzipBufferSize</a>) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;           <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                   <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;UnzipCache&quot;</span>, <span class="stringliteral">&quot;Block %d is too big, skipping.&quot;</span>, index);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;           <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">SetFinished</a>(index); <span class="comment">// Set it as not done, main thread will take charge</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;           <span class="keywordflow">if</span> (locbuff) <span class="keyword">delete</span> [] locbuff;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;           <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="comment">// Unzip it into a new blk</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   <span class="keywordtype">char</span> *ptr = 0;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> loclen = <a class="code" href="classTTreeCacheUnzip.html#a81dde9c29c876a63261e5c74b37c4442">UnzipBuffer</a>(&amp;ptr, locbuff);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <span class="keywordflow">if</span> ((loclen &gt; 0) &amp;&amp; (loclen == objlen + keylen)) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">if</span> ((myCycle != <a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a>) || !<a class="code" href="classTFileCacheRead.html#ac7555b5a7234ee3723d9746626533359">fIsTransferred</a>) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">SetFinished</a>(index); <span class="comment">// Set it as not done, main thread will take charge</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         <span class="keywordflow">if</span> (locbuff) <span class="keyword">delete</span> [] locbuff;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a4f5a5cb9b8ce810f0ef0bdc7c27bab24">SetUnzipped</a>(index, ptr, loclen); <span class="comment">// Set it as done</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a916f05572aba3802bf14ab10b8cea904">fNUnzip</a>++;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">SetFinished</a>(index); <span class="comment">// Set it as not done, main thread will take charge</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <span class="keywordflow">if</span> (locbuff) <span class="keyword">delete</span> [] locbuff;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#ifdef R__USE_IMT</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"></span><span class="comment">/// We create a TTaskGroup and asynchronously maps each group of baskets(&gt; 100 kB in total)</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"></span><span class="comment">/// to a task. In TTaskGroup, we use TThreadExecutor to do the actually work of unzipping </span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"></span><span class="comment">/// a group of basket. The purpose of creating TTaskGroup is to avoid competing with main thread.</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a9237c3a1fb7fcbe0c1437c3ff0a32ef4">  609</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#a9237c3a1fb7fcbe0c1437c3ff0a32ef4">TTreeCacheUnzip::CreateTasks</a>()</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;{</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keyword">auto</span> mapFunction = [&amp;]() {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keyword">auto</span> unzipFunction = [&amp;](<span class="keyword">const</span> std::vector&lt;Int_t&gt; &amp;indices) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;         <span class="comment">// If cache is invalidated and we should return immediately.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="classTFileCacheRead.html#ac7555b5a7234ee3723d9746626533359">fIsTransferred</a>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;         <span class="keywordflow">for</span> (<span class="keyword">auto</span> ii : indices) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a87e902a91baef8918c41c317fd3cded5">TryUnzipping</a>(ii)) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;               <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> res = <a class="code" href="classTTreeCacheUnzip.html#a100699b65ecc2a93dcaf4656f54c7814">UnzipCache</a>(ii);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;               <span class="keywordflow">if</span>(res)</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                     <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;UnzipCache&quot;</span>, <span class="stringliteral">&quot;Unzipping failed or cache is in learning state&quot;</span>);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;         }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;         <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      };</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> accusz = 0;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      std::vector&lt;std::vector&lt;Int_t&gt;&gt; basketIndices;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      std::vector&lt;Int_t&gt; indices;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#ab18cfdecb28e03c2ac61d06ce189f10b">fUnzipGroupSize</a> &lt;= 0) <a class="code" href="classTTreeCacheUnzip.html#ab18cfdecb28e03c2ac61d06ce189f10b">fUnzipGroupSize</a> = 102400;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> i = 0; i &lt; <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>; i++) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;         <span class="keywordflow">while</span> (accusz &lt; <a class="code" href="classTTreeCacheUnzip.html#ab18cfdecb28e03c2ac61d06ce189f10b">fUnzipGroupSize</a>) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            accusz += <a class="code" href="classTFileCacheRead.html#a8552f2e95594b064da29797037dff70d">fSeekLen</a>[i];</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            indices.push_back(i);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            i++;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keywordflow">if</span> (i &gt;= <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;         }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;         <span class="keywordflow">if</span> (i &lt; <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>) i--;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;         basketIndices.push_back(indices);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;         indices.clear();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;         accusz = 0;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <a class="code" href="classROOT_1_1TThreadExecutor.html">ROOT::TThreadExecutor</a> pool;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      pool.<a class="code" href="classROOT_1_1TThreadExecutor.html#aa94eb5d7f0cfc0260668306abcf6aa7c">Foreach</a>(unzipFunction, basketIndices);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   };</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a736a7587c3848ffacb0fd377b214ceb0">fUnzipTaskGroup</a>.reset(<span class="keyword">new</span> <a class="code" href="classROOT_1_1Experimental_1_1TTaskGroup.html">ROOT::Experimental::TTaskGroup</a>());</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a736a7587c3848ffacb0fd377b214ceb0">fUnzipTaskGroup</a>-&gt;Run(mapFunction);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">/// We try to read a buffer that has already been unzipped</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">/// Returns -1 in case of read failure, 0 in case it&#39;s not in the</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">/// cache and n&gt;0 in case read from cache (number of bytes copied).</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">/// pos and len are the original values as were passed to ReadBuffer</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">/// but instead we will return the inflated buffer.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">/// Note!! : If *buf == 0 we will allocate the buffer and it will be the</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">/// responsability of the caller to free it... it is useful for example</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/// to pass it to the creator of TBuffer</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#ac78bbc770ed9bde000f22d1c733664f5">  664</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#ac78bbc770ed9bde000f22d1c733664f5">TTreeCacheUnzip::GetUnzipBuffer</a>(<span class="keywordtype">char</span> **buf, <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> pos, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> len, <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> *<a class="code" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> res = 0;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> loc = -1;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="comment">// We go straight to TTreeCache/TfileCacheRead, in order to get the info we need</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="comment">//  pointer to the original zipped chunk</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="comment">//  its index in the original unsorted offsets lists</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <span class="comment">// Actually there are situations in which copying the buffer is not</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="comment">// useful. But the choice is among doing once more a small memcpy or a binary search in a large array. I prefer the former.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <span class="comment">// Also, here we prefer not to trigger the (re)population of the chunks in the TFileCacheRead. That is</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <span class="comment">// better to be done in the main thread.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> myCycle = <a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a99e24f7650d6d020bf7f725b7c4930c5">fParallel</a> &amp;&amp; !<a class="code" href="classTTreeCache.html#a4df8bea1fc93ec5fdbdd0de11b4b6640">fIsLearning</a>) {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a> &lt; <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>){</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetUnzipBuffer&quot;</span>, <span class="stringliteral">&quot;Changing fNseekMax from:%d to:%d&quot;</span>, <a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a>, <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a069523738ce4bf5511d8a9ffaf2d73d7">Reset</a>(<a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a>, <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">fNseekMax</a> = <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      loc = (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a>)<a class="code" href="namespaceTMath.html#ae8a206ba974de95acd806a4516418e53">TMath::BinarySearch</a>(<a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>, <a class="code" href="classTFileCacheRead.html#a442f97dbb6148a8dfdcf19303d24b694">fSeekSort</a>, pos);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a> == myCycle) &amp;&amp; (loc &gt;= 0) &amp;&amp; (loc &lt; <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>) &amp;&amp; (pos == <a class="code" href="classTFileCacheRead.html#a442f97dbb6148a8dfdcf19303d24b694">fSeekSort</a>[loc])) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;         <span class="comment">// The buffer is, at minimum, in the file cache. We must know its index in the requests list</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;         <span class="comment">// In order to get its info</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;         <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> seekidx = <a class="code" href="classTFileCacheRead.html#a3f90e678f15010fc7007d7e2af2a7703">fSeekIndex</a>[loc];</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;         <span class="keywordflow">do</span> {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="comment">// If the block is ready we get it immediately.</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="comment">// And also we don&#39;t have to alloc the blks. This is supposed to be</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="comment">// the main thread of the app.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#ad5a15a143903fefe0d33914754c0563f">IsUnzipped</a>(seekidx)) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;               <span class="keywordflow">if</span>(!(*buf)) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                  *buf = <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].get();</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                  <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].release();</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                  *<a class="code" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                  memcpy(*buf, <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].get(), <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a61fb52c6d0a569ee7bbacfc82826ee14">fUnzipLen</a>[seekidx]);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                  <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].reset();</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                  *<a class="code" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;               }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;               <a class="code" href="classTTreeCacheUnzip.html#ac7087d5f537746e07c8a731ae5e89311">fNFound</a>++;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;               <span class="keywordflow">return</span> <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a61fb52c6d0a569ee7bbacfc82826ee14">fUnzipLen</a>[seekidx];</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="comment">// If the requested basket is being unzipped by a background task, we try to steal a blk to unzip.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> reqi = -1;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            </div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a24d4622793ddc0dd6a61dfc81c5e4992">IsProgress</a>(seekidx)) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a91bad47b7f918512a512d351ba07f406">fEmpty</a>) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> ii = 0; ii &lt; <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>; ++ii) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                     <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> idx = (seekidx + 1 + ii) % <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                     <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#ae65d790b90703443b64c2afce335ca1f">IsUntouched</a>(idx)) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a87e902a91baef8918c41c317fd3cded5">TryUnzipping</a>(idx)) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                           reqi = idx;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                           <span class="keywordflow">break</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                        }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                     }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                  }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                  <span class="keywordflow">if</span> (reqi &lt; 0) {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                     <a class="code" href="classTTreeCacheUnzip.html#a91bad47b7f918512a512d351ba07f406">fEmpty</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                     <a class="code" href="classTTreeCacheUnzip.html#a100699b65ecc2a93dcaf4656f54c7814">UnzipCache</a>(reqi);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                  }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;               }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;               <span class="keywordflow">if</span> ( myCycle != <a class="code" href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">fCycle</a> ) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 0)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                     <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;GetUnzipBuffer&quot;</span>, <span class="stringliteral">&quot;Sudden paging Break!!! fNseek: %d, fIsLearning:%d&quot;</span>,</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                          <a class="code" href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">fNseek</a>, <a class="code" href="classTTreeCache.html#a4df8bea1fc93ec5fdbdd0de11b4b6640">fIsLearning</a>);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                  seekidx = -1;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;               }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;         } <span class="keywordflow">while</span> (<a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a24d4622793ddc0dd6a61dfc81c5e4992">IsProgress</a>(seekidx));</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;         <span class="comment">// Here the block is not pending. It could be done or aborted or not yet being processed.</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;         <span class="keywordflow">if</span> ( (seekidx &gt;= 0) &amp;&amp; (<a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#ad5a15a143903fefe0d33914754c0563f">IsUnzipped</a>(seekidx)) ) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">if</span>(!(*buf)) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;              *buf = <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].get();</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;               <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].release();</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;               *<a class="code" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;               memcpy(*buf, <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].get(), <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a61fb52c6d0a569ee7bbacfc82826ee14">fUnzipLen</a>[seekidx]);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;               <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">fUnzipChunks</a>[seekidx].reset();</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;               *<a class="code" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <a class="code" href="classTTreeCacheUnzip.html#a6e71fe228fc61b0424d4de286e110df2">fNStalls</a>++;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a61fb52c6d0a569ee7bbacfc82826ee14">fUnzipLen</a>[seekidx];</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            <span class="comment">// This is a complete miss. We want to avoid the background tasks</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="comment">// to try unzipping this block in the future.</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <a class="code" href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">fUnzipState</a>.<a class="code" href="structTTreeCacheUnzip_1_1UnzipState.html#a95e3d6898949eae37b12151673d6f14a">SetMissed</a>(seekidx);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;         }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;         loc = -1;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;         <a class="code" href="classTFileCacheRead.html#ac7555b5a7234ee3723d9746626533359">fIsTransferred</a> = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">if</span> (len &gt; <a class="code" href="classTTreeCacheUnzip.html#a028d77f1a5867e81994419a8bfae4e1b">fCompBufferSize</a>) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a>) <span class="keyword">delete</span> [] <a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a>;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[len];</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a028d77f1a5867e81994419a8bfae4e1b">fCompBufferSize</a> = len;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classTTreeCacheUnzip.html#a028d77f1a5867e81994419a8bfae4e1b">fCompBufferSize</a> &gt; len * 4) {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a>) <span class="keyword">delete</span> [] <a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[len*2];</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a028d77f1a5867e81994419a8bfae4e1b">fCompBufferSize</a> = len * 2;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   res = 0;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classTTreeCacheUnzip.html#a479c99585dcc0428f670b232a901c8f4">ReadBufferExt</a>(<a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a>, pos, len, loc)) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="comment">// Cache is invalidated and we need to wait for all unzipping tasks to befinished before fill new baskets in cache.</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">#ifdef R__USE_IMT</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespaceROOT.html#a0a50c774df38a507630a2ff201df20c2">ROOT::IsImplicitMTEnabled</a>() &amp;&amp; <a class="code" href="classTTreeCacheUnzip.html#a736a7587c3848ffacb0fd377b214ceb0">fUnzipTaskGroup</a>) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a736a7587c3848ffacb0fd377b214ceb0">fUnzipTaskGroup</a>-&gt;Cancel();</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a736a7587c3848ffacb0fd377b214ceb0">fUnzipTaskGroup</a>.reset();</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         <span class="comment">// Fill new baskets into cache.</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;         <a class="code" href="TVirtualMutex_8h.html#ada1389ee791f98b34e54ba0c3965a997">R__LOCKGUARD</a>(<a class="code" href="classTTreeCacheUnzip.html#a8fe3ceac8691bb78b5ae834df8fb8810">fIOMutex</a>.get());</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;         <a class="code" href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">fFile</a>-&gt;<a class="code" href="classTFile.html#a0e3545cf9fc514d7520e81dbd9353804">Seek</a>(pos);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;         res = <a class="code" href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">fFile</a>-&gt;<a class="code" href="classTFile.html#af2bb990a1c7c2ea253cdd7ba1bbee991">ReadBuffer</a>(<a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a>, len);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      } <span class="comment">// end of lock scope</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">#ifdef R__USE_IMT</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespaceROOT.html#a0a50c774df38a507630a2ff201df20c2">ROOT::IsImplicitMTEnabled</a>()) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;         <a class="code" href="classTTreeCacheUnzip.html#a9237c3a1fb7fcbe0c1437c3ff0a32ef4">CreateTasks</a>();</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <span class="keywordflow">if</span> (res) res = -1;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      res = <a class="code" href="classTTreeCacheUnzip.html#a81dde9c29c876a63261e5c74b37c4442">UnzipBuffer</a>(buf, <a class="code" href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">fCompBuffer</a>);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      *<a class="code" href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classTTreeCache.html#a4df8bea1fc93ec5fdbdd0de11b4b6640">fIsLearning</a>) {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <a class="code" href="classTTreeCacheUnzip.html#a153d4603d0347623955682204e14f010">fNMissed</a>++;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   }</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   </div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">/// static function: Sets the unzip relatibe buffer size</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a8688ebaea7131a6cc92f3590848df992">  826</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTTreeCacheUnzip.html#a8688ebaea7131a6cc92f3590848df992">TTreeCacheUnzip::SetUnzipRelBufferSize</a>(<a class="code" href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a> relbufferSize)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#af0c1112d8f6af664a2b6a40d735b4cfd">fgRelBuffSize</a> = relbufferSize;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">/// Sets the size for the unzipping cache... by default it should be</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">/// two times the size of the prefetching cache</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#ab12a815e09e3a751bf117e8d9d34b92b">  835</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTTreeCacheUnzip.html#ab12a815e09e3a751bf117e8d9d34b92b">TTreeCacheUnzip::SetUnzipBufferSize</a>(<a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> bufferSize)</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;{</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#aa8e74588ce4ce8d034368f0672ce7f00">fUnzipBufferSize</a> = bufferSize;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">/// Unzips a ROOT specific buffer... by reading the header at the beginning.</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">/// returns the size of the inflated buffer or -1 if error</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">/// Note!! : If *dest == 0 we will allocate the buffer and it will be the</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">/// responsability of the caller to free it... it is useful for example</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">/// to pass it to the creator of TBuffer</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">/// src is the original buffer with the record (header+compressed data)</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">/// *dest is the inflated buffer (including the header)</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a81dde9c29c876a63261e5c74b37c4442">  849</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#a81dde9c29c876a63261e5c74b37c4442">TTreeCacheUnzip::UnzipBuffer</a>(<span class="keywordtype">char</span> **<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a>, <span class="keywordtype">char</span> *src)</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;{</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a>  uzlen = 0;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> alloc = <a class="code" href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <span class="comment">// Here we read the header of the buffer</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keyword">const</span> <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> hlen = 128;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nbytes = 0, objlen = 0, keylen = 0;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <a class="code" href="classTTreeCacheUnzip.html#a82dcb9d893f19cc87f82e7722df1cb07">GetRecordHeader</a>(src, hlen, nbytes, objlen, keylen);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <span class="keywordflow">if</span> (!(*<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a>)) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="comment">/* early consistency check */</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <a class="code" href="RtypesCore_8h.html#a64926e032e221b6f9a7a97ceac657223">UChar_t</a> *bufcur = (<a class="code" href="RtypesCore_8h.html#a64926e032e221b6f9a7a97ceac657223">UChar_t</a> *) (src + keylen);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nin, nbuf;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">if</span>(objlen &gt; nbytes - keylen &amp;&amp; <a class="code" href="TTreeCacheUnzip_8cxx.html#a9f7294b7a73406af1a0aefa20afd87d7">R__unzip_header</a>(&amp;nin, bufcur, &amp;nbuf) != 0) {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;UnzipBuffer&quot;</span>, <span class="stringliteral">&quot;Inconsistency found in header (nin=%d, nbuf=%d)&quot;</span>, nin, nbuf);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;         uzlen = -1;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;         <span class="keywordflow">return</span> uzlen;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="textangle_8C.html#a3359d7f1aa9fe2f8bc884b02020e8d20">l</a> = keylen + objlen;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      *<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[<a class="code" href="textangle_8C.html#a3359d7f1aa9fe2f8bc884b02020e8d20">l</a>];</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      alloc = <a class="code" href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="comment">// Must unzip the buffer</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="comment">// fSeekPos[ind]; adress of zipped buffer</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="comment">// fSeekLen[ind]; len of the zipped buffer</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <span class="comment">// &amp;fBuffer[fSeekPos[ind]]; memory address</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="comment">// This is similar to TBasket::ReadBasketBuffers</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <a class="code" href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a> oldCase = objlen == nbytes - keylen</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      &amp;&amp; ((<a class="code" href="classTBranch.html">TBranch</a>*)<a class="code" href="classTTreeCache.html#af8de70f635442e602c50503f0b078f3d">fBranches</a>-&gt;<a class="code" href="classTObjArray.html#adad86863df1b961853b07e36afb6a0ae">UncheckedAt</a>(0))-&gt;GetCompressionLevel() != 0</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      &amp;&amp; <a class="code" href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">fFile</a>-&gt;<a class="code" href="classTFile.html#a1789e0e9696c18dd6d702ccebab71f75">GetVersion</a>() &lt;= 30401;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <span class="keywordflow">if</span> (objlen &gt; nbytes-keylen || oldCase) {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="comment">// Copy the key</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      memcpy(*<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a>, src, keylen);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      uzlen += keylen;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordtype">char</span> *objbuf = *<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a> + keylen;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <a class="code" href="RtypesCore_8h.html#a64926e032e221b6f9a7a97ceac657223">UChar_t</a> *bufcur = (<a class="code" href="RtypesCore_8h.html#a64926e032e221b6f9a7a97ceac657223">UChar_t</a> *) (src + keylen);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nin, nbuf;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> nout = 0;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> noutot = 0;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;         <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> hc = <a class="code" href="TTreeCacheUnzip_8cxx.html#a9f7294b7a73406af1a0aefa20afd87d7">R__unzip_header</a>(&amp;nin, bufcur, &amp;nbuf);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;         <span class="keywordflow">if</span> (hc != 0) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 2)</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;UnzipBuffer&quot;</span>, <span class="stringliteral">&quot; nin:%d, nbuf:%d, bufcur[3] :%d, bufcur[4] :%d, bufcur[5] :%d &quot;</span>,</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                 nin, nbuf, bufcur[3], bufcur[4], bufcur[5]);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;         <span class="keywordflow">if</span> (oldCase &amp;&amp; (nin &gt; objlen || nbuf &gt; objlen)) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 2)</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;               <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;UnzipBuffer&quot;</span>, <span class="stringliteral">&quot;oldcase objlen :%d &quot;</span>, objlen);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="comment">//buffer was very likely not compressed in an old version</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            memcpy(*<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a> + keylen, src + keylen, objlen);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            uzlen += objlen;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">return</span> uzlen;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;         }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;         <a class="code" href="TTreeCacheUnzip_8cxx.html#a2ae43fb3a12053823a206367da9046f0">R__unzip</a>(&amp;nin, bufcur, &amp;nbuf, objbuf, &amp;nout);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a> &gt; 2)</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <a class="code" href="classTObject.html#afc345b772a999b230e011b316d8ae328">Info</a>(<span class="stringliteral">&quot;UnzipBuffer&quot;</span>, <span class="stringliteral">&quot;R__unzip nin:%d, bufcur:%p, nbuf:%d, objbuf:%p, nout:%d&quot;</span>,</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                 nin, bufcur, nbuf, objbuf, nout);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;         <span class="keywordflow">if</span> (!nout) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;         noutot += nout;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;         <span class="keywordflow">if</span> (noutot &gt;= objlen) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;         bufcur += nin;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;         objbuf += nout;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">if</span> (noutot != objlen) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;         <a class="code" href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">Error</a>(<span class="stringliteral">&quot;UnzipBuffer&quot;</span>, <span class="stringliteral">&quot;nbytes = %d, keylen = %d, objlen = %d, noutot = %d, nout=%d, nin=%d, nbuf=%d&quot;</span>,</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;               nbytes,keylen,objlen, noutot,nout,nin,nbuf);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;         uzlen = -1;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;         <span class="keywordflow">if</span>(alloc) <span class="keyword">delete</span> [] *<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;         *<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a> = 0;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;         <span class="keywordflow">return</span> uzlen;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      uzlen += objlen;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      memcpy(*<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a>, src, keylen);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      uzlen += keylen;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      memcpy(*<a class="code" href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a> + keylen, src + keylen, objlen);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      uzlen += objlen;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   <span class="keywordflow">return</span> uzlen;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;}</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00943"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a893b21747fd60c547472419c3284859c">  943</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="classTTreeCacheUnzip.html#a893b21747fd60c547472419c3284859c">TTreeCacheUnzip::Print</a>(<a class="code" href="RtypesCore_8h.html#afc405399e08793afdff5b4692827b2a1">Option_t</a>* option)<span class="keyword"> const </span>{</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   printf(<span class="stringliteral">&quot;******TreeCacheUnzip statistics for file: %s ******\n&quot;</span>,<a class="code" href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">fFile</a>-&gt;<a class="code" href="classTNamed.html#a42e3142d30b08fed1b07216d4a36b090">GetName</a>());</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   printf(<span class="stringliteral">&quot;Max allowed mem for pending buffers: %lld\n&quot;</span>, <a class="code" href="classTTreeCacheUnzip.html#aa8e74588ce4ce8d034368f0672ce7f00">fUnzipBufferSize</a>);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   printf(<span class="stringliteral">&quot;Number of blocks unzipped by threads: %d\n&quot;</span>, <a class="code" href="classTTreeCacheUnzip.html#a916f05572aba3802bf14ab10b8cea904">fNUnzip</a>);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   printf(<span class="stringliteral">&quot;Number of hits: %d\n&quot;</span>, <a class="code" href="classTTreeCacheUnzip.html#ac7087d5f537746e07c8a731ae5e89311">fNFound</a>);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   printf(<span class="stringliteral">&quot;Number of stalls: %d\n&quot;</span>, <a class="code" href="classTTreeCacheUnzip.html#a6e71fe228fc61b0424d4de286e110df2">fNStalls</a>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   printf(<span class="stringliteral">&quot;Number of misses: %d\n&quot;</span>, <a class="code" href="classTTreeCacheUnzip.html#a153d4603d0347623955682204e14f010">fNMissed</a>);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <a class="code" href="classTTreeCache.html#af6c3a5d50e23aeffecf0f59b4e941f90">TTreeCache::Print</a>(option);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="classTTreeCacheUnzip.html#a479c99585dcc0428f670b232a901c8f4">  957</a></span>&#160;<a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> <a class="code" href="classTTreeCacheUnzip.html#a479c99585dcc0428f670b232a901c8f4">TTreeCacheUnzip::ReadBufferExt</a>(<span class="keywordtype">char</span> *buf, <a class="code" href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a> pos, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> len, <a class="code" href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a> &amp;loc) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <a class="code" href="TVirtualMutex_8h.html#ada1389ee791f98b34e54ba0c3965a997">R__LOCKGUARD</a>(<a class="code" href="classTTreeCacheUnzip.html#a8fe3ceac8691bb78b5ae834df8fb8810">fIOMutex</a>.get());</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classTFileCacheRead.html#a405aeed3b317d9cfc578d392225aa2f8">TTreeCache::ReadBufferExt</a>(buf, pos, len, loc);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;}</div><div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_af615cb58333a13585619ced1d7b7eac0"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#af615cb58333a13585619ced1d7b7eac0">TTreeCacheUnzip::UnzipState::fUnzipChunks</a></div><div class="ttdeci">std::unique_ptr&lt; char[]&gt; * fUnzipChunks</div><div class="ttdoc">! [fNseek] Individual unzipped chunks. Their summed size is kept under control. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00051">TTreeCacheUnzip.h:51</a></div></div>
<div class="ttc" id="classTNamed_html_a42e3142d30b08fed1b07216d4a36b090"><div class="ttname"><a href="classTNamed.html#a42e3142d30b08fed1b07216d4a36b090">TNamed::GetName</a></div><div class="ttdeci">virtual const char * GetName() const</div><div class="ttdoc">Returns name of object. </div><div class="ttdef"><b>Definition:</b> <a href="TNamed_8h_source.html#l00047">TNamed.h:47</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_a8b692b2e06df68d0ee648378549875db"><div class="ttname"><a href="classTFileCacheRead.html#a8b692b2e06df68d0ee648378549875db">TFileCacheRead::fNtot</a></div><div class="ttdeci">Int_t fNtot</div><div class="ttdoc">Total size of prefetched blocks. </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00040">TFileCacheRead.h:40</a></div></div>
<div class="ttc" id="Bytes_8h_html_a8329ea223065063b998d4a47467a1b73"><div class="ttname"><a href="Bytes_8h.html#a8329ea223065063b998d4a47467a1b73">frombuf</a></div><div class="ttdeci">void frombuf(char *&amp;buf, Bool_t *x)</div><div class="ttdef"><b>Definition:</b> <a href="Bytes_8h_source.html#l00280">Bytes.h:280</a></div></div>
<div class="ttc" id="classTTreeCache_html_a9619f6f2075877dae56155281b303855"><div class="ttname"><a href="classTTreeCache.html#a9619f6f2075877dae56155281b303855">TTreeCache::fEntryMax</a></div><div class="ttdeci">Long64_t fEntryMax</div><div class="ttdoc">! last entry in the cache </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00042">TTreeCache.h:42</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a24d4622793ddc0dd6a61dfc81c5e4992"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a24d4622793ddc0dd6a61dfc81c5e4992">TTreeCacheUnzip::UnzipState::IsProgress</a></div><div class="ttdeci">Bool_t IsProgress(Int_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00069">TTreeCacheUnzip.cxx:69</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a916f05572aba3802bf14ab10b8cea904"><div class="ttname"><a href="classTTreeCacheUnzip.html#a916f05572aba3802bf14ab10b8cea904">TTreeCacheUnzip::fNUnzip</a></div><div class="ttdeci">Int_t fNUnzip</div><div class="ttdoc">! number of blocks that were unzipped </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00106">TTreeCacheUnzip.h:106</a></div></div>
<div class="ttc" id="classTTree_1_1TClusterIterator_html_a9b0a4ca35a0145fcd2e7356a6f357b10"><div class="ttname"><a href="classTTree_1_1TClusterIterator.html#a9b0a4ca35a0145fcd2e7356a6f357b10">TTree::TClusterIterator::GetNextEntry</a></div><div class="ttdeci">Long64_t GetNextEntry()</div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00284">TTree.h:284</a></div></div>
<div class="ttc" id="classTObject_html_afc345b772a999b230e011b316d8ae328"><div class="ttname"><a href="classTObject.html#afc345b772a999b230e011b316d8ae328">TObject::Info</a></div><div class="ttdeci">virtual void Info(const char *method, const char *msgfmt,...) const</div><div class="ttdoc">Issue info message. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00854">TObject.cxx:854</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_ac79cc284679f8e51fb5ae2b57fe94e5d"><div class="ttname"><a href="classTFileCacheRead.html#ac79cc284679f8e51fb5ae2b57fe94e5d">TFileCacheRead::fFile</a></div><div class="ttdeci">TFile * fFile</div><div class="ttdoc">Pointer to file. </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00051">TFileCacheRead.h:51</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a53be50723b314577bd653310631e3266"><div class="ttname"><a href="classTTreeCacheUnzip.html#a53be50723b314577bd653310631e3266">TTreeCacheUnzip::TTreeCacheUnzip</a></div><div class="ttdeci">TTreeCacheUnzip()</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00157">TTreeCacheUnzip.cxx:157</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_adaf6e69e06203ab5ae4994d1e7590647"><div class="ttname"><a href="RtypesCore_8h.html#adaf6e69e06203ab5ae4994d1e7590647">Long64_t</a></div><div class="ttdeci">long long Long64_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00069">RtypesCore.h:69</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a5d4ba170dce452c8ab6038b9fff28a6d"><div class="ttname"><a href="RtypesCore_8h.html#a5d4ba170dce452c8ab6038b9fff28a6d">Version_t</a></div><div class="ttdeci">short Version_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00061">RtypesCore.h:61</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a6c9cbb0fc0175941f03f109d44c2aa2c"><div class="ttname"><a href="classTTreeCacheUnzip.html#a6c9cbb0fc0175941f03f109d44c2aa2c">TTreeCacheUnzip::UpdateBranches</a></div><div class="ttdeci">void UpdateBranches(TTree *tree)</div><div class="ttdoc">update pointer to current Tree and recompute pointers to the branches in the cache ...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00390">TTreeCacheUnzip.cxx:390</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_af5e1f72069364190e03f98b5b8ff4e8a"><div class="ttname"><a href="classTTreeCacheUnzip.html#af5e1f72069364190e03f98b5b8ff4e8a">TTreeCacheUnzip::ResetCache</a></div><div class="ttdeci">virtual void ResetCache()</div><div class="ttdoc">This will delete the list of buffers that are in the unzipping cache and will reset certain values in...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00499">TTreeCacheUnzip.cxx:499</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_aeea98adf47c4604318761944f6780133"><div class="ttname"><a href="RtypesCore_8h.html#aeea98adf47c4604318761944f6780133">Float_t</a></div><div class="ttdeci">float Float_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00053">RtypesCore.h:53</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_adc3ee827b6ddaeb7c34b7532df0730d4a9da5711aa294d0da25bbc7a8bf299907"><div class="ttname"><a href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a9da5711aa294d0da25bbc7a8bf299907">TTreeCacheUnzip::kDisable</a></div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00040">TTreeCacheUnzip.h:40</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a6e71fe228fc61b0424d4de286e110df2"><div class="ttname"><a href="classTTreeCacheUnzip.html#a6e71fe228fc61b0424d4de286e110df2">TTreeCacheUnzip::fNStalls</a></div><div class="ttdeci">Int_t fNStalls</div><div class="ttdoc">! number of hits which caused a stall </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00105">TTreeCacheUnzip.h:105</a></div></div>
<div class="ttc" id="classTTreeCache_html_af8de70f635442e602c50503f0b078f3d"><div class="ttname"><a href="classTTreeCache.html#af8de70f635442e602c50503f0b078f3d">TTreeCache::fBranches</a></div><div class="ttdeci">TObjArray * fBranches</div><div class="ttdoc">! List of branches to be stored in the cache </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00054">TTreeCache.h:54</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_afc405399e08793afdff5b4692827b2a1"><div class="ttname"><a href="RtypesCore_8h.html#afc405399e08793afdff5b4692827b2a1">Option_t</a></div><div class="ttdeci">const char Option_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00062">RtypesCore.h:62</a></div></div>
<div class="ttc" id="TBranch_8h_html"><div class="ttname"><a href="TBranch_8h.html">TBranch.h</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a82dcb9d893f19cc87f82e7722df1cb07"><div class="ttname"><a href="classTTreeCacheUnzip.html#a82dcb9d893f19cc87f82e7722df1cb07">TTreeCacheUnzip::GetRecordHeader</a></div><div class="ttdeci">Int_t GetRecordHeader(char *buf, Int_t maxbytes, Int_t &amp;nbytes, Int_t &amp;objlen, Int_t &amp;keylen)</div><div class="ttdoc">Read the logical record header from the buffer buf. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00467">TTreeCacheUnzip.cxx:467</a></div></div>
<div class="ttc" id="TTaskGroup_8hxx_html"><div class="ttname"><a href="TTaskGroup_8hxx.html">TTaskGroup.hxx</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a87e902a91baef8918c41c317fd3cded5"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a87e902a91baef8918c41c317fd3cded5">TTreeCacheUnzip::UnzipState::TryUnzipping</a></div><div class="ttdeci">Bool_t TryUnzipping(Int_t index)</div><div class="ttdoc">Start unzipping the basket if it is untouched yet. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00149">TTreeCacheUnzip.cxx:149</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a024383cb2f6108cbb72c16f13d212c29"><div class="ttname"><a href="classTTreeCacheUnzip.html#a024383cb2f6108cbb72c16f13d212c29">TTreeCacheUnzip::StopLearningPhase</a></div><div class="ttdeci">virtual void StopLearningPhase()</div><div class="ttdoc">It&amp;#39;s the same as TTreeCache::StopLearningPhase but we guarantee that we start the unzipping just afte...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00382">TTreeCacheUnzip.cxx:382</a></div></div>
<div class="ttc" id="classTTreeCache_html"><div class="ttname"><a href="classTTreeCache.html">TTreeCache</a></div><div class="ttdoc">A cache to speed-up the reading of ROOT datasets. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00035">TTreeCache.h:35</a></div></div>
<div class="ttc" id="classTFile_html_a0e3545cf9fc514d7520e81dbd9353804"><div class="ttname"><a href="classTFile.html#a0e3545cf9fc514d7520e81dbd9353804">TFile::Seek</a></div><div class="ttdeci">virtual void Seek(Long64_t offset, ERelativeTo pos=kBeg)</div><div class="ttdoc">Seek to a specific position in the file. Pos it either kBeg, kCur or kEnd. </div><div class="ttdef"><b>Definition:</b> <a href="TFile_8cxx_source.html#l02168">TFile.cxx:2168</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a768ab2587ca6bc9e7262c363e9cee010"><div class="ttname"><a href="classTTreeCacheUnzip.html#a768ab2587ca6bc9e7262c363e9cee010">TTreeCacheUnzip::SetParallelUnzip</a></div><div class="ttdeci">static Int_t SetParallelUnzip(TTreeCacheUnzip::EParUnzipMode option=TTreeCacheUnzip::kEnable)</div><div class="ttdoc">Static function that (de)activates multithreading unzipping. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00434">TTreeCacheUnzip.cxx:434</a></div></div>
<div class="ttc" id="classTFile_html_af2bb990a1c7c2ea253cdd7ba1bbee991"><div class="ttname"><a href="classTFile.html#af2bb990a1c7c2ea253cdd7ba1bbee991">TFile::ReadBuffer</a></div><div class="ttdeci">virtual Bool_t ReadBuffer(char *buf, Int_t len)</div><div class="ttdoc">Read a buffer from the file. </div><div class="ttdef"><b>Definition:</b> <a href="TFile_8cxx_source.html#l01665">TFile.cxx:1665</a></div></div>
<div class="ttc" id="namespaceROOT_html_a0a50c774df38a507630a2ff201df20c2"><div class="ttname"><a href="namespaceROOT.html#a0a50c774df38a507630a2ff201df20c2">ROOT::IsImplicitMTEnabled</a></div><div class="ttdeci">Bool_t IsImplicitMTEnabled()</div><div class="ttdoc">Returns true if the implicit multi-threading in ROOT is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="TROOT_8cxx_source.html#l00610">TROOT.cxx:610</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_ab93cb544d52eb522dea332e1cbbfe4be"><div class="ttname"><a href="classTTreeCacheUnzip.html#ab93cb544d52eb522dea332e1cbbfe4be">TTreeCacheUnzip::SetBufferSize</a></div><div class="ttdeci">virtual Int_t SetBufferSize(Int_t buffersize)</div><div class="ttdoc">Change the underlying buffer size of the cache. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00357">TTreeCacheUnzip.cxx:357</a></div></div>
<div class="ttc" id="classTTreeCache_html_a2df95d4ae2dff474de12a44dc20bcb8c"><div class="ttname"><a href="classTTreeCache.html#a2df95d4ae2dff474de12a44dc20bcb8c">TTreeCache::fEntryMin</a></div><div class="ttdeci">Long64_t fEntryMin</div><div class="ttdoc">! first entry in the cache </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00041">TTreeCache.h:41</a></div></div>
<div class="ttc" id="TFile_8h_html"><div class="ttname"><a href="TFile_8h.html">TFile.h</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a0ac2a12b57d7dc23030acca009678976"><div class="ttname"><a href="classTTreeCacheUnzip.html#a0ac2a12b57d7dc23030acca009678976">TTreeCacheUnzip::FillBuffer</a></div><div class="ttdeci">Bool_t FillBuffer()</div><div class="ttdoc">Fill the cache buffer with the branches in the cache. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00265">TTreeCacheUnzip.cxx:265</a></div></div>
<div class="ttc" id="classROOT_1_1TThreadExecutor_html_aa94eb5d7f0cfc0260668306abcf6aa7c"><div class="ttname"><a href="classROOT_1_1TThreadExecutor.html#aa94eb5d7f0cfc0260668306abcf6aa7c">ROOT::TThreadExecutor::Foreach</a></div><div class="ttdeci">void Foreach(F func, unsigned nTimes, unsigned nChunks=0)</div><div class="ttdoc">Execute func (with no arguments) nTimes in parallel. </div><div class="ttdef"><b>Definition:</b> <a href="TThreadExecutor_8hxx_source.html#l00118">TThreadExecutor.hxx:118</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_a95c46a8afc18151c7acf236e509daec2"><div class="ttname"><a href="classTFileCacheRead.html#a95c46a8afc18151c7acf236e509daec2">TFileCacheRead::Prefetch</a></div><div class="ttdeci">virtual void Prefetch(Long64_t pos, Int_t len)</div><div class="ttdoc">Add block of length len at position pos in the list of blocks to be prefetched. </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8cxx_source.html#l00201">TFileCacheRead.cxx:201</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a3885b911a54b47a4e61671f45dd45d0b"><div class="ttname"><a href="RtypesCore_8h.html#a3885b911a54b47a4e61671f45dd45d0b">Int_t</a></div><div class="ttdeci">int Int_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00041">RtypesCore.h:41</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_aa101f564ac7b845ca31aec2fbc00ce97"><div class="ttname"><a href="RtypesCore_8h.html#aa101f564ac7b845ca31aec2fbc00ce97">Bool_t</a></div><div class="ttdeci">bool Bool_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00059">RtypesCore.h:59</a></div></div>
<div class="ttc" id="classTTreeCache_html_ae103e2b72ca13d09759177a492df9f40"><div class="ttname"><a href="classTTreeCache.html#ae103e2b72ca13d09759177a492df9f40">TTreeCache::StopLearningPhase</a></div><div class="ttdeci">virtual void StopLearningPhase()</div><div class="ttdoc">This is the counterpart of StartLearningPhase() and can be used to stop the learning phase...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8cxx_source.html#l02152">TTreeCache.cxx:2152</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a121377c6e6aeffd6c82499a69a3f891b"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a121377c6e6aeffd6c82499a69a3f891b">TTreeCacheUnzip::UnzipState::Clear</a></div><div class="ttdeci">void Clear(Int_t size)</div><div class="ttdoc">Clear all baskets&amp;#39; state arrays. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00051">TTreeCacheUnzip.cxx:51</a></div></div>
<div class="ttc" id="classTTreeCache_html_a023bb84bb5e6dcc73b0fca41eb69b1dc"><div class="ttname"><a href="classTTreeCache.html#a023bb84bb5e6dcc73b0fca41eb69b1dc">TTreeCache::AddBranch</a></div><div class="ttdeci">virtual Int_t AddBranch(TBranch *b, Bool_t subgbranches=kFALSE)</div><div class="ttdoc">Add a branch to the list of branches to be stored in the cache this function is called by the user vi...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8cxx_source.html#l00368">TTreeCache.cxx:368</a></div></div>
<div class="ttc" id="classTChain_html_a7f151bfc3fcddfc83aa19409668c6948"><div class="ttname"><a href="classTChain.html#a7f151bfc3fcddfc83aa19409668c6948">TChain::GetTreeOffset</a></div><div class="ttdeci">Long64_t * GetTreeOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="TChain_8h_source.html#l00118">TChain.h:118</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_ab12a815e09e3a751bf117e8d9d34b92b"><div class="ttname"><a href="classTTreeCacheUnzip.html#ab12a815e09e3a751bf117e8d9d34b92b">TTreeCacheUnzip::SetUnzipBufferSize</a></div><div class="ttdeci">void SetUnzipBufferSize(Long64_t bufferSize)</div><div class="ttdoc">Sets the size for the unzipping cache... </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00835">TTreeCacheUnzip.cxx:835</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_ac7087d5f537746e07c8a731ae5e89311"><div class="ttname"><a href="classTTreeCacheUnzip.html#ac7087d5f537746e07c8a731ae5e89311">TTreeCacheUnzip::fNFound</a></div><div class="ttdeci">Int_t fNFound</div><div class="ttdoc">! number of blocks that were found in the cache </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00103">TTreeCacheUnzip.h:103</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_ad5a15a143903fefe0d33914754c0563f"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#ad5a15a143903fefe0d33914754c0563f">TTreeCacheUnzip::UnzipState::IsUnzipped</a></div><div class="ttdeci">Bool_t IsUnzipped(Int_t index) const</div><div class="ttdoc">Check if the basket is unzipped already. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00083">TTreeCacheUnzip.cxx:83</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_aad5f1beeba085cea450cd2a6602ab2e0"><div class="ttname"><a href="classTTreeCacheUnzip.html#aad5f1beeba085cea450cd2a6602ab2e0">TTreeCacheUnzip::IsParallelUnzip</a></div><div class="ttdeci">static Bool_t IsParallelUnzip()</div><div class="ttdoc">Static function that tells wether the multithreading unzipping is activated. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00413">TTreeCacheUnzip.cxx:413</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a81dde9c29c876a63261e5c74b37c4442"><div class="ttname"><a href="classTTreeCacheUnzip.html#a81dde9c29c876a63261e5c74b37c4442">TTreeCacheUnzip::UnzipBuffer</a></div><div class="ttdeci">Int_t UnzipBuffer(char **dest, char *src)</div><div class="ttdoc">Unzips a ROOT specific buffer... </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00849">TTreeCacheUnzip.cxx:849</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_ac78bbc770ed9bde000f22d1c733664f5"><div class="ttname"><a href="classTTreeCacheUnzip.html#ac78bbc770ed9bde000f22d1c733664f5">TTreeCacheUnzip::GetUnzipBuffer</a></div><div class="ttdeci">virtual Int_t GetUnzipBuffer(char **buf, Long64_t pos, Int_t len, Bool_t *free)</div><div class="ttdoc">We try to read a buffer that has already been unzipped Returns -1 in case of read failure...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00664">TTreeCacheUnzip.cxx:664</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a479c99585dcc0428f670b232a901c8f4"><div class="ttname"><a href="classTTreeCacheUnzip.html#a479c99585dcc0428f670b232a901c8f4">TTreeCacheUnzip::ReadBufferExt</a></div><div class="ttdeci">virtual Int_t ReadBufferExt(char *buf, Long64_t pos, Int_t len, Int_t &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00957">TTreeCacheUnzip.cxx:957</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a736a7587c3848ffacb0fd377b214ceb0"><div class="ttname"><a href="classTTreeCacheUnzip.html#a736a7587c3848ffacb0fd377b214ceb0">TTreeCacheUnzip::fUnzipTaskGroup</a></div><div class="ttdeci">std::unique_ptr&lt; ROOT::Experimental::TTaskGroup &gt; fUnzipTaskGroup</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00092">TTreeCacheUnzip.h:92</a></div></div>
<div class="ttc" id="classTTree_1_1TClusterIterator_html"><div class="ttname"><a href="classTTree_1_1TClusterIterator.html">TTree::TClusterIterator</a></div><div class="ttdoc">Helper class to iterate over cluster of baskets. </div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00246">TTree.h:246</a></div></div>
<div class="ttc" id="classTFile_html_a1789e0e9696c18dd6d702ccebab71f75"><div class="ttname"><a href="classTFile.html#a1789e0e9696c18dd6d702ccebab71f75">TFile::GetVersion</a></div><div class="ttdeci">Int_t GetVersion() const</div><div class="ttdef"><b>Definition:</b> <a href="TFile_8h_source.html#l00229">TFile.h:229</a></div></div>
<div class="ttc" id="Class_8C_html_adcfdef0a91f6e5dcab5b9c14cf964be5"><div class="ttname"><a href="Class_8C.html#adcfdef0a91f6e5dcab5b9c14cf964be5">Class</a></div><div class="ttdeci">void Class()</div><div class="ttdef"><b>Definition:</b> <a href="Class_8C_source.html#l00029">Class.C:29</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a4f5a5cb9b8ce810f0ef0bdc7c27bab24"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a4f5a5cb9b8ce810f0ef0bdc7c27bab24">TTreeCacheUnzip::UnzipState::SetUnzipped</a></div><div class="ttdeci">void SetUnzipped(Int_t index, char *buf, Int_t len)</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00139">TTreeCacheUnzip.cxx:139</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a95e3d6898949eae37b12151673d6f14a"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a95e3d6898949eae37b12151673d6f14a">TTreeCacheUnzip::UnzipState::SetMissed</a></div><div class="ttdeci">void SetMissed(Int_t index)</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00132">TTreeCacheUnzip.cxx:132</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_a8552f2e95594b064da29797037dff70d"><div class="ttname"><a href="classTFileCacheRead.html#a8552f2e95594b064da29797037dff70d">TFileCacheRead::fSeekLen</a></div><div class="ttdeci">Int_t * fSeekLen</div><div class="ttdoc">[fNseek] Length of buffers to be prefetched </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00047">TFileCacheRead.h:47</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a30a46089c9223349fe30a3ac08e2d8ee"><div class="ttname"><a href="RtypesCore_8h.html#a30a46089c9223349fe30a3ac08e2d8ee">Byte_t</a></div><div class="ttdeci">unsigned char Byte_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00060">RtypesCore.h:60</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_ac7555b5a7234ee3723d9746626533359"><div class="ttname"><a href="classTFileCacheRead.html#ac7555b5a7234ee3723d9746626533359">TFileCacheRead::fIsTransferred</a></div><div class="ttdeci">Bool_t fIsTransferred</div><div class="ttdoc">True when fBuffer contains something valid. </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00054">TFileCacheRead.h:54</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a153d4603d0347623955682204e14f010"><div class="ttname"><a href="classTTreeCacheUnzip.html#a153d4603d0347623955682204e14f010">TTreeCacheUnzip::fNMissed</a></div><div class="ttdeci">Int_t fNMissed</div><div class="ttdoc">! number of blocks that were not found in the cache and were unzipped </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00104">TTreeCacheUnzip.h:104</a></div></div>
<div class="ttc" id="classTEventList_html_af104e5bde546572cd8a04e01b4da4a87"><div class="ttname"><a href="classTEventList.html#af104e5bde546572cd8a04e01b4da4a87">TEventList::ContainsRange</a></div><div class="ttdeci">virtual Bool_t ContainsRange(Long64_t entrymin, Long64_t entrymax)</div><div class="ttdoc">Return TRUE if list contains entries from entrymin to entrymax included. </div><div class="ttdef"><b>Definition:</b> <a href="TEventList_8cxx_source.html#l00171">TEventList.cxx:171</a></div></div>
<div class="ttc" id="TTreeCacheUnzip_8cxx_html_a9f7294b7a73406af1a0aefa20afd87d7"><div class="ttname"><a href="TTreeCacheUnzip_8cxx.html#a9f7294b7a73406af1a0aefa20afd87d7">R__unzip_header</a></div><div class="ttdeci">int R__unzip_header(Int_t *nin, UChar_t *bufin, Int_t *lout)</div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a893b21747fd60c547472419c3284859c"><div class="ttname"><a href="classTTreeCacheUnzip.html#a893b21747fd60c547472419c3284859c">TTreeCacheUnzip::Print</a></div><div class="ttdeci">void Print(Option_t *option=&quot;&quot;) const</div><div class="ttdoc">Print cache statistics. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00943">TTreeCacheUnzip.cxx:943</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html"><div class="ttname"><a href="classTTreeCacheUnzip.html">TTreeCacheUnzip</a></div><div class="ttdoc"> A TTreeCache which exploits parallelized decompression of its own content. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00035">TTreeCacheUnzip.h:35</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a069523738ce4bf5511d8a9ffaf2d73d7"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a069523738ce4bf5511d8a9ffaf2d73d7">TTreeCacheUnzip::UnzipState::Reset</a></div><div class="ttdeci">void Reset(Int_t oldSize, Int_t newSize)</div><div class="ttdoc">Reset all baskets&amp;#39; state arrays. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00093">TTreeCacheUnzip.cxx:93</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a99e24f7650d6d020bf7f725b7c4930c5"><div class="ttname"><a href="classTTreeCacheUnzip.html#a99e24f7650d6d020bf7f725b7c4930c5">TTreeCacheUnzip::fParallel</a></div><div class="ttdeci">Bool_t fParallel</div><div class="ttdoc">Indicate if we want to activate the parallelism (for this instance) </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00084">TTreeCacheUnzip.h:84</a></div></div>
<div class="ttc" id="TEventList_8h_html"><div class="ttname"><a href="TEventList_8h.html">TEventList.h</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_a405aeed3b317d9cfc578d392225aa2f8"><div class="ttname"><a href="classTFileCacheRead.html#a405aeed3b317d9cfc578d392225aa2f8">TFileCacheRead::ReadBufferExt</a></div><div class="ttdeci">virtual Int_t ReadBufferExt(char *buf, Long64_t pos, Int_t len, Int_t &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8cxx_source.html#l00381">TFileCacheRead.cxx:381</a></div></div>
<div class="ttc" id="classTTreeCache_html_acccf97998732d2e0eb7840877128f827"><div class="ttname"><a href="classTTreeCache.html#acccf97998732d2e0eb7840877128f827">TTreeCache::fTree</a></div><div class="ttdeci">TTree * fTree</div><div class="ttdoc">! pointer to the current Tree </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00056">TTreeCache.h:56</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_acb0878343ac05d68bc72ecee009570db"><div class="ttname"><a href="classTTreeCacheUnzip.html#acb0878343ac05d68bc72ecee009570db">TTreeCacheUnzip::AddBranch</a></div><div class="ttdeci">virtual Int_t AddBranch(TBranch *b, Bool_t subbranches=kFALSE)</div><div class="ttdoc">Add a branch to the list of branches to be stored in the cache this function is called by TBranch::Ge...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00246">TTreeCacheUnzip.cxx:246</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_af0c1112d8f6af664a2b6a40d735b4cfd"><div class="ttname"><a href="classTTreeCacheUnzip.html#af0c1112d8f6af664a2b6a40d735b4cfd">TTreeCacheUnzip::fgRelBuffSize</a></div><div class="ttdeci">static Double_t fgRelBuffSize</div><div class="ttdoc">This is the percentage of the TTreeCacheUnzip that will be used. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00100">TTreeCacheUnzip.h:100</a></div></div>
<div class="ttc" id="classROOT_1_1TThreadExecutor_html"><div class="ttname"><a href="classROOT_1_1TThreadExecutor.html">ROOT::TThreadExecutor</a></div><div class="ttdoc">This class provides a simple interface to execute the same task multiple times in parallel...</div><div class="ttdef"><b>Definition:</b> <a href="TThreadExecutor_8hxx_source.html#l00035">TThreadExecutor.hxx:35</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a637c2e13e518e64a0d73ae6ceba70bbb"><div class="ttname"><a href="classTTreeCacheUnzip.html#a637c2e13e518e64a0d73ae6ceba70bbb">TTreeCacheUnzip::~TTreeCacheUnzip</a></div><div class="ttdeci">virtual ~TTreeCacheUnzip()</div><div class="ttdoc">Destructor. (in general called by the TFile destructor) </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00233">TTreeCacheUnzip.cxx:233</a></div></div>
<div class="ttc" id="classTTreeCache_html_a5e047bf819ea71e557089293881e7fdd"><div class="ttname"><a href="classTTreeCache.html#a5e047bf819ea71e557089293881e7fdd">TTreeCache::SetEntryRange</a></div><div class="ttdeci">virtual void SetEntryRange(Long64_t emin, Long64_t emax)</div><div class="ttdoc">Set the minimum and maximum entry number to be processed this information helps to optimize the numbe...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8cxx_source.html#l02071">TTreeCache.cxx:2071</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a8fe3ceac8691bb78b5ae834df8fb8810"><div class="ttname"><a href="classTTreeCacheUnzip.html#a8fe3ceac8691bb78b5ae834df8fb8810">TTreeCacheUnzip::fIOMutex</a></div><div class="ttdeci">std::unique_ptr&lt; TMutex &gt; fIOMutex</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00086">TTreeCacheUnzip.h:86</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a9237c3a1fb7fcbe0c1437c3ff0a32ef4"><div class="ttname"><a href="classTTreeCacheUnzip.html#a9237c3a1fb7fcbe0c1437c3ff0a32ef4">TTreeCacheUnzip::CreateTasks</a></div><div class="ttdeci">Int_t CreateTasks()</div><div class="ttdoc">We create a TTaskGroup and asynchronously maps each group of baskets(&gt; 100 kB in total) to a task...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00609">TTreeCacheUnzip.cxx:609</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_a3f90e678f15010fc7007d7e2af2a7703"><div class="ttname"><a href="classTFileCacheRead.html#a3f90e678f15010fc7007d7e2af2a7703">TFileCacheRead::fSeekIndex</a></div><div class="ttdeci">Int_t * fSeekIndex</div><div class="ttdoc">[fNseek] sorted index table of fSeek </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00045">TFileCacheRead.h:45</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_adc3ee827b6ddaeb7c34b7532df0730d4a69274c028f4a318d8c893aec49af683d"><div class="ttname"><a href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4a69274c028f4a318d8c893aec49af683d">TTreeCacheUnzip::kEnable</a></div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00040">TTreeCacheUnzip.h:40</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a348160f2e4bb177a608173c605df9478a97d5f4fb8600b14a1c89387df0a55ab2"><div class="ttname"><a href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a97d5f4fb8600b14a1c89387df0a55ab2">TTreeCacheUnzip::kUntouched</a></div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00043">TTreeCacheUnzip.h:43</a></div></div>
<div class="ttc" id="classTTreeCache_html_a937f1ea0cae87f4e5a423b0814303d19"><div class="ttname"><a href="classTTreeCache.html#a937f1ea0cae87f4e5a423b0814303d19">TTreeCache::GetTree</a></div><div class="ttdeci">TTree * GetTree() const</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00152">TTreeCache.h:152</a></div></div>
<div class="ttc" id="RMakeUnique_8hxx_html"><div class="ttname"><a href="RMakeUnique_8hxx.html">RMakeUnique.hxx</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a5bd0224445d6a7d23d51f59278e14ef5"><div class="ttname"><a href="classTTreeCacheUnzip.html#a5bd0224445d6a7d23d51f59278e14ef5">TTreeCacheUnzip::fNseekMax</a></div><div class="ttdeci">Int_t fNseekMax</div><div class="ttdoc">! fNseek can change so we need to know its max size </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00096">TTreeCacheUnzip.h:96</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_ae65d790b90703443b64c2afce335ca1f"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#ae65d790b90703443b64c2afce335ca1f">TTreeCacheUnzip::UnzipState::IsUntouched</a></div><div class="ttdeci">Bool_t IsUntouched(Int_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00063">TTreeCacheUnzip.cxx:63</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a7c1bc4939263cb6c0f48e434d77ac258"><div class="ttname"><a href="RtypesCore_8h.html#a7c1bc4939263cb6c0f48e434d77ac258">UInt_t</a></div><div class="ttdeci">unsigned int UInt_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00042">RtypesCore.h:42</a></div></div>
<div class="ttc" id="classROOT_1_1Experimental_1_1TTaskGroup_html"><div class="ttname"><a href="classROOT_1_1Experimental_1_1TTaskGroup.html">ROOT::Experimental::TTaskGroup</a></div><div class="ttdoc"> A class to manage the asynchronous execution of work items. </div><div class="ttdef"><b>Definition:</b> <a href="TTaskGroup_8hxx_source.html#l00021">TTaskGroup.hxx:21</a></div></div>
<div class="ttc" id="classTObject_html_abe1fb206304cfa1b8d1e77a4a4fd0120"><div class="ttname"><a href="classTObject.html#abe1fb206304cfa1b8d1e77a4a4fd0120">TObject::Error</a></div><div class="ttdeci">virtual void Error(const char *method, const char *msgfmt,...) const</div><div class="ttdoc">Issue error message. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00880">TObject.cxx:880</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_adc3ee827b6ddaeb7c34b7532df0730d4"><div class="ttname"><a href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4">TTreeCacheUnzip::EParUnzipMode</a></div><div class="ttdeci">EParUnzipMode</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00040">TTreeCacheUnzip.h:40</a></div></div>
<div class="ttc" id="TTreeCacheUnzip_8h_html"><div class="ttname"><a href="TTreeCacheUnzip_8h.html">TTreeCacheUnzip.h</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_af976bf4d25d51e13b6ce00a18f207021"><div class="ttname"><a href="classTTreeCacheUnzip.html#af976bf4d25d51e13b6ce00a18f207021">TTreeCacheUnzip::GetParallelUnzip</a></div><div class="ttdeci">static EParUnzipMode GetParallelUnzip()</div><div class="ttdoc">Static function that returns the parallel option (to indicate an additional thread) ...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00405">TTreeCacheUnzip.cxx:405</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_ab45b4db521647ab29b906b66cb66ea67"><div class="ttname"><a href="RtypesCore_8h.html#ab45b4db521647ab29b906b66cb66ea67">Short_t</a></div><div class="ttdeci">short Short_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00035">RtypesCore.h:35</a></div></div>
<div class="ttc" id="classTEventList_html"><div class="ttname"><a href="classTEventList.html">TEventList</a></div><div class="ttdoc">A TEventList object is a list of selected events (entries) in a TTree. </div><div class="ttdef"><b>Definition:</b> <a href="TEventList_8h_source.html#l00031">TEventList.h:31</a></div></div>
<div class="ttc" id="TThreadExecutor_8hxx_html"><div class="ttname"><a href="TThreadExecutor_8hxx.html">TThreadExecutor.hxx</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a2fc1ec373a138756280814c9383edbd9"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a2fc1ec373a138756280814c9383edbd9">TTreeCacheUnzip::UnzipState::fUnzipStatus</a></div><div class="ttdeci">std::atomic&lt; Byte_t &gt; * fUnzipStatus</div><div class="ttdoc">! [fNSeek] </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00053">TTreeCacheUnzip.h:53</a></div></div>
<div class="ttc" id="TChain_8h_html"><div class="ttname"><a href="TChain_8h.html">TChain.h</a></div></div>
<div class="ttc" id="TMutex_8h_html"><div class="ttname"><a href="TMutex_8h.html">TMutex.h</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a21710728e8e4750acab450351ea2daa2"><div class="ttname"><a href="classTTreeCacheUnzip.html#a21710728e8e4750acab450351ea2daa2">TTreeCacheUnzip::fCompBuffer</a></div><div class="ttdeci">char * fCompBuffer</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00112">TTreeCacheUnzip.h:112</a></div></div>
<div class="ttc" id="classTTreeCache_html_acc432dd0f6aa4ca1ea7c1f61d54c3cb6"><div class="ttname"><a href="classTTreeCache.html#acc432dd0f6aa4ca1ea7c1f61d54c3cb6">TTreeCache::fNReadPref</a></div><div class="ttdeci">Int_t fNReadPref</div><div class="ttdoc">Number of blocks that were prefetched. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00052">TTreeCache.h:52</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a7e568baf910535e8ffd438acb843434d"><div class="ttname"><a href="RtypesCore_8h.html#a7e568baf910535e8ffd438acb843434d">kFALSE</a></div><div class="ttdeci">const Bool_t kFALSE</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00088">RtypesCore.h:88</a></div></div>
<div class="ttc" id="classTTreeCache_html_aace41c8c93d50f9883b41d0dab4a82ad"><div class="ttname"><a href="classTTreeCache.html#aace41c8c93d50f9883b41d0dab4a82ad">TTreeCache::fEntryCurrent</a></div><div class="ttdeci">Long64_t fEntryCurrent</div><div class="ttdoc">! current lowest entry number in the cache </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00043">TTreeCache.h:43</a></div></div>
<div class="ttc" id="classTObjArray_html_adad86863df1b961853b07e36afb6a0ae"><div class="ttname"><a href="classTObjArray.html#adad86863df1b961853b07e36afb6a0ae">TObjArray::UncheckedAt</a></div><div class="ttdeci">TObject * UncheckedAt(Int_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="TObjArray_8h_source.html#l00090">TObjArray.h:90</a></div></div>
<div class="ttc" id="classTTreeCache_html_af6c3a5d50e23aeffecf0f59b4e941f90"><div class="ttname"><a href="classTTreeCache.html#af6c3a5d50e23aeffecf0f59b4e941f90">TTreeCache::Print</a></div><div class="ttdeci">virtual void Print(Option_t *option=&quot;&quot;) const</div><div class="ttdoc">Print cache statistics. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8cxx_source.html#l01878">TTreeCache.cxx:1878</a></div></div>
<div class="ttc" id="Rtypes_8h_html_a3f9bf160bbbb44209e95556960836b96"><div class="ttname"><a href="Rtypes_8h.html#a3f9bf160bbbb44209e95556960836b96">ClassImp</a></div><div class="ttdeci">#define ClassImp(name)</div><div class="ttdef"><b>Definition:</b> <a href="Rtypes_8h_source.html#l00365">Rtypes.h:365</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a028d77f1a5867e81994419a8bfae4e1b"><div class="ttname"><a href="classTTreeCacheUnzip.html#a028d77f1a5867e81994419a8bfae4e1b">TTreeCacheUnzip::fCompBufferSize</a></div><div class="ttdeci">Int_t fCompBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00113">TTreeCacheUnzip.h:113</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_ab18cfdecb28e03c2ac61d06ce189f10b"><div class="ttname"><a href="classTTreeCacheUnzip.html#ab18cfdecb28e03c2ac61d06ce189f10b">TTreeCacheUnzip::fUnzipGroupSize</a></div><div class="ttdeci">Int_t fUnzipGroupSize</div><div class="ttdoc">! Min accumulated size of a group of baskets ready to be unzipped by a IMT task </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00097">TTreeCacheUnzip.h:97</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_ab9b5334647b78ec4256db251e3ae1fc6"><div class="ttname"><a href="RtypesCore_8h.html#ab9b5334647b78ec4256db251e3ae1fc6">Double_t</a></div><div class="ttdeci">double Double_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00055">RtypesCore.h:55</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a039390ade88557a068940bb22913250e"><div class="ttname"><a href="classTTreeCacheUnzip.html#a039390ade88557a068940bb22913250e">TTreeCacheUnzip::fCycle</a></div><div class="ttdeci">Int_t fCycle</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00083">TTreeCacheUnzip.h:83</a></div></div>
<div class="ttc" id="classTTreeCache_html_a4df8bea1fc93ec5fdbdd0de11b4b6640"><div class="ttname"><a href="classTTreeCache.html#a4df8bea1fc93ec5fdbdd0de11b4b6640">TTreeCache::fIsLearning</a></div><div class="ttdeci">Bool_t fIsLearning</div><div class="ttdoc">! true if cache is in learning mode </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00057">TTreeCache.h:57</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_aa8e74588ce4ce8d034368f0672ce7f00"><div class="ttname"><a href="classTTreeCacheUnzip.html#aa8e74588ce4ce8d034368f0672ce7f00">TTreeCacheUnzip::fUnzipBufferSize</a></div><div class="ttdeci">Long64_t fUnzipBufferSize</div><div class="ttdoc">! Max Size for the ready unzipped blocks (default is 2*fBufferSize) </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00098">TTreeCacheUnzip.h:98</a></div></div>
<div class="ttc" id="classTChain_html_a41098c767607c2e31c9113df4162fabd"><div class="ttname"><a href="classTChain.html#a41098c767607c2e31c9113df4162fabd">TChain::GetTreeNumber</a></div><div class="ttdeci">virtual Int_t GetTreeNumber() const</div><div class="ttdef"><b>Definition:</b> <a href="TChain_8h_source.html#l00117">TChain.h:117</a></div></div>
<div class="ttc" id="TEnv_8h_html_a11202e6eff8457ae349087e34c0549c9"><div class="ttname"><a href="TEnv_8h.html#a11202e6eff8457ae349087e34c0549c9">gEnv</a></div><div class="ttdeci">R__EXTERN TEnv * gEnv</div><div class="ttdef"><b>Definition:</b> <a href="TEnv_8h_source.html#l00171">TEnv.h:171</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_aec6f306d78be3f64e77d7cc7766106a7"><div class="ttname"><a href="classTFileCacheRead.html#aec6f306d78be3f64e77d7cc7766106a7">TFileCacheRead::GetBufferSize</a></div><div class="ttdeci">virtual Int_t GetBufferSize() const</div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00088">TFileCacheRead.h:88</a></div></div>
<div class="ttc" id="civetweb_8c_html_a2c6efa7679f8cd9f61af96e105017560"><div class="ttname"><a href="civetweb_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a></div><div class="ttdeci">#define free</div><div class="ttdef"><b>Definition:</b> <a href="civetweb_8c_source.html#l01539">civetweb.c:1539</a></div></div>
<div class="ttc" id="TVirtualMutex_8h_html_ada1389ee791f98b34e54ba0c3965a997"><div class="ttname"><a href="TVirtualMutex_8h.html#ada1389ee791f98b34e54ba0c3965a997">R__LOCKGUARD</a></div><div class="ttdeci">#define R__LOCKGUARD(mutex)</div><div class="ttdef"><b>Definition:</b> <a href="TVirtualMutex_8h_source.html#l00106">TVirtualMutex.h:106</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a049863eb4ba310bf0bd292f2f26e2f4f"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a049863eb4ba310bf0bd292f2f26e2f4f">TTreeCacheUnzip::UnzipState::IsFinished</a></div><div class="ttdeci">Bool_t IsFinished(Int_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00075">TTreeCacheUnzip.cxx:75</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a0de6204720b6768db07abf03ffc1ea5d"><div class="ttname"><a href="classTTreeCacheUnzip.html#a0de6204720b6768db07abf03ffc1ea5d">TTreeCacheUnzip::Init</a></div><div class="ttdeci">void Init()</div><div class="ttdoc">Initialization procedure common to all the constructors. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00194">TTreeCacheUnzip.cxx:194</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a8688ebaea7131a6cc92f3590848df992"><div class="ttname"><a href="classTTreeCacheUnzip.html#a8688ebaea7131a6cc92f3590848df992">TTreeCacheUnzip::SetUnzipRelBufferSize</a></div><div class="ttdeci">static void SetUnzipRelBufferSize(Float_t relbufferSize)</div><div class="ttdoc">static function: Sets the unzip relatibe buffer size </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00826">TTreeCacheUnzip.cxx:826</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_a61fb52c6d0a569ee7bbacfc82826ee14"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#a61fb52c6d0a569ee7bbacfc82826ee14">TTreeCacheUnzip::UnzipState::fUnzipLen</a></div><div class="ttdeci">std::vector&lt; Int_t &gt; fUnzipLen</div><div class="ttdoc">! [fNseek] Length of the unzipped buffers </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00052">TTreeCacheUnzip.h:52</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a7016b01944ccea1ebdb8a4798258e512"><div class="ttname"><a href="classTTreeCacheUnzip.html#a7016b01944ccea1ebdb8a4798258e512">TTreeCacheUnzip::fgParallel</a></div><div class="ttdeci">static TTreeCacheUnzip::EParUnzipMode fgParallel</div><div class="ttdoc">Indicate if we want to activate the parallelism. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00088">TTreeCacheUnzip.h:88</a></div></div>
<div class="ttc" id="classTTreeCache_html_a1a82515e3c606135d21017d8bc120d50"><div class="ttname"><a href="classTTreeCache.html#a1a82515e3c606135d21017d8bc120d50">TTreeCache::SetBufferSize</a></div><div class="ttdeci">virtual Int_t SetBufferSize(Int_t buffersize)</div><div class="ttdoc">Change the underlying buffer size of the cache. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8cxx_source.html#l02038">TTreeCache.cxx:2038</a></div></div>
<div class="ttc" id="TTreeCacheUnzip_8cxx_html_a2ae43fb3a12053823a206367da9046f0"><div class="ttname"><a href="TTreeCacheUnzip_8cxx.html#a2ae43fb3a12053823a206367da9046f0">R__unzip</a></div><div class="ttdeci">void R__unzip(Int_t *nin, UChar_t *bufin, Int_t *lout, char *bufout, Int_t *nout)</div></div>
<div class="ttc" id="classTTreeCache_html_ae754f89dab5a798875577de20b145c21"><div class="ttname"><a href="classTTreeCache.html#ae754f89dab5a798875577de20b145c21">TTreeCache::fNbranches</a></div><div class="ttdeci">Int_t fNbranches</div><div class="ttdoc">! Number of branches in the cache </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00047">TTreeCache.h:47</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a348160f2e4bb177a608173c605df9478a39ac3c395bfa00d4b0b8eb2016930507"><div class="ttname"><a href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a39ac3c395bfa00d4b0b8eb2016930507">TTreeCacheUnzip::kFinished</a></div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00043">TTreeCacheUnzip.h:43</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_a442f97dbb6148a8dfdcf19303d24b694"><div class="ttname"><a href="classTFileCacheRead.html#a442f97dbb6148a8dfdcf19303d24b694">TFileCacheRead::fSeekSort</a></div><div class="ttdeci">Long64_t * fSeekSort</div><div class="ttdoc">[fNseek] Position on file of buffers to be prefetched (sorted) </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00044">TFileCacheRead.h:44</a></div></div>
<div class="ttc" id="textangle_8C_html_a3359d7f1aa9fe2f8bc884b02020e8d20"><div class="ttname"><a href="textangle_8C.html#a3359d7f1aa9fe2f8bc884b02020e8d20">l</a></div><div class="ttdeci">auto * l</div><div class="ttdef"><b>Definition:</b> <a href="textangle_8C_source.html#l00004">textangle.C:4</a></div></div>
<div class="ttc" id="triangle_8c_html_aa22f343c7ac709eab3fdd162721759a1"><div class="ttname"><a href="triangle_8c.html#aa22f343c7ac709eab3fdd162721759a1">dest</a></div><div class="ttdeci">#define dest(otri, vertexptr)</div><div class="ttdef"><b>Definition:</b> <a href="triangle_8c_source.html#l01040">triangle.c:1040</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_aba6e0f960622c01c80a4440058192850"><div class="ttname"><a href="classTFileCacheRead.html#aba6e0f960622c01c80a4440058192850">TFileCacheRead::fSeek</a></div><div class="ttdeci">Long64_t * fSeek</div><div class="ttdoc">[fNseek] Position on file of buffers to be prefetched </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00043">TFileCacheRead.h:43</a></div></div>
<div class="ttc" id="classTChain_html"><div class="ttname"><a href="classTChain.html">TChain</a></div><div class="ttdoc">A chain is a collection of files containing TTree objects. </div><div class="ttdef"><b>Definition:</b> <a href="TChain_8h_source.html#l00034">TChain.h:34</a></div></div>
<div class="ttc" id="TRolke_8cxx_html_a1a2354f40e332ad13673b70afc2c0dbf"><div class="ttname"><a href="TRolke_8cxx.html#a1a2354f40e332ad13673b70afc2c0dbf">b</a></div><div class="ttdeci">you should not use this method at all Int_t Int_t Double_t Double_t Double_t Int_t Double_t Double_t Double_t Double_t b</div><div class="ttdef"><b>Definition:</b> <a href="TRolke_8cxx_source.html#l00630">TRolke.cxx:630</a></div></div>
<div class="ttc" id="Rtypes_8h_html_ad611664b9a0b9de80e76e795779839be"><div class="ttname"><a href="Rtypes_8h.html#ad611664b9a0b9de80e76e795779839be">gDebug</a></div><div class="ttdeci">R__EXTERN Int_t gDebug</div><div class="ttdef"><b>Definition:</b> <a href="Rtypes_8h_source.html#l00091">Rtypes.h:91</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a91bad47b7f918512a512d351ba07f406"><div class="ttname"><a href="classTTreeCacheUnzip.html#a91bad47b7f918512a512d351ba07f406">TTreeCacheUnzip::fEmpty</a></div><div class="ttdeci">Bool_t fEmpty</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00082">TTreeCacheUnzip.h:82</a></div></div>
<div class="ttc" id="namespacetree_html"><div class="ttname"><a href="namespacetree.html">tree</a></div><div class="ttdef"><b>Definition:</b> <a href="tree_8py_source.html#l00001">tree.py:1</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a0368f3f01f88c9928c63db55e96cf5aa"><div class="ttname"><a href="classTTreeCacheUnzip.html#a0368f3f01f88c9928c63db55e96cf5aa">TTreeCacheUnzip::fUnzipState</a></div><div class="ttdeci">UnzipState_t fUnzipState</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00078">TTreeCacheUnzip.h:78</a></div></div>
<div class="ttc" id="classTTree_html"><div class="ttname"><a href="classTTree.html">TTree</a></div><div class="ttdoc">A TTree represents a columnar dataset. </div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00071">TTree.h:71</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_a64926e032e221b6f9a7a97ceac657223"><div class="ttname"><a href="RtypesCore_8h.html#a64926e032e221b6f9a7a97ceac657223">UChar_t</a></div><div class="ttdeci">unsigned char UChar_t</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00034">RtypesCore.h:34</a></div></div>
<div class="ttc" id="classTTree_html_a8721271fee765d253a8170bf41ccc4d5"><div class="ttname"><a href="classTTree.html#a8721271fee765d253a8170bf41ccc4d5">TTree::GetEventList</a></div><div class="ttdeci">TEventList * GetEventList() const</div><div class="ttdef"><b>Definition:</b> <a href="TTree_8h_source.html#l00412">TTree.h:412</a></div></div>
<div class="ttc" id="structTTreeCacheUnzip_1_1UnzipState_html_af27af2e8d5a4b4b1fecf5dd62d01c2e2"><div class="ttname"><a href="structTTreeCacheUnzip_1_1UnzipState.html#af27af2e8d5a4b4b1fecf5dd62d01c2e2">TTreeCacheUnzip::UnzipState::SetFinished</a></div><div class="ttdeci">void SetFinished(Int_t index)</div><div class="ttdoc">Set cache as finished. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00124">TTreeCacheUnzip.cxx:124</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_adc3ee827b6ddaeb7c34b7532df0730d4aeb43e79c0cd32e7d0be769dd99d8d244"><div class="ttname"><a href="classTTreeCacheUnzip.html#adc3ee827b6ddaeb7c34b7532df0730d4aeb43e79c0cd32e7d0be769dd99d8d244">TTreeCacheUnzip::kForce</a></div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00040">TTreeCacheUnzip.h:40</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a348160f2e4bb177a608173c605df9478a85bacf63f15d6586a451674c4068164b"><div class="ttname"><a href="classTTreeCacheUnzip.html#a348160f2e4bb177a608173c605df9478a85bacf63f15d6586a451674c4068164b">TTreeCacheUnzip::kProgress</a></div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00043">TTreeCacheUnzip.h:43</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_ad8bad3fa3a73c5665b553c6d4b5228ac"><div class="ttname"><a href="classTTreeCacheUnzip.html#ad8bad3fa3a73c5665b553c6d4b5228ac">TTreeCacheUnzip::fAsyncReading</a></div><div class="ttdeci">Bool_t fAsyncReading</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8h_source.html#l00081">TTreeCacheUnzip.h:81</a></div></div>
<div class="ttc" id="classTObject_html_a1d6abd2708ecd7578d7ff03c07037bd1"><div class="ttname"><a href="classTObject.html#a1d6abd2708ecd7578d7ff03c07037bd1">TObject::GetName</a></div><div class="ttdeci">virtual const char * GetName() const</div><div class="ttdoc">Returns name of object. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00357">TObject.cxx:357</a></div></div>
<div class="ttc" id="TMath_8h_html"><div class="ttname"><a href="TMath_8h.html">TMath.h</a></div></div>
<div class="ttc" id="classTBranch_html"><div class="ttname"><a href="classTBranch.html">TBranch</a></div><div class="ttdoc">A TTree is a list of TBranches. </div><div class="ttdef"><b>Definition:</b> <a href="TBranch_8h_source.html#l00065">TBranch.h:65</a></div></div>
<div class="ttc" id="classTTreeCache_html_a43442eb721b50d952c08eddcd40979b9"><div class="ttname"><a href="classTTreeCache.html#a43442eb721b50d952c08eddcd40979b9">TTreeCache::fEntryNext</a></div><div class="ttdeci">Long64_t fEntryNext</div><div class="ttdoc">! next entry number where cache must be filled </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8h_source.html#l00044">TTreeCache.h:44</a></div></div>
<div class="ttc" id="classTEnv_html_a1311d2dfe5c00b40e9f4a4fdf046f0e3"><div class="ttname"><a href="classTEnv.html#a1311d2dfe5c00b40e9f4a4fdf046f0e3">TEnv::GetValue</a></div><div class="ttdeci">virtual Int_t GetValue(const char *name, Int_t dflt) const</div><div class="ttdoc">Returns the integer value for a resource. </div><div class="ttdef"><b>Definition:</b> <a href="TEnv_8cxx_source.html#l00491">TEnv.cxx:491</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a2f4f22b6f6dad3a47c6858d2b00a6a81"><div class="ttname"><a href="classTTreeCacheUnzip.html#a2f4f22b6f6dad3a47c6858d2b00a6a81">TTreeCacheUnzip::SetEntryRange</a></div><div class="ttdeci">void SetEntryRange(Long64_t emin, Long64_t emax)</div><div class="ttdoc">Set the minimum and maximum entry number to be processed this information helps to optimize the numbe...</div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00373">TTreeCacheUnzip.cxx:373</a></div></div>
<div class="ttc" id="classTTreeCache_html_a0355d0aa0ebcda683c6f2e640f83e8fc"><div class="ttname"><a href="classTTreeCache.html#a0355d0aa0ebcda683c6f2e640f83e8fc">TTreeCache::UpdateBranches</a></div><div class="ttdeci">virtual void UpdateBranches(TTree *tree)</div><div class="ttdoc">Update pointer to current Tree and recompute pointers to the branches in the cache. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCache_8cxx_source.html#l02176">TTreeCache.cxx:2176</a></div></div>
<div class="ttc" id="RtypesCore_8h_html_af2f51d30ccd86e85be3e3e69793a86ef"><div class="ttname"><a href="RtypesCore_8h.html#af2f51d30ccd86e85be3e3e69793a86ef">kTRUE</a></div><div class="ttdeci">const Bool_t kTRUE</div><div class="ttdef"><b>Definition:</b> <a href="RtypesCore_8h_source.html#l00087">RtypesCore.h:87</a></div></div>
<div class="ttc" id="TEnv_8h_html"><div class="ttname"><a href="TEnv_8h.html">TEnv.h</a></div></div>
<div class="ttc" id="classTTreeCacheUnzip_html_a100699b65ecc2a93dcaf4656f54c7814"><div class="ttname"><a href="classTTreeCacheUnzip.html#a100699b65ecc2a93dcaf4656f54c7814">TTreeCacheUnzip::UnzipCache</a></div><div class="ttdeci">Int_t UnzipCache(Int_t index)</div><div class="ttdoc">This inflates a basket in the cache. </div><div class="ttdef"><b>Definition:</b> <a href="TTreeCacheUnzip_8cxx_source.html#l00524">TTreeCacheUnzip.cxx:524</a></div></div>
<div class="ttc" id="namespaceTMath_html_ae8a206ba974de95acd806a4516418e53"><div class="ttname"><a href="namespaceTMath.html#ae8a206ba974de95acd806a4516418e53">TMath::BinarySearch</a></div><div class="ttdeci">Long64_t BinarySearch(Long64_t n, const T *array, T value)</div><div class="ttdef"><b>Definition:</b> <a href="TMathBase_8h_source.html#l00278">TMathBase.h:278</a></div></div>
<div class="ttc" id="classTObject_html_a75fddd7eef38a13c1374130ec7dc5cf8"><div class="ttname"><a href="classTObject.html#a75fddd7eef38a13c1374130ec7dc5cf8">TObject::Warning</a></div><div class="ttdeci">virtual void Warning(const char *method, const char *msgfmt,...) const</div><div class="ttdoc">Issue warning message. </div><div class="ttdef"><b>Definition:</b> <a href="TObject_8cxx_source.html#l00866">TObject.cxx:866</a></div></div>
<div class="ttc" id="classTFile_html_abbc422bb53830debbfd0f9d955c32ac5"><div class="ttname"><a href="classTFile.html#abbc422bb53830debbfd0f9d955c32ac5">TFile::ReadBufferAsync</a></div><div class="ttdeci">virtual Bool_t ReadBufferAsync(Long64_t offs, Int_t len)</div><div class="ttdef"><b>Definition:</b> <a href="TFile_8cxx_source.html#l05075">TFile.cxx:5075</a></div></div>
<div class="ttc" id="classTFileCacheRead_html_ad10972694bef4afe375cbdf0f9cddd29"><div class="ttname"><a href="classTFileCacheRead.html#ad10972694bef4afe375cbdf0f9cddd29">TFileCacheRead::fNseek</a></div><div class="ttdeci">Int_t fNseek</div><div class="ttdoc">Number of blocks to be prefetched. </div><div class="ttdef"><b>Definition:</b> <a href="TFileCacheRead_8h_source.html#l00039">TFileCacheRead.h:39</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<html>
<body>
<div id="footer" style="background-color:#E5EBF3;">
<small>
<img class="footer" src="rootlogo_s.gif" alt="root"/></a>
ROOT 6.18/03 - Reference Guide Generated on Thu Aug 29 2019 04:09:49 (GVA Time) using Doxygen 1.8.14.
</small>
</div>
</body>
</html>
